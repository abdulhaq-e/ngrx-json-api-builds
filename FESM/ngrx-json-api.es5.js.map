{"version":3,"file":"ngrx-json-api.es5.js","sources":["../../ngrx-json-api.ts","../../src/module.ts","../../src/reducers.ts","../../src/effects.ts","../../src/api.ts","../../src/pipes.ts","../../src/services.ts","../../src/actions.ts","../../src/selectors.ts","../../src/utils.ts","../../src/interfaces.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport {SelectStoreResourcePipe,DenormaliseStoreResourcePipe,GetDenormalisedValuePipe,FindOptions,NgrxJsonApiService,NgrxJsonApiZoneService,PutQueryOptions,PostResourceOptions,PatchResourceOptions,NewResourceOptions,DeleteResourceOptions,NgrxJsonApiModule,NGRX_JSON_API_CONFIG,uuid,NGRX_JSON_API_DEFAULT_ZONE,Direction,Document,FilteringParam,FilteringOperator,ManyResourceRelationship,TypedManyResourceRelationship,TypedOneResourceRelationship,NgrxJsonApiConfig,NgrxJsonApiState,NgrxJsonApiZones,NgrxJsonApiStore,NgrxJsonApiZone,NgrxJsonApiStoreData,NgrxJsonApiStoreQueries,NgrxJsonApiStoreResources,NgrxJsonApiFilteringConfig,NgrxJsonApiUrlBuilder,OperationType,OneResourceRelationship,ErrorModificationType,ModifyStoreResourceErrorsPayload,Payload,Query,QueryParams,Resource,ResourceAttributeDefinition,ResourceDefinition,ResourceError,ResourceErrorSource,ResourceIdentifier,ResourceRelationship,ResourceRelationDefinition,ResourceRelationType,ResourceState,SortingParam,QueryResult,ManyQueryResult,OneQueryResult,StoreQuery,StoreResource,NgrxJsonApiActionTypes,ApiApplyInitPayload,ApiApplyRollbackPayload,NgrxJsonApiAction,ApiApplyInitAction,ApiApplySuccessAction,ApiApplyFailAction,ApiPostInitAction,ApiPostSuccessAction,ApiPostFailAction,ApiDeleteInitAction,ApiDeleteSuccessAction,ApiDeleteFailAction,ApiGetInitAction,ApiGetSuccessAction,ApiGetFailAction,ApiRollbackAction,ApiPatchInitAction,ApiPatchSuccessAction,ApiPatchFailAction,DeleteStoreResourceAction,PatchStoreResourceAction,NewStoreResourceAction,PostStoreResourceAction,RemoveQueryAction,LocalQueryInitAction,LocalQuerySuccessAction,LocalQueryFailAction,CompactStoreAction,ClearStoreAction,ApiQueryRefreshAction,ModifyStoreResourceErrorsAction,NgrxJsonApiActions,selectNgrxJson,selectNgrxJsonApiDefaultZone,selectNgrxJsonApiZone,getNgrxJsonApiZone,selectStoreQuery,selectStoreResourcesOfType,selectStoreResource,selectManyQueryResult,selectOneQueryResult,getNgrxJsonApiStore,NgrxJsonApiSelectors} from './index';\n\nexport {NgrxJsonApi as ɵf} from './src/api';\nexport {NgrxJsonApiEffects as ɵe} from './src/effects';\nexport {apiFactory as ɵa,configure as ɵd,selectorsFactory as ɵb,serviceFactory as ɵc} from './src/module';\nexport {NgrxJsonApiStoreReducer as ɵg,reducer as ɵh} from './src/reducers';","import {InjectionToken, ModuleWithProviders, NgModule} from '@angular/core';\n\nimport { HttpClient } from '@angular/common/http';\n\nimport { Store, StoreModule } from '@ngrx/store';\nimport { EffectsModule } from '@ngrx/effects';\n\nimport { NgrxJsonApi } from './api';\nimport { NgrxJsonApiEffects } from './effects';\nimport { NgrxJsonApiService } from './services';\nimport { reducer } from './reducers';\nimport {\n  DenormaliseStoreResourcePipe,\n  GetDenormalisedValuePipe,\n  SelectStoreResourcePipe,\n} from './pipes';\n\nimport { NgrxJsonApiConfig } from './interfaces';\nimport {NgrxJsonApiSelectors} from './selectors';\n\nexport const /** @type {?} */ NGRX_JSON_API_CONFIG = new InjectionToken<NgrxJsonApiConfig>('NGRX_JSON_API_CONFIG');\n/**\n * @param {?} http\n * @param {?} config\n * @return {?}\n */\nexport function apiFactory(http: HttpClient, config: NgrxJsonApiConfig) {\n  return new NgrxJsonApi(http, config);\n}\n/**\n * Deprecated, do not use any longer\n * @return {?}\n */\nexport function selectorsFactory() {\n  return new NgrxJsonApiSelectors();\n}\n/**\n * @param {?} store\n * @param {?} config\n * @return {?}\n */\nexport function serviceFactory(\n  store: Store<any>,\n  config: NgrxJsonApiConfig\n) {\n  return new NgrxJsonApiService(store, config);\n}\n/**\n * @param {?} config\n * @return {?}\n */\nexport function configure(config: NgrxJsonApiConfig): Array<any> {\n  return [\n    {\n      provide: NgrxJsonApi,\n      useFactory: apiFactory,\n      deps: [HttpClient, NGRX_JSON_API_CONFIG],\n    },\n    {\n      provide: NgrxJsonApiSelectors,\n      useFactory: selectorsFactory,\n    },\n    {\n      provide: NgrxJsonApiService,\n      useFactory: serviceFactory,\n      deps: [Store, NGRX_JSON_API_CONFIG],\n    },\n    {\n      provide: NGRX_JSON_API_CONFIG,\n      useValue: config,\n    },\n  ];\n}\nexport class NgrxJsonApiModule {\n/**\n * @param {?} config\n * @return {?}\n */\nstatic configure(config: NgrxJsonApiConfig): ModuleWithProviders {\n    return {\n      ngModule: NgrxJsonApiModule,\n      providers: configure(config),\n    };\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  declarations: [\n    DenormaliseStoreResourcePipe,\n    GetDenormalisedValuePipe,\n    SelectStoreResourcePipe,\n  ],\n  imports: [\n    EffectsModule.forFeature([NgrxJsonApiEffects]),\n    StoreModule.forFeature('NgrxJsonApi', reducer, {}),\n  ],\n  exports: [\n    DenormaliseStoreResourcePipe,\n    GetDenormalisedValuePipe,\n    SelectStoreResourcePipe,\n  ],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction NgrxJsonApiModule_tsickle_Closure_declarations() {\n/** @type {?} */\nNgrxJsonApiModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nNgrxJsonApiModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Action } from '@ngrx/store';\n\nimport {\n  ApiApplyInitAction,\n  ApiRollbackAction,\n  NgrxJsonApiActionTypes,\n} from './actions';\nimport {\n  ModifyStoreResourceErrorsPayload, NgrxJsonApiState,\n  NgrxJsonApiZone,\n  Query,\n  ResourceIdentifier,\n  StoreResource,\n} from './interfaces';\nimport {\n  clearQueryResult,\n  compactStore,\n  deleteStoreResources,\n  getPendingChanges,\n  removeQuery,\n  removeStoreResource,\n  rollbackStoreResources, setIn,\n  updateQueriesForDeletedResource,\n  updateQueryErrors,\n  updateQueryParams,\n  updateQueryResults,\n  updateResourceErrors,\n  updateResourceErrorsForQuery,\n  updateResourceState,\n  updateStoreDataFromPayload,\n  updateStoreDataFromResource,\n} from './utils';\n\nexport const /** @type {?} */ initialNgrxJsonApiZone: NgrxJsonApiZone = {\n  isCreating: 0,\n  isReading: 0,\n  isUpdating: 0,\n  isDeleting: 0,\n  isApplying: 0,\n  data: {},\n  queries: {},\n};\n\nexport const /** @type {?} */ initialNgrxJsonApiState: NgrxJsonApiState = {\n  zones: {}\n};\n/**\n * @param {?=} state\n * @param {?=} action\n * @return {?}\n */\nexport function NgrxJsonApiStoreReducer(\n  state: NgrxJsonApiState = initialNgrxJsonApiState,\n  action: any\n): NgrxJsonApiState {\n  const /** @type {?} */ zoneId = action['zoneId'];\n  if (!zoneId) {\n    return state;\n  }\n  let /** @type {?} */ zone = state.zones[zoneId];\n  if (!zone) {\n    zone = initialNgrxJsonApiZone;\n  }\n  let /** @type {?} */ newZone = NgrxJsonApiZoneReducer(zone, action);\n  if(zone != newZone){\n    return {\n      ...state,\n      zones: {\n        ...state.zones,\n        [zoneId]: newZone\n      }\n    }\n  }else{\n    return state;\n  }\n}\n/**\n * @param {?} zone\n * @param {?} action\n * @return {?}\n */\nexport function NgrxJsonApiZoneReducer(zone: NgrxJsonApiZone, action: any): NgrxJsonApiZone {\n  let /** @type {?} */ newZone;\n  switch (action.type) {\n    case NgrxJsonApiActionTypes.API_POST_INIT: {\n      let /** @type {?} */ updatedData = updateStoreDataFromResource(\n        zone.data,\n        action.payload,\n        false,\n        true\n      );\n      newZone = {\n        ...zone,\n        data: updatedData,\n        isCreating: zone.isCreating + 1,\n      };\n      return newZone;\n    }\n    case NgrxJsonApiActionTypes.API_GET_INIT: {\n      let /** @type {?} */ query = /** @type {?} */(( action.payload as Query));\n      newZone = {\n        ...zone,\n        queries: updateQueryParams(zone.queries, query),\n        isReading: zone.isReading + 1,\n      };\n      return newZone;\n    }\n    case NgrxJsonApiActionTypes.API_PATCH_INIT: {\n      let /** @type {?} */ updatedData = updateStoreDataFromResource(\n        zone.data,\n        action.payload,\n        false,\n        false\n      );\n      newZone = {\n        ...zone,\n        data: updatedData,\n        isUpdating: zone.isUpdating + 1,\n      };\n      return newZone;\n    }\n    case NgrxJsonApiActionTypes.API_DELETE_INIT: {\n      newZone = {\n        ...zone,\n        data: updateResourceState(zone.data, action.payload, 'DELETED'),\n        isDeleting: zone.isDeleting + 1,\n      };\n      return newZone;\n    }\n    case NgrxJsonApiActionTypes.API_POST_SUCCESS: {\n      newZone = {\n        ...zone,\n        data: updateStoreDataFromPayload(\n          zone.data,\n          action.payload.jsonApiData\n        ),\n        isCreating: zone.isCreating - 1,\n      };\n      return newZone;\n    }\n    case NgrxJsonApiActionTypes.API_GET_SUCCESS: {\n      newZone = {\n        ...zone,\n        data: updateStoreDataFromPayload(\n          zone.data,\n          action.payload.jsonApiData\n        ),\n        queries: updateQueryResults(\n          zone.queries,\n          action.payload.query.queryId,\n          action.payload.jsonApiData\n        ),\n        isReading: zone.isReading - 1,\n      };\n      return newZone;\n    }\n    case NgrxJsonApiActionTypes.API_PATCH_SUCCESS: {\n      newZone = {\n        ...zone,\n        data: updateStoreDataFromPayload(\n          zone.data,\n          action.payload.jsonApiData\n        ),\n        isUpdating: zone.isUpdating - 1,\n      };\n      return newZone;\n    }\n    case NgrxJsonApiActionTypes.API_DELETE_SUCCESS: {\n      newZone = {\n        ...zone,\n        data: deleteStoreResources(zone.data, action.payload.query),\n        queries: updateQueriesForDeletedResource(zone.queries, {\n          id: action.payload.query.id,\n          type: action.payload.query.type,\n        }),\n        isDeleting: zone.isDeleting - 1,\n      };\n      return newZone;\n    }\n    case NgrxJsonApiActionTypes.API_QUERY_REFRESH: {\n      // clear result ids and wait until new data is fetched (triggered by effect)\n      newZone = {\n        ...zone,\n        queries: clearQueryResult(zone.queries, action.payload),\n      };\n      return newZone;\n    }\n    case NgrxJsonApiActionTypes.API_POST_FAIL: {\n      newZone = {\n        ...zone,\n        data: updateResourceErrorsForQuery(\n          zone.data,\n          action.payload.query,\n          action.payload.jsonApiData\n        ),\n        isCreating: zone.isCreating - 1,\n      };\n      return newZone;\n    }\n    case NgrxJsonApiActionTypes.API_GET_FAIL: {\n      newZone = {\n        ...zone,\n        queries: updateQueryErrors(\n          zone.queries,\n          action.payload.query.queryId,\n          action.payload.jsonApiData\n        ),\n        isReading: zone.isReading - 1,\n      };\n      return newZone;\n    }\n    case NgrxJsonApiActionTypes.API_PATCH_FAIL: {\n      newZone = {\n        ...zone,\n        data: updateResourceErrorsForQuery(\n          zone.data,\n          action.payload.query,\n          action.payload.jsonApiData\n        ),\n        isUpdating: zone.isUpdating - 1,\n      };\n      return newZone;\n    }\n    case NgrxJsonApiActionTypes.API_DELETE_FAIL: {\n      newZone = {\n        ...zone,\n        data: updateResourceErrorsForQuery(\n          zone.data,\n          action.payload.query,\n          action.payload.jsonApiData\n        ),\n        isDeleting: zone.isDeleting - 1,\n      };\n      return newZone;\n    }\n    case NgrxJsonApiActionTypes.REMOVE_QUERY: {\n      let /** @type {?} */ queryId = /** @type {?} */(( action.payload as string));\n      newZone = { ...zone, queries: removeQuery(zone.queries, queryId) };\n      return newZone;\n    }\n    case NgrxJsonApiActionTypes.LOCAL_QUERY_INIT: {\n      let /** @type {?} */ query = /** @type {?} */(( action.payload as Query));\n      newZone = { ...zone, queries: updateQueryParams(zone.queries, query) };\n      return newZone;\n    }\n    case NgrxJsonApiActionTypes.MODIFY_STORE_RESOURCE_ERRORS: {\n      let /** @type {?} */ payload = /** @type {?} */(( action.payload as ModifyStoreResourceErrorsPayload));\n      newZone = {\n        ...zone,\n        data: updateResourceErrors(\n          zone.data,\n          payload.resourceId,\n          payload.errors,\n          payload.modificationType\n        ),\n      };\n      return newZone;\n    }\n    case NgrxJsonApiActionTypes.LOCAL_QUERY_SUCCESS: {\n      return setIn(zone, 'queries', updateQueryResults(\n        zone.queries,\n        action.payload.query.queryId,\n        action.payload.jsonApiData\n      ));\n    }\n    case NgrxJsonApiActionTypes.PATCH_STORE_RESOURCE: {\n      let /** @type {?} */ updatedData = updateStoreDataFromResource(\n        zone.data,\n        action.payload,\n        false,\n        false\n      );\n      if (updatedData !== zone.data) {\n        newZone = { ...zone, data: updatedData };\n        return newZone;\n      } else {\n        return zone;\n      }\n    }\n    case NgrxJsonApiActionTypes.POST_STORE_RESOURCE: {\n      let /** @type {?} */ updatedData = updateStoreDataFromResource(\n        zone.data,\n        action.payload,\n        false,\n        true\n      );\n      if (updatedData !== zone.data) {\n        newZone = { ...zone, data: updatedData };\n        return newZone;\n      } else {\n        return zone;\n      }\n    }\n    case NgrxJsonApiActionTypes.NEW_STORE_RESOURCE: {\n      let /** @type {?} */ updatedData = updateStoreDataFromResource(\n        zone.data,\n        action.payload,\n        false,\n        true\n      );\n      updatedData = updateResourceState(updatedData, action.payload, 'NEW');\n      if (updatedData !== zone.data) {\n        newZone = { ...zone, data: updatedData };\n        return newZone;\n      } else {\n        return zone;\n      }\n    }\n    case NgrxJsonApiActionTypes.DELETE_STORE_RESOURCE: {\n      let /** @type {?} */ resourceId = /** @type {?} */(( action.payload as ResourceIdentifier));\n      if (\n        zone.data[resourceId.type] &&\n        zone.data[resourceId.type][resourceId.id]\n      ) {\n        let /** @type {?} */ resource = zone.data[resourceId.type][resourceId.id];\n\n        if (resource.state === 'NEW' || resource.state === 'CREATED') {\n          // not yet stored on server-side, just delete\n          newZone = {\n            ...zone,\n            data: removeStoreResource(zone.data, resourceId),\n          };\n          return newZone;\n        } else {\n          // stored on server, mark for deletion\n          newZone = {\n            ...zone,\n            data: updateResourceState(zone.data, action.payload, 'DELETED'),\n          };\n          return newZone;\n        }\n      }\n      return zone;\n    }\n    case NgrxJsonApiActionTypes.API_APPLY_INIT: {\n      let /** @type {?} */ payload = ( /** @type {?} */((action as ApiApplyInitAction))).payload;\n      let /** @type {?} */ pending: Array<StoreResource> = getPendingChanges(\n        zone.data,\n        payload.ids,\n        payload.include\n      );\n      newZone = { ...zone, isApplying: zone.isApplying + 1 };\n      for (let /** @type {?} */ pendingChange of pending) {\n        if (pendingChange.state === 'CREATED') {\n          newZone.isCreating++;\n        } else if (pendingChange.state === 'UPDATED') {\n          newZone.isUpdating++;\n        } else if (pendingChange.state === 'DELETED') {\n          newZone.isDeleting++;\n        } else {\n          throw new Error('unknown state ' + pendingChange.state);\n        }\n      }\n      return newZone;\n    }\n    case NgrxJsonApiActionTypes.API_APPLY_SUCCESS:\n    case NgrxJsonApiActionTypes.API_APPLY_FAIL: {\n      // apply all the committed or failed changes\n      let /** @type {?} */ actions = /** @type {?} */(( action.payload as Array<Action>));\n      newZone = zone;\n      for (let /** @type {?} */ commitAction of actions) {\n        newZone = NgrxJsonApiZoneReducer(newZone, commitAction);\n      }\n      newZone = { ...newZone, isApplying: zone['isApplying'] - 1 };\n      return newZone;\n    }\n    case NgrxJsonApiActionTypes.API_ROLLBACK: {\n      let /** @type {?} */ payload = ( /** @type {?} */((action as ApiRollbackAction))).payload;\n      newZone = {\n        ...zone,\n        data: rollbackStoreResources(zone.data, payload.ids, payload.include),\n      };\n      return newZone;\n    }\n    case NgrxJsonApiActionTypes.CLEAR_STORE: {\n      return initialNgrxJsonApiZone;\n    }\n    case NgrxJsonApiActionTypes.COMPACT_STORE: {\n      return compactStore(zone);\n    }\n    default:\n      return zone;\n  }\n}\n\nexport const /** @type {?} */ reducer = NgrxJsonApiStoreReducer;\n","import {Injectable, OnDestroy} from '@angular/core';\n\nimport {HttpErrorResponse, HttpResponse} from '@angular/common/http';\n\nimport * as _ from 'lodash/index';\n\nimport {Action, Store} from '@ngrx/store';\nimport {Actions, Effect} from '@ngrx/effects';\n\nimport {Observable} from 'rxjs/Observable';\nimport'rxjs/add/observable/of';\nimport'rxjs/add/operator/catch';\nimport'rxjs/add/operator/concatAll';\nimport'rxjs/add/operator/do';\nimport'rxjs/add/operator/mapTo';\nimport'rxjs/add/operator/mergeMap';\nimport'rxjs/add/operator/switchMap';\nimport'rxjs/add/operator/switchMapTo';\nimport'rxjs/add/operator/take';\nimport'rxjs/add/operator/toArray';\nimport'rxjs/add/operator/withLatestFrom';\nimport'rxjs/add/operator/takeWhile';\nimport'rxjs/add/operator/takeUntil';\n\nimport {\n  ApiApplyFailAction,\n  ApiApplyInitAction,\n  ApiApplySuccessAction,\n  ApiDeleteFailAction,\n  ApiDeleteInitAction,\n  ApiDeleteSuccessAction,\n  ApiGetFailAction,\n  ApiGetInitAction,\n  ApiGetSuccessAction,\n  ApiPatchFailAction,\n  ApiPatchInitAction,\n  ApiPatchSuccessAction,\n  ApiPostFailAction,\n  ApiPostInitAction,\n  ApiPostSuccessAction,\n  ApiQueryRefreshAction,\n  LocalQueryFailAction,\n  LocalQueryInitAction,\n  LocalQuerySuccessAction,\n  NgrxJsonApiActionTypes,\n} from './actions';\nimport {NgrxJsonApi} from './api';\nimport {\n  getNgrxJsonApiZone, selectNgrxJsonApiZone, selectStoreResource,\n  selectStoreResourcesOfType\n} from './selectors';\nimport {\n  NgrxJsonApiConfig,\n  NgrxJsonApiStore, NgrxJsonApiStoreData, NgrxJsonApiStoreResources, OperationType, Payload, Query, Resource,\n  ResourceError,\n  StoreResource,\n} from './interfaces';\nimport {generatePayload, getPendingChanges, sortPendingChanges,filterResources} from './utils';\nexport class NgrxJsonApiEffects implements OnDestroy {\n  \n  createResource$: Observable<Action> = this.actions$\n    .ofType<ApiPostInitAction>(NgrxJsonApiActionTypes.API_POST_INIT)\n    .mergeMap((action: ApiPostInitAction) => {\n      const /** @type {?} */ payload = this.generatePayload(action.payload, 'POST');\n      return this.jsonApi\n        .create(payload.query, payload.jsonApiData)\n        .map(\n          (response: HttpResponse<any>) =>\n            new ApiPostSuccessAction({\n              jsonApiData: response.body,\n              query: payload.query,\n            }, action.zoneId)\n        )\n        .catch(error =>\n          Observable.of(\n            new ApiPostFailAction(this.toErrorPayload(payload.query, error), action.zoneId)\n          )\n        );\n    });\n\n  \n  updateResource$ = this.actions$\n    .ofType<ApiPatchInitAction>(NgrxJsonApiActionTypes.API_PATCH_INIT)\n    .mergeMap((action: ApiPatchInitAction) => {\n      const /** @type {?} */ payload = this.generatePayload(action.payload, 'PATCH');\n      return this.jsonApi\n        .update(payload.query, payload.jsonApiData)\n        .map(\n          (response: HttpResponse<any>) =>\n            new ApiPatchSuccessAction({\n              jsonApiData: response.body,\n              query: payload.query,\n            }, action.zoneId)\n        )\n        .catch(error =>\n          Observable.of(\n            new ApiPatchFailAction(this.toErrorPayload(payload.query, error), action.zoneId)\n          )\n        );\n    });\n\n  \n  readResource$ = this.actions$\n    .ofType<ApiGetInitAction>(NgrxJsonApiActionTypes.API_GET_INIT)\n    .mergeMap((action: ApiGetInitAction) => {\n      const /** @type {?} */ query = action.payload;\n      return this.jsonApi\n        .find(query)\n        .map((response: HttpResponse<any>) => response.body)\n        .map(\n          data =>\n            new ApiGetSuccessAction({\n              jsonApiData: data,\n              query: query,\n            }, action.zoneId)\n        )\n        .catch(error =>\n          Observable.of(new ApiGetFailAction(this.toErrorPayload(query, error), action.zoneId))\n        );\n    });\n/**\n * @param {?} query\n * @return {?}\n */\nprivate localQueryInitEventFor(query: Query) {\n    return this.actions$\n      .ofType<LocalQueryInitAction>(NgrxJsonApiActionTypes.LOCAL_QUERY_INIT)\n      .map(action => /** @type {?} */(( action as LocalQueryInitAction)))\n      .filter(action => query.queryId == action.payload.queryId);\n  }\n/**\n * @param {?} query\n * @return {?}\n */\nprivate removeQueryEventFor(query: Query) {\n    return this.actions$\n      .ofType<LocalQueryInitAction>(NgrxJsonApiActionTypes.REMOVE_QUERY)\n      .map(action => /** @type {?} */(( action as LocalQueryInitAction)))\n      .filter(action => query.queryId == action.payload);\n  }\n\n  \n  queryStore$ = this.actions$\n    .ofType<LocalQueryInitAction>(NgrxJsonApiActionTypes.LOCAL_QUERY_INIT)\n    .mergeMap((action: LocalQueryInitAction) => {\n      const /** @type {?} */ query = action.payload;\n      return this.store\n        .let(selectNgrxJsonApiZone(action.zoneId))\n        .let(this.executeLocalQuery(query))\n        .map(\n          results =>\n            new LocalQuerySuccessAction({\n              jsonApiData: { data: results },\n              query: query,\n            }, action.zoneId)\n        )\n        .catch(error =>\n          Observable.of(\n            new LocalQueryFailAction(this.toErrorPayload(query, error), action.zoneId)\n          )\n        )\n        .takeUntil(this.localQueryInitEventFor(query))\n        .takeUntil(this.removeQueryEventFor(query));\n    });\n/**\n * @param {?} query\n * @return {?}\n */\nprivate executeLocalQuery(query: Query) {\n    return (state$: Observable<NgrxJsonApiStore>) => {\n      let /** @type {?} */ selected$: Observable<any>;\n      if (!query.type) {\n        return state$.map(() => Observable.throw('Unknown query'));\n      } else if (query.type && query.id) {\n        selected$ = state$.let(\n          selectStoreResource({ type: query.type, id: query.id })\n        );\n      } else {\n        selected$ = state$\n          .let(selectStoreResourcesOfType(query.type))\n          .combineLatest(\n            state$.map(it => it.data),\n            (\n              resources: NgrxJsonApiStoreResources,\n              storeData: NgrxJsonApiStoreData\n            ) =>\n              filterResources(\n                resources,\n                storeData,\n                query,\n                this.config.resourceDefinitions,\n                this.config.filteringConfig\n              )\n          );\n      }\n      return selected$.distinctUntilChanged();\n    };\n  }\n\n  \n  deleteResource$ = this.actions$\n    .ofType<ApiDeleteInitAction>(NgrxJsonApiActionTypes.API_DELETE_INIT)\n    .mergeMap((action: ApiDeleteInitAction) => {\n      const /** @type {?} */ payload = this.generatePayload(action.payload, 'DELETE');\n      return this.jsonApi\n        .delete(payload.query)\n        .map((response: HttpResponse<any>) => response.body)\n        .map(\n          data =>\n            new ApiDeleteSuccessAction({\n              jsonApiData: data,\n              query: payload.query,\n            }, action.zoneId)\n        )\n        .catch(error =>\n          Observable.of(\n            new ApiDeleteFailAction(this.toErrorPayload(payload.query, error), action.zoneId)\n          )\n        );\n    });\n\n  \n  triggerReadOnQueryRefresh$ = this.actions$\n    .ofType(NgrxJsonApiActionTypes.API_QUERY_REFRESH)\n    .withLatestFrom(this.store, (action: ApiQueryRefreshAction, store) => {\n      let /** @type {?} */ queryId = action.payload;\n      let /** @type {?} */ state = getNgrxJsonApiZone(store, action.zoneId);\n      let /** @type {?} */ query = state.queries[queryId].query;\n      return new ApiGetInitAction(query, action.zoneId);\n    });\n\n  \n  refreshQueriesOnDelete$ = this.actions$\n    .ofType(NgrxJsonApiActionTypes.API_DELETE_SUCCESS)\n    .withLatestFrom(this.store, (action: ApiDeleteSuccessAction, store) => {\n      let /** @type {?} */ id = { id: action.payload.query.id, type: action.payload.query.type };\n      if (!id.id || !id.type) {\n        throw new Error(\n          'API_DELETE_SUCCESS did not carry resource id and type information'\n        );\n      }\n\n      let /** @type {?} */ state = getNgrxJsonApiZone(store, action.zoneId);\n      let /** @type {?} */ actions = [];\n      for (let /** @type {?} */ queryId in state.queries) {\n        if (state.queries.hasOwnProperty(queryId)) {\n          let /** @type {?} */ query = state.queries[queryId];\n          if (query.resultIds) {\n            let /** @type {?} */ needsRefresh =\n              _.findIndex(query.resultIds, function(o) {\n                return _.isEqual(id, o);\n              }) !== -1;\n\n            let /** @type {?} */ sameIdRequested =\n              query.query.id === id.id && query.query.type === id.type;\n            if (sameIdRequested && (needsRefresh || _.isEmpty(query.errors))) {\n              throw new Error(\n                'store is in invalid state, queries for deleted' +\n                  ' resource should have been emptied and marked with 404 error'\n              );\n            }\n\n            if (needsRefresh) {\n              actions.push(new ApiQueryRefreshAction(queryId, action.zoneId));\n            }\n          }\n        }\n      }\n      return actions;\n    })\n    .flatMap(actions => Observable.of(...actions));\n/**\n * @param {?} pendingChange\n * @param {?} zoneId\n * @return {?}\n */\nprivate handlePendingCreate(pendingChange: StoreResource, zoneId: string){\n    let /** @type {?} */ payload: Payload = this.generatePayload(pendingChange, 'POST');\n    return this.jsonApi\n      .create(payload.query, payload.jsonApiData)\n      .map(\n        response =>\n          new ApiPostSuccessAction({\n            jsonApiData: response.body,\n            query: payload.query,\n          }, zoneId)\n      )\n      .catch(error =>\n        Observable.of(\n          new ApiPostFailAction(\n            this.toErrorPayload(payload.query, error), zoneId\n          )\n        )\n      );\n  }\n/**\n * @param {?} pendingChange\n * @param {?} zoneId\n * @return {?}\n */\nprivate handlePendingUpdate(pendingChange: StoreResource, zoneId: string) {\n    let /** @type {?} */ payload: Payload = this.generatePayload(pendingChange, 'PATCH');\n    return (\n      this.jsonApi\n        .update(payload.query, payload.jsonApiData)\n        .map(\n          response =>\n            new ApiPatchSuccessAction({\n              jsonApiData: response.body,\n              query: payload.query,\n            }, zoneId)\n        )\n        .catch(error =>\n          Observable.of(\n            new ApiPatchFailAction(\n              this.toErrorPayload(payload.query, error), zoneId\n            )\n          )\n        )\n    );\n  }\n/**\n * @param {?} pendingChange\n * @param {?} zoneId\n * @return {?}\n */\nprivate handlePendingDelete(pendingChange: StoreResource, zoneId: string) {\n    let /** @type {?} */ payload: Payload = this.generatePayload(pendingChange, 'DELETE');\n    return (\n      this.jsonApi\n        .delete(payload.query)\n        .map(\n          response =>\n            new ApiDeleteSuccessAction({\n              jsonApiData: response.body,\n              query: payload.query,\n            }, zoneId)\n        )\n        .catch(error =>\n          Observable.of(\n            new ApiDeleteFailAction(\n              this.toErrorPayload(payload.query, error), zoneId\n            )\n          )\n        )\n    );\n  }\n\n\n  \n  applyResources$ = this.actions$\n    .ofType(NgrxJsonApiActionTypes.API_APPLY_INIT)\n    .filter(() => this.jsonApi.config.applyEnabled !== false)\n    .withLatestFrom(this.store,\n      (action: ApiApplyInitAction, storeState: any) => {\n        const /** @type {?} */ ngrxstore = getNgrxJsonApiZone(storeState, action.zoneId);\n        const /** @type {?} */ payload = ( /** @type {?} */((action as ApiApplyInitAction))).payload;\n        const /** @type {?} */ pending: Array<StoreResource> = getPendingChanges(\n          ngrxstore.data,\n          payload.ids,\n          payload.include\n        );\n\n        if (pending.length === 0) {\n          return Observable.of(new ApiApplySuccessAction([], action.zoneId));\n        }\n        const /** @type {?} */ sortedPending = sortPendingChanges(pending);\n        let /** @type {?} */ actions: Array<Observable<Action>> = [];\n        for (let /** @type {?} */ pendingChange of sortedPending) {\n          if (pendingChange.state === 'CREATED') {\n            actions.push(this.handlePendingCreate(pendingChange, action.zoneId));\n          } else if (pendingChange.state === 'UPDATED') {\n            actions.push(this.handlePendingUpdate(pendingChange, action.zoneId));\n          } else if (pendingChange.state === 'DELETED') {\n            actions.push(this.handlePendingDelete(pendingChange, action.zoneId));\n          } else {\n            throw new Error('unknown state ' + pendingChange.state);\n          }\n        }\n        return Observable.of(...actions)\n          .concatAll()\n          .toArray()\n          .map(actions => this.toApplyAction(actions, action.zoneId));\n      }\n    )\n    .flatMap(actions => actions);\nprivate config: NgrxJsonApiConfig;\n/**\n * @param {?} actions$\n * @param {?} jsonApi\n * @param {?} store\n */\nconstructor(\nprivate actions$: Actions,\nprivate jsonApi: NgrxJsonApi,\nprivate store: Store<any>,\n  ) {\n    this.config = this.jsonApi.config;\n  }\n/**\n * @return {?}\n */\nngOnDestroy() {}\n/**\n * @param {?} actions\n * @param {?} zoneId\n * @return {?}\n */\nprivate toApplyAction(actions: Array<Action>, zoneId: string): any {\n    for (let /** @type {?} */ action of actions) {\n      if (\n        action.type === NgrxJsonApiActionTypes.API_POST_FAIL ||\n        action.type === NgrxJsonApiActionTypes.API_PATCH_FAIL ||\n        action.type === NgrxJsonApiActionTypes.API_DELETE_FAIL\n      ) {\n        return new ApiApplyFailAction(actions, zoneId);\n      }\n    }\n    return new ApiApplySuccessAction(actions, zoneId);\n  }\n/**\n * @param {?} query\n * @param {?} response\n * @return {?}\n */\nprivate toErrorPayload(\n    query: Query,\n    response: HttpErrorResponse | any\n  ): Payload {\n    let /** @type {?} */ contentType: String = null;\n    if (response && response.headers) {\n      contentType = response.headers.get('Content-Type');\n    }\n    let /** @type {?} */ document = null;\n    if (\n      contentType != null &&\n      contentType.startsWith('application/vnd.api+json')\n    ) {\n      document = response;\n    }\n    if (\n      document &&\n      document.error &&\n      document.error.errors &&\n      document.error.errors.length > 0\n    ) {\n      return {\n        query: query,\n        jsonApiData: document.error,\n      };\n    } else {\n      // transform http to json api error\n      let /** @type {?} */ errors: Array<ResourceError> = [];\n      let /** @type {?} */ error: ResourceError = {\n        status: String(response.status),\n        code: response.statusText,\n      };\n\n      errors.push(error);\n      // got json api errors\n\n      return {\n        query: query,\n        jsonApiData: {\n          errors: errors,\n        },\n      };\n    }\n  }\n/**\n * @param {?} resource\n * @param {?} operation\n * @return {?}\n */\nprivate generatePayload(\n    resource: Resource,\n    operation: OperationType\n  ): Payload {\n    return generatePayload(resource, operation);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Actions, },\n{type: NgrxJsonApi, },\n{type: Store, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'createResource$': [{ type: Effect },],\n'updateResource$': [{ type: Effect },],\n'readResource$': [{ type: Effect },],\n'queryStore$': [{ type: Effect },],\n'deleteResource$': [{ type: Effect },],\n'triggerReadOnQueryRefresh$': [{ type: Effect },],\n'refreshQueriesOnDelete$': [{ type: Effect },],\n'applyResources$': [{ type: Effect },],\n};\n}\n\nfunction NgrxJsonApiEffects_tsickle_Closure_declarations() {\n/** @type {?} */\nNgrxJsonApiEffects.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nNgrxJsonApiEffects.ctorParameters;\n/** @type {?} */\nNgrxJsonApiEffects.propDecorators;\n/** @type {?} */\nNgrxJsonApiEffects.prototype.createResource$;\n/** @type {?} */\nNgrxJsonApiEffects.prototype.updateResource$;\n/** @type {?} */\nNgrxJsonApiEffects.prototype.readResource$;\n/** @type {?} */\nNgrxJsonApiEffects.prototype.queryStore$;\n/** @type {?} */\nNgrxJsonApiEffects.prototype.deleteResource$;\n/** @type {?} */\nNgrxJsonApiEffects.prototype.triggerReadOnQueryRefresh$;\n/** @type {?} */\nNgrxJsonApiEffects.prototype.refreshQueriesOnDelete$;\n/** @type {?} */\nNgrxJsonApiEffects.prototype.applyResources$;\n/** @type {?} */\nNgrxJsonApiEffects.prototype.config;\n/** @type {?} */\nNgrxJsonApiEffects.prototype.actions$;\n/** @type {?} */\nNgrxJsonApiEffects.prototype.jsonApi;\n/** @type {?} */\nNgrxJsonApiEffects.prototype.store;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import * as _ from 'lodash/index';\n\nimport {\n  HttpHeaders,\n  HttpClient,\n  HttpRequest,\n  // required for building\n  HttpHeaderResponse,\n  HttpProgressEvent,\n  HttpResponse,\n  HttpSentEvent,\n  HttpUserEvent,\n} from '@angular/common/http';\n\nimport { ErrorObservable } from 'rxjs/observable/ErrorObservable';\nimport { Observable } from 'rxjs/Observable';\nimport'rxjs/add/operator/map';\nimport'rxjs/add/observable/throw';\n\nimport {\n  Document,\n  NgrxJsonApiConfig,\n  OperationType,\n  ResourceDefinition,\n  Query,\n  QueryParams,\n} from './interfaces';\nimport {\n  generateIncludedQueryParams,\n  generateFieldsQueryParams,\n  generateFilteringQueryParams,\n  generateSortingQueryParams,\n  generateQueryParams,\n} from './utils';\nexport class NgrxJsonApi {\npublic headers: HttpHeaders = new HttpHeaders({\n    'Content-Type': 'application/vnd.api+json',\n    Accept: 'application/vnd.api+json',\n  });\npublic requestUrl: string;\npublic definitions = this.config.resourceDefinitions;\n/**\n * @param {?} http\n * @param {?} config\n */\nconstructor(private http: HttpClient,\npublic config: NgrxJsonApiConfig) {}\n/**\n * @param {?} query\n * @param {?} operation\n * @return {?}\n */\nprivate urlBuilder(query: Query, operation: OperationType) {\n    switch (operation) {\n      case 'GET': {\n        if (query.type && query.id) {\n          return this.resourceUrlFor(query.type, query.id);\n        } else if (query.type) {\n          return this.collectionUrlFor(query.type);\n        }\n      }\n      case 'DELETE': {\n        if (query.type && query.id) {\n          return this.resourceUrlFor(query.type, query.id);\n        }\n      }\n      case 'PATCH': {\n        if (query.type && query.id) {\n          return this.resourceUrlFor(query.type, query.id);\n        }\n      }\n      case 'POST': {\n        return this.collectionUrlFor(query.type);\n      }\n    }\n  }\n/**\n * @param {?} type\n * @return {?}\n */\nprivate collectionPathFor(type: string) {\n    // assume that type == collectionPath if not configured otherwise\n    let /** @type {?} */ definition = _.find(this.definitions, { type: type });\n    if (definition) {\n      return `${definition.collectionPath}`;\n    } else {\n      return type;\n    }\n  }\n/**\n * @param {?} type\n * @return {?}\n */\nprivate collectionUrlFor(type: string) {\n    let /** @type {?} */ collectionPath = this.collectionPathFor(type);\n    return `${this.config.apiUrl}/${collectionPath}`;\n  }\n/**\n * @param {?} type\n * @param {?} id\n * @return {?}\n */\nprivate resourcePathFor(type: string, id: string) {\n    let /** @type {?} */ collectionPath = this.collectionPathFor(type);\n    return `${collectionPath}/${encodeURIComponent(id)}`;\n  }\n/**\n * @param {?} type\n * @param {?} id\n * @return {?}\n */\nprivate resourceUrlFor(type: string, id: string) {\n    let /** @type {?} */ resourcePath = this.resourcePathFor(type, id);\n    return `${this.config.apiUrl}/${resourcePath}`;\n  }\n/**\n * @param {?} query\n * @return {?}\n */\npublic find(query: Query) {\n    let /** @type {?} */ _generateIncludedQueryParams = generateIncludedQueryParams;\n    let /** @type {?} */ _generateFilteringQueryParams = generateFilteringQueryParams;\n    let /** @type {?} */ _generateFieldsQueryParams = generateFieldsQueryParams;\n    let /** @type {?} */ _generateSortingQueryParams = generateSortingQueryParams;\n    let /** @type {?} */ _generateQueryParams = generateQueryParams;\n\n    if (this.config.hasOwnProperty('urlBuilder')) {\n      let /** @type {?} */ urlBuilder = this.config.urlBuilder;\n\n      if (urlBuilder.generateIncludedQueryParams) {\n        _generateIncludedQueryParams = urlBuilder.generateIncludedQueryParams;\n      }\n      if (urlBuilder.generateFilteringQueryParams) {\n        _generateFilteringQueryParams = urlBuilder.generateFilteringQueryParams;\n      }\n      if (urlBuilder.generateFieldsQueryParams) {\n        _generateFieldsQueryParams = urlBuilder.generateFieldsQueryParams;\n      }\n      if (urlBuilder.generateSortingQueryParams) {\n        _generateSortingQueryParams = urlBuilder.generateSortingQueryParams;\n      }\n      if (urlBuilder.generateQueryParams) {\n        _generateQueryParams = urlBuilder.generateQueryParams;\n      }\n    }\n\n    let /** @type {?} */ queryParams = '';\n    let /** @type {?} */ includedParam = '';\n    let /** @type {?} */ filteringParams = '';\n    let /** @type {?} */ sortingParams = '';\n    let /** @type {?} */ fieldsParams = '';\n    let /** @type {?} */ offsetParams = '';\n    let /** @type {?} */ limitParams = '';\n\n    if (typeof query === undefined) {\n      return Observable.throw('Query not found');\n    }\n\n    if (query.hasOwnProperty('params') && !_.isEmpty(query.params)) {\n      if (_.hasIn(query.params, 'include')) {\n        includedParam = _generateIncludedQueryParams(query.params.include);\n      }\n      if (_.hasIn(query.params, 'filtering')) {\n        filteringParams = _generateFilteringQueryParams(query.params.filtering);\n      }\n      if (_.hasIn(query.params, 'sorting')) {\n        sortingParams = _generateSortingQueryParams(query.params.sorting);\n      }\n      if (_.hasIn(query.params, 'fields')) {\n        fieldsParams = _generateFieldsQueryParams(query.params.fields);\n      }\n      if (_.hasIn(query.params, 'limit')) {\n        limitParams = 'page[limit]=' + query.params.limit;\n      }\n      if (_.hasIn(query.params, 'offset')) {\n        offsetParams = 'page[offset]=' + query.params.offset;\n      }\n    }\n    queryParams = _generateQueryParams(\n      includedParam,\n      filteringParams,\n      sortingParams,\n      fieldsParams,\n      offsetParams,\n      limitParams\n    );\n\n    let /** @type {?} */ requestOptions = {\n      method: 'GET',\n      url: this.urlBuilder(query, 'GET') + queryParams,\n    };\n\n    return this.request(requestOptions);\n  }\n/**\n * @param {?} query\n * @param {?} document\n * @return {?}\n */\npublic create(query: Query, document: Document) {\n    if (typeof query === undefined) {\n      return Observable.throw('Query not found');\n    }\n\n    if (typeof document === undefined) {\n      return Observable.throw('Data not found');\n    }\n\n    let /** @type {?} */ requestOptions = {\n      method: 'POST',\n      url: this.urlBuilder(query, 'POST'),\n      body: JSON.stringify({ data: document.data }),\n    };\n\n    return this.request(requestOptions);\n  }\n/**\n * @param {?} query\n * @param {?} document\n * @return {?}\n */\npublic update(query: Query, document: Document) {\n    if (typeof query === undefined) {\n      return Observable.throw('Query not found');\n    }\n\n    if (typeof document === undefined) {\n      return Observable.throw('Data not found');\n    }\n    let /** @type {?} */ requestOptions = {\n      method: 'PATCH',\n      url: this.urlBuilder(query, 'PATCH'),\n      body: JSON.stringify({ data: document.data }),\n    };\n\n    return this.request(requestOptions);\n  }\n/**\n * @param {?} query\n * @return {?}\n */\npublic delete(query: Query) {\n    if (typeof query === undefined) {\n      return Observable.throw('Query not found');\n    }\n\n    let /** @type {?} */ requestOptions = {\n      method: 'DELETE',\n      url: this.urlBuilder(query, 'DELETE'),\n    };\n\n    return this.request(requestOptions);\n  }\n/**\n * @param {?} requestOptions\n * @return {?}\n */\nprivate request(requestOptions: any) {\n    let /** @type {?} */ request: HttpRequest<any>;\n    let /** @type {?} */ newRequestOptions = {\n      ...requestOptions,\n      headers: this.headers,\n      observe: 'response',\n    };\n\n    if (requestOptions.method === 'GET') {\n      let { method, url, ...init } = newRequestOptions;\n      return this.http.get(url, init);\n    } else if (requestOptions.method === 'POST') {\n      let { method, url, body, ...init } = newRequestOptions;\n      return this.http.post(url, body, init);\n    } else if (requestOptions.method === 'PATCH') {\n      let { method, url, body, ...init } = newRequestOptions;\n      return this.http.patch(url, body, init);\n    } else if (requestOptions.method === 'DELETE') {\n      let { method, url, ...init } = newRequestOptions;\n      return this.http.delete(url, init);\n    }\n  }\n}\n\nfunction NgrxJsonApi_tsickle_Closure_declarations() {\n/** @type {?} */\nNgrxJsonApi.prototype.headers;\n/** @type {?} */\nNgrxJsonApi.prototype.requestUrl;\n/** @type {?} */\nNgrxJsonApi.prototype.definitions;\n/** @type {?} */\nNgrxJsonApi.prototype.http;\n/** @type {?} */\nNgrxJsonApi.prototype.config;\n}\n\n","import { Pipe, PipeTransform } from '@angular/core';\n\nimport { Observable } from 'rxjs/Observable';\nimport'rxjs/add/operator/let';\n\nimport { NgrxJsonApiService } from './services';\nimport { Resource, ResourceIdentifier, StoreResource } from './interfaces';\nexport class SelectStoreResourcePipe implements PipeTransform {\n/**\n * @param {?} service\n */\nconstructor(private service: NgrxJsonApiService) {}\n/**\n * @param {?} id\n * @return {?}\n */\ntransform(id: ResourceIdentifier): Observable<StoreResource> {\n    return this.service.selectStoreResource(id);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Pipe, args: [{ name: 'jaSelectStoreResource' }, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: NgrxJsonApiService, },\n];\n}\n\nfunction SelectStoreResourcePipe_tsickle_Closure_declarations() {\n/** @type {?} */\nSelectStoreResourcePipe.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nSelectStoreResourcePipe.ctorParameters;\n/** @type {?} */\nSelectStoreResourcePipe.prototype.service;\n}\n\nexport class DenormaliseStoreResourcePipe implements PipeTransform {\n/**\n * @param {?} service\n */\nconstructor(private service: NgrxJsonApiService) {}\n/**\n * @param {?} obs\n * @return {?}\n */\ntransform(\n    obs: Observable<StoreResource> | Observable<StoreResource[]>\n  ): Observable<StoreResource> | Observable<StoreResource[]> {\n    return this.service.denormaliseResource(obs);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Pipe, args: [{ name: 'denormaliseStoreResource' }, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: NgrxJsonApiService, },\n];\n}\n\nfunction DenormaliseStoreResourcePipe_tsickle_Closure_declarations() {\n/** @type {?} */\nDenormaliseStoreResourcePipe.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDenormaliseStoreResourcePipe.ctorParameters;\n/** @type {?} */\nDenormaliseStoreResourcePipe.prototype.service;\n}\n\nexport class GetDenormalisedValuePipe implements PipeTransform {\n/**\n * @param {?} service\n */\nconstructor(private service: NgrxJsonApiService) {}\n/**\n * @param {?} path\n * @param {?} storeResource\n * @return {?}\n */\ntransform(path: string, storeResource: StoreResource): any {\n    return this.service.getDenormalisedValue(path, storeResource);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Pipe, args: [{ name: 'getDenormalisedValue' }, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: NgrxJsonApiService, },\n];\n}\n\nfunction GetDenormalisedValuePipe_tsickle_Closure_declarations() {\n/** @type {?} */\nGetDenormalisedValuePipe.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nGetDenormalisedValuePipe.ctorParameters;\n/** @type {?} */\nGetDenormalisedValuePipe.prototype.service;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import * as _ from 'lodash/index';\n\nimport {Observable} from 'rxjs/Observable';\nimport'rxjs/add/operator/finally';\n\nimport {Store} from '@ngrx/store';\n\nimport {\n  selectManyQueryResult, selectNgrxJsonApiDefaultZone, selectNgrxJsonApiZone,\n  selectOneQueryResult,\n  selectStoreResource\n} from './selectors';\nimport {\n  ApiApplyInitAction,\n  ApiDeleteInitAction,\n  ApiGetInitAction,\n  ApiPatchInitAction,\n  ApiPostInitAction,\n  ApiQueryRefreshAction,\n  ClearStoreAction,\n  CompactStoreAction,\n  DeleteStoreResourceAction,\n  LocalQueryInitAction,\n  ModifyStoreResourceErrorsAction,\n  NewStoreResourceAction,\n  PatchStoreResourceAction,\n  PostStoreResourceAction,\n  RemoveQueryAction,\n} from './actions';\nimport {\n  ManyQueryResult, NGRX_JSON_API_DEFAULT_ZONE, NgrxJsonApiConfig,\n  NgrxJsonApiStore,\n  NgrxJsonApiStoreData,\n  OneQueryResult,\n  Query,\n  QueryResult,\n  Resource,\n  ResourceError,\n  ResourceIdentifier,\n  StoreResource,\n} from './interfaces';\nimport {\n  denormaliseStoreResource,\n  denormaliseStoreResources,\n  getDenormalisedPath,\n  getDenormalisedValue,\n  uuid,\n} from './utils';\n\nexport interface FindOptions {\n  query: Query;\n  fromServer?: boolean;\n  denormalise?: boolean;\n}\n\nexport interface PutQueryOptions {\n  query: Query;\n  fromServer?: boolean;\n}\n\nexport interface PostResourceOptions {\n  resource: Resource;\n  toRemote?: boolean;\n}\n\nexport interface PatchResourceOptions {\n  resource: Resource;\n  toRemote?: boolean;\n}\n\nexport interface NewResourceOptions {\n  resource: Resource;\n}\n\nexport interface DeleteResourceOptions {\n  resourceId: ResourceIdentifier;\n  toRemote?: boolean;\n}\n\n/**\n * This internface is deprecated, do no longer use.\n */\nexport interface Options {\n  query?: Query;\n  denormalise?: boolean;\n  fromServer?: boolean;\n  resource?: Resource;\n  toRemote?: boolean;\n  resourceId?: ResourceIdentifier;\n}\n/**\n * Represents an isolated area in the store with its own set of resources and queries.\n * 'api' is the default zone that already historically has been put beneath NgrxJsonApi within the store.\n */\nexport class NgrxJsonApiZoneService {\n/**\n * @param {?} zoneId\n * @param {?} store\n */\nconstructor(protected zoneId: string, protected store: Store<any>) {\n  }\n/**\n * Adds the given query to the store. Any existing query with the same queryId is replaced.\n * Make use of selectResults(...) to fetch the data.\n * @param {?} options\n * @return {?}\n */\npublic putQuery(options: PutQueryOptions) {\n    let /** @type {?} */ query = options.query;\n    let /** @type {?} */ fromServer = _.isUndefined(options.fromServer)\n      ? true\n      : options.fromServer;\n\n    if (!query.queryId) {\n      throw new Error('to query must have a queryId');\n    }\n\n    if (fromServer) {\n      this.store.dispatch(new ApiGetInitAction(query, this.zoneId));\n    } else {\n      this.store.dispatch(new LocalQueryInitAction(query, this.zoneId));\n    }\n  }\n/**\n * @param {?} queryId\n * @return {?}\n */\npublic refreshQuery(queryId: string) {\n    this.store.dispatch(new ApiQueryRefreshAction(queryId, this.zoneId));\n  }\n/**\n * @param {?} queryId\n * @return {?}\n */\npublic removeQuery(queryId: string) {\n    this.store.dispatch(new RemoveQueryAction(queryId, this.zoneId));\n  }\n/**\n * Selects the data of the given query.\n * \n * @param {?} queryId\n * @param {?=} denormalize\n * @return {?} observable holding the data as array of resources.\n */\npublic selectManyResults(queryId: string, denormalize = false): Observable<ManyQueryResult> {\n    return this.store.let(selectNgrxJsonApiZone(this.zoneId)).let(selectManyQueryResult(queryId, denormalize));\n  }\n/**\n * Selects the data of the given query.\n * \n * @param {?} queryId\n * @param {?=} denormalize\n * @return {?} observable holding the data as array of resources.\n */\npublic selectOneResults(queryId: string, denormalize = false): Observable<OneQueryResult> {\n    return this.store.let(selectNgrxJsonApiZone(this.zoneId)).let(selectOneQueryResult(queryId, denormalize));\n  }\n/**\n * @param {?} identifier of the resource\n * @return {?} observable of the resource\n */\npublic selectStoreResource(identifier: ResourceIdentifier): Observable<StoreResource> {\n    return this.store.let(selectNgrxJsonApiZone(this.zoneId)).let(selectStoreResource(identifier));\n  }\n/**\n * Updates the given resource in the store with the provided data.\n * Use commit() to send the changes to the remote JSON API endpoint.\n * \n * @param {?} options\n * @return {?}\n */\npublic patchResource(options: PatchResourceOptions) {\n    let /** @type {?} */ resource = options.resource;\n    let /** @type {?} */ toRemote = _.isUndefined(options.toRemote) ? false : options.toRemote;\n\n    if (toRemote) {\n      this.store.dispatch(new ApiPatchInitAction(resource, this.zoneId));\n    } else {\n      this.store.dispatch(new PatchStoreResourceAction(resource, this.zoneId));\n    }\n  }\n/**\n * Creates a new resources that is hold locally in the store\n * and my later be posted.\n * \n * @param {?} options\n * @return {?}\n */\npublic newResource(options: NewResourceOptions) {\n    let /** @type {?} */ resource = options.resource;\n    this.store.dispatch(new NewStoreResourceAction(resource, this.zoneId));\n  }\n/**\n * Adds the given resource to the store. Any already existing\n * resource with the same id gets replaced. Use commit() to send\n * the changes to the remote JSON API endpoint.\n * \n * @param {?} options\n * @return {?}\n */\npublic postResource(options: PostResourceOptions) {\n    let /** @type {?} */ resource = options.resource;\n    let /** @type {?} */ toRemote = _.isUndefined(options.toRemote) ? false : options.toRemote;\n\n    if (toRemote) {\n      this.store.dispatch(new ApiPostInitAction(resource, this.zoneId));\n    } else {\n      this.store.dispatch(new PostStoreResourceAction(resource, this.zoneId));\n    }\n  }\n/**\n * Marks the given resource for deletion.\n * \n * @param {?} options\n * @return {?}\n */\npublic deleteResource(options: DeleteResourceOptions) {\n    let /** @type {?} */ resourceId = options.resourceId;\n    let /** @type {?} */ toRemote = _.isUndefined(options.toRemote) ? false : options.toRemote;\n\n    if (toRemote) {\n      this.store.dispatch(new ApiDeleteInitAction(resourceId, this.zoneId));\n    } else {\n      this.store.dispatch(new DeleteStoreResourceAction(resourceId, this.zoneId));\n    }\n  }\n/**\n * Applies all pending changes to the remote JSON API endpoint.\n * @return {?}\n */\npublic apply() {\n    this.store.dispatch(new ApiApplyInitAction({}, this.zoneId));\n  }\n/**\n * Clear all the contents from the store.\n * @return {?}\n */\npublic clear() {\n    this.store.dispatch(new ClearStoreAction(this.zoneId));\n  }\n/**\n * Compacts the store by removing unreferences and unchanges resources.\n * @return {?}\n */\npublic compact() {\n    this.store.dispatch(new CompactStoreAction(this.zoneId));\n  }\n/**\n * Adds the given errors to the resource with the given id.\n * @param {?} id\n * @param {?} errors\n * @return {?}\n */\npublic addResourceErrors(id: ResourceIdentifier,\n                           errors: Array<ResourceError>) {\n    this.store.dispatch(\n      new ModifyStoreResourceErrorsAction({\n        resourceId: id,\n        errors: errors,\n        modificationType: 'ADD',\n      }, this.zoneId)\n    );\n  }\n/**\n * Removes the given errors to the resource with the given id.\n * @param {?} id\n * @param {?} errors\n * @return {?}\n */\npublic removeResourceErrors(id: ResourceIdentifier,\n                              errors: Array<ResourceError>) {\n    this.store.dispatch(\n      new ModifyStoreResourceErrorsAction({\n        resourceId: id,\n        errors: errors,\n        modificationType: 'REMOVE',\n      }, this.zoneId)\n    );\n  }\n/**\n * Sets the given errors to the resource with the given id.\n * @param {?} id\n * @param {?} errors\n * @return {?}\n */\npublic setResourceErrors(id: ResourceIdentifier,\n                           errors: Array<ResourceError>) {\n    this.store.dispatch(\n      new ModifyStoreResourceErrorsAction({\n        resourceId: id,\n        errors: errors,\n        modificationType: 'SET',\n      }, this.zoneId)\n    );\n  }\n\n}\n\nfunction NgrxJsonApiZoneService_tsickle_Closure_declarations() {\n/** @type {?} */\nNgrxJsonApiZoneService.prototype.zoneId;\n/** @type {?} */\nNgrxJsonApiZoneService.prototype.store;\n}\n\nexport class NgrxJsonApiService extends NgrxJsonApiZoneService {\nprivate test = true;\n/**\n * Keeps current snapshot of the store to allow fast access to resources.\n */\nprivate _storeSnapshot: NgrxJsonApiStore;\n/**\n * @param {?} store\n * @param {?} config\n */\nconstructor(store: Store<any>,\nprivate config: NgrxJsonApiConfig) {\n    super(NGRX_JSON_API_DEFAULT_ZONE, store);\n  }\n/**\n * @return {?}\n */\npublic getDefaultZone(): NgrxJsonApiZoneService{\n    return this;\n  }\n/**\n * @param {?} zoneId\n * @return {?}\n */\npublic getZone(zoneId: string): NgrxJsonApiZoneService{\n    return new NgrxJsonApiZoneService(zoneId, this.store);\n  }\n/**\n * @param {?} options\n * @return {?}\n */\npublic findOne(options: FindOptions): Observable<OneQueryResult> {\n    return /** @type {?} */(( <Observable<OneQueryResult>>this.findInternal(options, false)));\n  }\n/**\n * @param {?} options\n * @return {?}\n */\npublic findMany(options: FindOptions): Observable<ManyQueryResult> {\n    return /** @type {?} */(( <Observable<ManyQueryResult>>this.findInternal(options, true)));\n  }\n/**\n * @return {?}\n */\npublic get storeSnapshot() {\n    if (!this._storeSnapshot) {\n      this.store\n        .let(selectNgrxJsonApiDefaultZone())\n        .subscribe(it => (this._storeSnapshot = /** @type {?} */(( it as NgrxJsonApiStore))));\n\n      if (!this._storeSnapshot) {\n        throw new Error('failed to initialize store snapshot');\n      }\n    }\n    return this._storeSnapshot;\n  }\n/**\n * @param {?} options\n * @param {?} multi\n * @return {?}\n */\nprivate findInternal(options: FindOptions,\n                       multi: boolean): Observable<QueryResult> {\n    let /** @type {?} */ query = options.query;\n    let /** @type {?} */ fromServer = _.isUndefined(options.fromServer)\n      ? true\n      : options.fromServer;\n    let /** @type {?} */ denormalise = _.isUndefined(options.denormalise)\n      ? false\n      : options.denormalise;\n\n    let /** @type {?} */ newQuery: Query;\n    if (!query.queryId) {\n      newQuery = {...query, queryId: this.uuid()};\n    } else {\n      newQuery = query;\n    }\n\n    this.putQuery({query: newQuery, fromServer});\n    let /** @type {?} */ queryResult$: Observable<QueryResult>;\n    if (multi) {\n      queryResult$ = this.selectManyResults(newQuery.queryId, denormalise);\n    } else {\n      queryResult$ = this.selectOneResults(newQuery.queryId, denormalise);\n    }\n    return /** @type {?} */(( <Observable<QueryResult>>queryResult$.finally(() =>\n      this.removeQuery(newQuery.queryId)\n    )));\n  }\n/**\n * @return {?}\n */\nprivate uuid() {\n    return uuid();\n  }\n/**\n * Gets the current persisted state of the given resources.\n * Consider the use of selectResource(...) to get an observable of the resource.\n * \n * @param {?} identifier\n * @return {?}\n */\npublic getPersistedResourceSnapshot(identifier: ResourceIdentifier) {\n    let /** @type {?} */ snapshot = this.storeSnapshot;\n    if (\n      snapshot.data[identifier.type] &&\n      snapshot.data[identifier.type][identifier.id]\n    ) {\n      return snapshot.data[identifier.type][identifier.id].persistedResource;\n    }\n    return null;\n  }\n/**\n * Gets the current state of the given resources in the store.\n * Consider the use of selectResource(...) to get an observable of the resource.\n * \n * @param {?} identifier\n * @return {?}\n */\npublic getResourceSnapshot(identifier: ResourceIdentifier) {\n    let /** @type {?} */ snapshot = this.storeSnapshot;\n    if (\n      snapshot.data[identifier.type] &&\n      snapshot.data[identifier.type][identifier.id]\n    ) {\n      return snapshot.data[identifier.type][identifier.id];\n    }\n    return null;\n  }\n/**\n * @param {?} storeResource$\n * @return {?}\n */\npublic denormaliseResource(storeResource$: Observable<StoreResource> | Observable<StoreResource[]>): Observable<StoreResource> | Observable<StoreResource[]> {\n    return /** @type {?} */(( <\n      | Observable<StoreResource>\n      | Observable<StoreResource[]>>storeResource$.combineLatest(\n      this.store\n        .let(selectNgrxJsonApiZone(this.zoneId))\n        .map(state => state.data),\n      (storeResource: StoreResource | StoreResource[],\n       storeData: NgrxJsonApiStoreData) => {\n        if (_.isArray(storeResource)) {\n          return denormaliseStoreResources( /** @type {?} */((\n            storeResource as Array<StoreResource>)),\n            storeData\n          );\n        } else {\n          let /** @type {?} */ resource = /** @type {?} */(( storeResource as StoreResource));\n          return /** @type {?} */(( denormaliseStoreResource(resource, storeData) as StoreResource));\n        }\n      }\n    )));\n  }\n/**\n * @param {?} path\n * @param {?} resourceType\n * @return {?}\n */\npublic getDenormalisedPath(path: string, resourceType: string): string {\n    let /** @type {?} */ pathSeparator = /** @type {?} */(( _.get(\n      this.config,\n      'filteringConfig.pathSeparator'\n    ) as string));\n    return getDenormalisedPath(\n      path,\n      resourceType,\n      this.config.resourceDefinitions,\n      pathSeparator\n    );\n  }\n/**\n * @param {?} path\n * @param {?} storeResource\n * @return {?}\n */\npublic getDenormalisedValue(path: string, storeResource: StoreResource): any {\n    let /** @type {?} */ pathSeparator = /** @type {?} */(( _.get(\n      this.config,\n      'filteringConfig.pathSeparator'\n    ) as string));\n    return getDenormalisedValue(\n      path,\n      storeResource,\n      this.config.resourceDefinitions,\n      pathSeparator\n    );\n  }\n\n\n}\n\nfunction NgrxJsonApiService_tsickle_Closure_declarations() {\n/** @type {?} */\nNgrxJsonApiService.prototype.test;\n/**\n * Keeps current snapshot of the store to allow fast access to resources.\n * @type {?}\n */\nNgrxJsonApiService.prototype._storeSnapshot;\n/** @type {?} */\nNgrxJsonApiService.prototype.config;\n}\n\n","import { Injectable } from '@angular/core';\n\nimport { Action } from '@ngrx/store';\n\nimport {\n  Payload,\n  Resource,\n  ResourceIdentifier,\n  Query,\n  ModifyStoreResourceErrorsPayload,\n} from './interfaces';\n\nexport const /** @type {?} */ NgrxJsonApiActionTypes = {\n  API_POST_INIT: '[NgrxJsonApi] API_POST_INIT',\n  API_POST_SUCCESS: '[NgrxJsonApi] API_POST_SUCCESS',\n  API_POST_FAIL: '[NgrxJsonApi] API_POST_FAIL',\n  API_GET_INIT: '[NgrxJsonApi] API_GET_INIT',\n  API_GET_SUCCESS: '[NgrxJsonApi] API_GET_SUCCESS',\n  API_GET_FAIL: '[NgrxJsonApi] API_GET_FAIL',\n  API_PATCH_INIT: '[NgrxJsonApi] API_PATCH_INIT',\n  API_PATCH_SUCCESS: '[NgrxJsonApi] API_PATCH_SUCCESS',\n  API_PATCH_FAIL: '[NgrxJsonApi] API_PATCH_FAIL',\n  API_DELETE_INIT: '[NgrxJsonApi] API_DELETE_INIT',\n  API_DELETE_SUCCESS: '[NgrxJsonApi] API_DELETE_SUCCESS',\n  API_DELETE_FAIL: '[NgrxJsonApi] API_DELETE_FAIL',\n  API_APPLY_INIT: '[NgrxJsonApi] API_APPLY_INIT',\n  API_APPLY_SUCCESS: '[NgrxJsonApi] API_APPLY_SUCCESS',\n  API_APPLY_FAIL: '[NgrxJsonApi] API_APPLY_FAIL',\n  API_ROLLBACK: '[NgrxJsonApi] API_ROLLBACK',\n  API_QUERY_REFRESH: '[NgrxJsonApi] API_QUERY_REFRESH',\n  LOCAL_QUERY_INIT: '[NgrxJsonApi] LOCAL_QUERY_INIT',\n  LOCAL_QUERY_SUCCESS: '[NgrxJsonApi] LOCAL_QUERY_SUCCESS',\n  LOCAL_QUERY_FAIL: '[NgrxJsonApi] LOCAL_QUERY_FAIL',\n  DELETE_STORE_RESOURCE: '[NgrxJsonApi] DELETE_STORE_RESOURCE',\n  PATCH_STORE_RESOURCE: '[NgrxJsonApi] PATCH_STORE_RESOURCE',\n  NEW_STORE_RESOURCE: '[NgrxJsonApi] NEW_STORE_RESOURCE',\n  POST_STORE_RESOURCE: '[NgrxJsonApi] POST_STORE_RESOURCE',\n  MODIFY_STORE_RESOURCE_ERRORS: '[NgrxJsonApi] MODIFY_STORE_RESOURCE_ERRORS',\n  REMOVE_QUERY: '[NgrxJsonApi] REMOVE_QUERY',\n  COMPACT_STORE: '[NgrxJsonApi] COMPACT_STORE',\n  CLEAR_STORE: '[NgrxJsonApi] CLEAR_STORE',\n};\n\nexport interface ApiApplyInitPayload {\n  /**\n   * optional list of resource identifiers to perform apply. If not specified all change will be applied\n   * to the backend.\n   */\n  ids?: Array<ResourceIdentifier>;\n\n  /**\n   * if the apply action is restricted to a set of resources with the ids parameter. The include flag allows to\n   * specify which relationships to apply as well. Nested relationships are separated by a dot.\n   */\n  include?: Array<string>;\n}\n\nexport interface ApiApplyRollbackPayload extends ApiApplyInitPayload {}\n/**\n * @abstract\n */\nexport abstract class NgrxJsonApiAction implements Action{\n  abstract zoneId?: string;\n  abstract type: string;\nconstructor(){\n  }\n}\n\nfunction NgrxJsonApiAction_tsickle_Closure_declarations() {\n/** @type {?} */\nNgrxJsonApiAction.prototype.zoneId;\n/** @type {?} */\nNgrxJsonApiAction.prototype.type;\n}\n\nexport class ApiApplyInitAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.API_APPLY_INIT;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: ApiApplyInitPayload,\npublic zoneId: string) {\n    super();\n  }\n}\n\nfunction ApiApplyInitAction_tsickle_Closure_declarations() {\n/** @type {?} */\nApiApplyInitAction.prototype.type;\n/** @type {?} */\nApiApplyInitAction.prototype.payload;\n/** @type {?} */\nApiApplyInitAction.prototype.zoneId;\n}\n\nexport class ApiApplySuccessAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.API_APPLY_SUCCESS;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: Array<Action>,\npublic zoneId: string) {super();}\n}\n\nfunction ApiApplySuccessAction_tsickle_Closure_declarations() {\n/** @type {?} */\nApiApplySuccessAction.prototype.type;\n/** @type {?} */\nApiApplySuccessAction.prototype.payload;\n/** @type {?} */\nApiApplySuccessAction.prototype.zoneId;\n}\n\nexport class ApiApplyFailAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.API_APPLY_FAIL;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: Array<Action>,\npublic zoneId: string) {super();}\n}\n\nfunction ApiApplyFailAction_tsickle_Closure_declarations() {\n/** @type {?} */\nApiApplyFailAction.prototype.type;\n/** @type {?} */\nApiApplyFailAction.prototype.payload;\n/** @type {?} */\nApiApplyFailAction.prototype.zoneId;\n}\n\nexport class ApiPostInitAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.API_POST_INIT;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: Resource,\npublic zoneId: string) {super();}\n}\n\nfunction ApiPostInitAction_tsickle_Closure_declarations() {\n/** @type {?} */\nApiPostInitAction.prototype.type;\n/** @type {?} */\nApiPostInitAction.prototype.payload;\n/** @type {?} */\nApiPostInitAction.prototype.zoneId;\n}\n\nexport class ApiPostSuccessAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.API_POST_SUCCESS;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: Payload,\npublic zoneId: string) {super();}\n}\n\nfunction ApiPostSuccessAction_tsickle_Closure_declarations() {\n/** @type {?} */\nApiPostSuccessAction.prototype.type;\n/** @type {?} */\nApiPostSuccessAction.prototype.payload;\n/** @type {?} */\nApiPostSuccessAction.prototype.zoneId;\n}\n\nexport class ApiPostFailAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.API_POST_FAIL;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: Payload,\npublic zoneId: string) {super();}\n}\n\nfunction ApiPostFailAction_tsickle_Closure_declarations() {\n/** @type {?} */\nApiPostFailAction.prototype.type;\n/** @type {?} */\nApiPostFailAction.prototype.payload;\n/** @type {?} */\nApiPostFailAction.prototype.zoneId;\n}\n\nexport class ApiDeleteInitAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.API_DELETE_INIT;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: ResourceIdentifier,\npublic zoneId: string) {super();}\n}\n\nfunction ApiDeleteInitAction_tsickle_Closure_declarations() {\n/** @type {?} */\nApiDeleteInitAction.prototype.type;\n/** @type {?} */\nApiDeleteInitAction.prototype.payload;\n/** @type {?} */\nApiDeleteInitAction.prototype.zoneId;\n}\n\nexport class ApiDeleteSuccessAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.API_DELETE_SUCCESS;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: Payload,\npublic zoneId: string) {super();}\n}\n\nfunction ApiDeleteSuccessAction_tsickle_Closure_declarations() {\n/** @type {?} */\nApiDeleteSuccessAction.prototype.type;\n/** @type {?} */\nApiDeleteSuccessAction.prototype.payload;\n/** @type {?} */\nApiDeleteSuccessAction.prototype.zoneId;\n}\n\nexport class ApiDeleteFailAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.API_DELETE_FAIL;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: Payload,\npublic zoneId: string) {super();}\n}\n\nfunction ApiDeleteFailAction_tsickle_Closure_declarations() {\n/** @type {?} */\nApiDeleteFailAction.prototype.type;\n/** @type {?} */\nApiDeleteFailAction.prototype.payload;\n/** @type {?} */\nApiDeleteFailAction.prototype.zoneId;\n}\n\nexport class ApiGetInitAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.API_GET_INIT;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: Query,\npublic zoneId: string) {super();}\n}\n\nfunction ApiGetInitAction_tsickle_Closure_declarations() {\n/** @type {?} */\nApiGetInitAction.prototype.type;\n/** @type {?} */\nApiGetInitAction.prototype.payload;\n/** @type {?} */\nApiGetInitAction.prototype.zoneId;\n}\n\nexport class ApiGetSuccessAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.API_GET_SUCCESS;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: Payload,\npublic zoneId: string) {super();}\n}\n\nfunction ApiGetSuccessAction_tsickle_Closure_declarations() {\n/** @type {?} */\nApiGetSuccessAction.prototype.type;\n/** @type {?} */\nApiGetSuccessAction.prototype.payload;\n/** @type {?} */\nApiGetSuccessAction.prototype.zoneId;\n}\n\nexport class ApiGetFailAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.API_GET_FAIL;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: Payload,\npublic zoneId: string) {super();}\n}\n\nfunction ApiGetFailAction_tsickle_Closure_declarations() {\n/** @type {?} */\nApiGetFailAction.prototype.type;\n/** @type {?} */\nApiGetFailAction.prototype.payload;\n/** @type {?} */\nApiGetFailAction.prototype.zoneId;\n}\n\nexport class ApiRollbackAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.API_ROLLBACK;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: ApiApplyRollbackPayload,\npublic zoneId: string) {super();}\n}\n\nfunction ApiRollbackAction_tsickle_Closure_declarations() {\n/** @type {?} */\nApiRollbackAction.prototype.type;\n/** @type {?} */\nApiRollbackAction.prototype.payload;\n/** @type {?} */\nApiRollbackAction.prototype.zoneId;\n}\n\nexport class ApiPatchInitAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.API_PATCH_INIT;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: Resource,\npublic zoneId: string) {super();}\n}\n\nfunction ApiPatchInitAction_tsickle_Closure_declarations() {\n/** @type {?} */\nApiPatchInitAction.prototype.type;\n/** @type {?} */\nApiPatchInitAction.prototype.payload;\n/** @type {?} */\nApiPatchInitAction.prototype.zoneId;\n}\n\nexport class ApiPatchSuccessAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.API_PATCH_SUCCESS;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: Payload,\npublic zoneId: string) {super();}\n}\n\nfunction ApiPatchSuccessAction_tsickle_Closure_declarations() {\n/** @type {?} */\nApiPatchSuccessAction.prototype.type;\n/** @type {?} */\nApiPatchSuccessAction.prototype.payload;\n/** @type {?} */\nApiPatchSuccessAction.prototype.zoneId;\n}\n\nexport class ApiPatchFailAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.API_PATCH_FAIL;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: Payload,\npublic zoneId: string) {super();}\n}\n\nfunction ApiPatchFailAction_tsickle_Closure_declarations() {\n/** @type {?} */\nApiPatchFailAction.prototype.type;\n/** @type {?} */\nApiPatchFailAction.prototype.payload;\n/** @type {?} */\nApiPatchFailAction.prototype.zoneId;\n}\n\nexport class DeleteStoreResourceAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.DELETE_STORE_RESOURCE;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: ResourceIdentifier,\npublic zoneId: string) {super();}\n}\n\nfunction DeleteStoreResourceAction_tsickle_Closure_declarations() {\n/** @type {?} */\nDeleteStoreResourceAction.prototype.type;\n/** @type {?} */\nDeleteStoreResourceAction.prototype.payload;\n/** @type {?} */\nDeleteStoreResourceAction.prototype.zoneId;\n}\n\nexport class PatchStoreResourceAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.PATCH_STORE_RESOURCE;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: Resource,\npublic zoneId: string) {super();}\n}\n\nfunction PatchStoreResourceAction_tsickle_Closure_declarations() {\n/** @type {?} */\nPatchStoreResourceAction.prototype.type;\n/** @type {?} */\nPatchStoreResourceAction.prototype.payload;\n/** @type {?} */\nPatchStoreResourceAction.prototype.zoneId;\n}\n\nexport class NewStoreResourceAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.NEW_STORE_RESOURCE;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: Resource,\npublic zoneId: string) {super();}\n}\n\nfunction NewStoreResourceAction_tsickle_Closure_declarations() {\n/** @type {?} */\nNewStoreResourceAction.prototype.type;\n/** @type {?} */\nNewStoreResourceAction.prototype.payload;\n/** @type {?} */\nNewStoreResourceAction.prototype.zoneId;\n}\n\nexport class PostStoreResourceAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.POST_STORE_RESOURCE;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: Resource,\npublic zoneId: string) {super();}\n}\n\nfunction PostStoreResourceAction_tsickle_Closure_declarations() {\n/** @type {?} */\nPostStoreResourceAction.prototype.type;\n/** @type {?} */\nPostStoreResourceAction.prototype.payload;\n/** @type {?} */\nPostStoreResourceAction.prototype.zoneId;\n}\n\nexport class RemoveQueryAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.REMOVE_QUERY;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: string,\npublic zoneId: string) {super();}\n}\n\nfunction RemoveQueryAction_tsickle_Closure_declarations() {\n/** @type {?} */\nRemoveQueryAction.prototype.type;\n/** @type {?} */\nRemoveQueryAction.prototype.payload;\n/** @type {?} */\nRemoveQueryAction.prototype.zoneId;\n}\n\nexport class LocalQueryInitAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.LOCAL_QUERY_INIT;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: Query,\npublic zoneId: string) {super();}\n}\n\nfunction LocalQueryInitAction_tsickle_Closure_declarations() {\n/** @type {?} */\nLocalQueryInitAction.prototype.type;\n/** @type {?} */\nLocalQueryInitAction.prototype.payload;\n/** @type {?} */\nLocalQueryInitAction.prototype.zoneId;\n}\n\nexport class LocalQuerySuccessAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.LOCAL_QUERY_SUCCESS;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: Payload,\npublic zoneId: string) {super();}\n}\n\nfunction LocalQuerySuccessAction_tsickle_Closure_declarations() {\n/** @type {?} */\nLocalQuerySuccessAction.prototype.type;\n/** @type {?} */\nLocalQuerySuccessAction.prototype.payload;\n/** @type {?} */\nLocalQuerySuccessAction.prototype.zoneId;\n}\n\nexport class LocalQueryFailAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.LOCAL_QUERY_FAIL;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: Payload,\npublic zoneId: string) {super();}\n}\n\nfunction LocalQueryFailAction_tsickle_Closure_declarations() {\n/** @type {?} */\nLocalQueryFailAction.prototype.type;\n/** @type {?} */\nLocalQueryFailAction.prototype.payload;\n/** @type {?} */\nLocalQueryFailAction.prototype.zoneId;\n}\n\nexport class CompactStoreAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.COMPACT_STORE;\n/**\n * @param {?} zoneId\n */\nconstructor(public zoneId: string) {super();}\n}\n\nfunction CompactStoreAction_tsickle_Closure_declarations() {\n/** @type {?} */\nCompactStoreAction.prototype.type;\n/** @type {?} */\nCompactStoreAction.prototype.zoneId;\n}\n\nexport class ClearStoreAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.CLEAR_STORE;\n/**\n * @param {?} zoneId\n */\nconstructor(public zoneId: string) {super();}\n}\n\nfunction ClearStoreAction_tsickle_Closure_declarations() {\n/** @type {?} */\nClearStoreAction.prototype.type;\n/** @type {?} */\nClearStoreAction.prototype.zoneId;\n}\n\nexport class ApiQueryRefreshAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.API_QUERY_REFRESH;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: string,\npublic zoneId: string) {\n    super();\n    if (!payload) {\n      throw new Error('no query id provided for ApiQueryRefreshAction');\n    }\n  }\n}\n\nfunction ApiQueryRefreshAction_tsickle_Closure_declarations() {\n/** @type {?} */\nApiQueryRefreshAction.prototype.type;\n/** @type {?} */\nApiQueryRefreshAction.prototype.payload;\n/** @type {?} */\nApiQueryRefreshAction.prototype.zoneId;\n}\n\nexport class ModifyStoreResourceErrorsAction extends NgrxJsonApiAction {\n  readonly type = NgrxJsonApiActionTypes.MODIFY_STORE_RESOURCE_ERRORS;\n/**\n * @param {?} payload\n * @param {?} zoneId\n */\nconstructor(public payload: ModifyStoreResourceErrorsPayload,\npublic zoneId: string) {super();}\n}\n\nfunction ModifyStoreResourceErrorsAction_tsickle_Closure_declarations() {\n/** @type {?} */\nModifyStoreResourceErrorsAction.prototype.type;\n/** @type {?} */\nModifyStoreResourceErrorsAction.prototype.payload;\n/** @type {?} */\nModifyStoreResourceErrorsAction.prototype.zoneId;\n}\n\n\nexport type NgrxJsonApiActions =\n  | ApiApplyInitAction\n  | ApiApplySuccessAction\n  | ApiApplyFailAction\n  | ApiPostInitAction\n  | ApiPostSuccessAction\n  | ApiPostFailAction\n  | ApiDeleteInitAction\n  | ApiDeleteSuccessAction\n  | ApiDeleteFailAction\n  | ApiGetInitAction\n  | ApiGetSuccessAction\n  | ApiGetFailAction\n  | ApiRollbackAction\n  | ApiPatchInitAction\n  | ApiPatchSuccessAction\n  | ApiPatchFailAction\n  | DeleteStoreResourceAction\n  | PatchStoreResourceAction\n  | PostStoreResourceAction\n  | NewStoreResourceAction\n  | RemoveQueryAction\n  | ApiQueryRefreshAction\n  | LocalQueryInitAction\n  | LocalQuerySuccessAction\n  | LocalQueryFailAction\n  | ModifyStoreResourceErrorsAction\n  | CompactStoreAction\n  | ClearStoreAction;\n","import * as _ from 'lodash/index';\n\nimport {Observable} from 'rxjs/Observable';\nimport'rxjs/add/observable/concat';\nimport'rxjs/add/observable/throw';\nimport'rxjs/add/operator/combineLatest';\nimport'rxjs/add/operator/concat';\nimport'rxjs/add/operator/concatMap';\nimport'rxjs/add/operator/distinctUntilChanged';\nimport'rxjs/add/operator/do';\nimport'rxjs/add/operator/filter';\nimport'rxjs/add/operator/let';\nimport'rxjs/add/operator/map';\nimport'rxjs/add/operator/mergeMap';\nimport'rxjs/add/observable/zip';\n\nimport {Store} from '@ngrx/store';\n\nimport {\n  ManyQueryResult, NGRX_JSON_API_DEFAULT_ZONE,\n  NgrxJsonApiState,\n  NgrxJsonApiStore, NgrxJsonApiStoreResources,\n  NgrxJsonApiZone, OneQueryResult, Resource,\n  ResourceIdentifier, NgrxJsonApiStoreQueries,\n  StoreResource, NgrxJsonApiStoreData, StoreQuery\n} from './interfaces';\nimport {denormaliseStoreResource, denormaliseStoreResources} from './utils';\n/**\n * @return {?}\n */\nexport function selectNgrxJson(){\n  return  (state$: Store<any>) => state$.select('NgrxJsonApi')\n    .map(it => /** @type {?} */(( it as NgrxJsonApiState)))\n    .filter(it => !_.isUndefined(it));\n}\n/**\n * @return {?}\n */\nexport function selectNgrxJsonApiDefaultZone(){\n  return selectNgrxJsonApiZone(NGRX_JSON_API_DEFAULT_ZONE);\n}\n/**\n * @param {?} zoneId\n * @return {?}\n */\nexport function selectNgrxJsonApiZone(zoneId: string){\n  return (state$: Store<any>) => state$.let(selectNgrxJson())\n    .map(it => /** @type {?} */(( it.zones[zoneId] as NgrxJsonApiZone)));\n}\n/**\n * @param {?} state\n * @param {?} zoneId\n * @return {?}\n */\nexport function getNgrxJsonApiZone(state: any, zoneId: string){\n  return /** @type {?} */(( state['NgrxJsonApi']['zones'][zoneId] as NgrxJsonApiZone));\n}\n/**\n * @param {?} queryId\n * @return {?}\n */\nexport function selectStoreQuery(queryId: string):\n(state: Observable<NgrxJsonApiStore>) => Observable<StoreQuery>{\n  return (state$: Observable<NgrxJsonApiStore>) => {\n    return state$\n      .map(state => state.queries[queryId])\n  };\n}\n/**\n * @param {?} type\n * @return {?}\n */\nexport function selectStoreResourcesOfType(type: string):\n  (state: Observable<NgrxJsonApiStore>) => Observable<NgrxJsonApiStoreResources>{\n  return (state$: Observable<NgrxJsonApiStore>) => {\n    return state$\n      .map(state => state.data)\n      .map(data => (data ? data[type] : undefined));\n  };\n}\n/**\n * @param {?} identifier\n * @return {?}\n */\nexport function selectStoreResource(identifier: ResourceIdentifier) {\n  return (state$: Observable<NgrxJsonApiStore>) => {\n    return state$\n      .let(selectStoreResourcesOfType(identifier.type))\n      .map(\n        resources => /** @type {?} */((\n          (resources ? resources[identifier.id] : undefined) as StoreResource))\n      );\n  };\n}\n/**\n * @param {?} queryId\n * @param {?=} denormalize\n * @return {?}\n */\nexport function selectManyQueryResult(queryId: string, denormalize?: boolean):\n  (state: Observable<NgrxJsonApiStore>) => Observable<ManyQueryResult> {\n  return (state$: Observable<NgrxJsonApiStore>) => {\n    return state$.map(state => {\n      let /** @type {?} */ storeQuery = state.queries[queryId];\n      if (!storeQuery) {\n        return undefined;\n      }\n\n      if (_.isEmpty(storeQuery.resultIds)) {\n        let /** @type {?} */ queryResult: ManyQueryResult = {\n          ...storeQuery,\n          data: _.isUndefined(storeQuery.resultIds) ? undefined : [],\n        };\n        return queryResult;\n      } else {\n        let /** @type {?} */ results = storeQuery.resultIds.map(\n          id => (state.data[id.type] ? state.data[id.type][id.id] : undefined)\n        );\n        if (denormalize) {\n          results = denormaliseStoreResources(results, state.data);\n        }\n        return {\n          ...storeQuery,\n          data: /** @type {?} */(( results as Array<StoreResource>)),\n        };\n      }\n    });\n  };\n}\n/**\n * @param {?} queryId\n * @param {?=} denormalize\n * @return {?}\n */\nexport function selectOneQueryResult(queryId: string, denormalize?: boolean) :\n (state: Observable<NgrxJsonApiStore>) => Observable<OneQueryResult> {\n  return (state$: Observable<NgrxJsonApiStore>) => {\n    return state$.map(state => {\n      let /** @type {?} */ storeQuery = state.queries[queryId];\n      if (!storeQuery) {\n        return undefined;\n      }\n\n      if (_.isEmpty(storeQuery.resultIds)) {\n        let /** @type {?} */ queryResult: OneQueryResult = {\n          ...storeQuery,\n          data: _.isUndefined(storeQuery.resultIds) ? undefined : null,\n        };\n        return queryResult;\n      } else {\n        if (storeQuery.resultIds.length >= 2) {\n          throw new Error(\n            'expected single result for query ' + storeQuery.query.queryId\n          );\n        }\n\n        let /** @type {?} */ resultId = storeQuery.resultIds[0];\n        let /** @type {?} */ result = state.data[resultId.type]\n          ? state.data[resultId.type][resultId.id]\n          : undefined;\n        if (denormalize) {\n          result = denormaliseStoreResource(result, state.data);\n        }\n        const /** @type {?} */ queryResult: OneQueryResult = {\n          ...storeQuery,\n          data: result\n        };\n        return queryResult;\n      }\n    });\n  };\n}\n/**\n * deprecated, to not use any longer\n * @param {?} state$\n * @return {?}\n */\nexport function getNgrxJsonApiStore(state$: Store<any>): Observable<NgrxJsonApiStore>{\n  return state$.let(selectNgrxJsonApiDefaultZone());\n}\n/**\n * deprecated, to not use any longer\n */\nexport class NgrxJsonApiSelectors {\nconstructor() {}\n/**\n * @return {?}\n */\npublic getNgrxJsonApiStore$(): (\n    state$: Store<any>\n  ) => Observable<NgrxJsonApiStore> {\n    return (state$: Store<any>): Observable<NgrxJsonApiStore> => {\n      return state$.let(selectNgrxJsonApiDefaultZone());\n    };\n  }\n/**\n * @return {?}\n */\npublic getStoreData$(): (\n    state$: Store<NgrxJsonApiStore>\n  ) => Observable<NgrxJsonApiStoreData> {\n    return (\n      state$: Store<NgrxJsonApiStore>\n    ): Observable<NgrxJsonApiStoreData> => {\n      return state$.select('data');\n    };\n  }\n/**\n * @param {?} type\n * @return {?}\n */\npublic getStoreResourceOfType$(type: string) {\n    return (state$: Observable<NgrxJsonApiStore>) => {\n      return state$\n        .let(this.getStoreData$())\n        .map(resources => (resources ? resources[type] : undefined));\n    };\n  }\n/**\n * @return {?}\n */\npublic getStoreQueries$() {\n    return (state$: Store<NgrxJsonApiStore>) => {\n      return state$.select('queries');\n    };\n  }\n/**\n * @param {?} queryId\n * @return {?}\n */\npublic getResourceQuery$(queryId: string) {\n    return selectStoreQuery(queryId);\n  }\n/**\n * @param {?} identifier\n * @return {?}\n */\npublic getStoreResource$(identifier: ResourceIdentifier) {\n    return selectStoreResource(identifier);\n  }\n/**\n * @param {?} queryId\n * @param {?} denormalize\n * @return {?}\n */\npublic getManyResults$(queryId: string, denormalize: boolean) {\n    return selectManyQueryResult(queryId, denormalize);\n  }\n/**\n * @param {?} queryId\n * @param {?} denormalize\n * @return {?}\n */\npublic getOneResult$(queryId: string, denormalize: boolean) {\n    return selectOneQueryResult(queryId, denormalize);\n  }\n/**\n * @param {?} identifier\n * @return {?}\n */\npublic getPersistedResource$(identifier: ResourceIdentifier) {\n    return (state$: Observable<NgrxJsonApiStore>) => {\n      return state$\n        .let(this.getStoreResource$(identifier))\n        .map(it => (it ? it.persistedResource : undefined));\n    };\n  }\n}\n","import * as _ from 'lodash/index';\n\nimport { Actions } from '@ngrx/effects';\n\nimport {\n  Direction,\n  Document,\n  FilteringOperator,\n  FilteringParam,\n  NgrxJsonApiFilteringConfig,\n  NgrxJsonApiStore,\n  NgrxJsonApiStoreData,\n  NgrxJsonApiStoreResources,\n  NgrxJsonApiStoreQueries,\n  OperationType,\n  Payload,\n  Query,\n  Resource,\n  ResourceDefinition,\n  ResourceIdentifier,\n  ResourceError,\n  ResourceState,\n  StoreQuery,\n  SortingParam,\n  StoreResource,\n  ErrorModificationType,\n} from './interfaces';\n/**\n * @param {?} state\n * @param {?} path\n * @param {?} value\n * @return {?}\n */\nexport function setIn(state: any, path:string, value: any){\n  let /** @type {?} */ currentValue = _.get(state, path);\n  if(value === currentValue){\n    return state;\n  }\n  return _.setWith(_.clone(state), path, value, (nsValue: any, key: string, nsObject: any) => {\n    const /** @type {?} */ newObject = _.clone(nsObject);\n    newObject[key] = nsValue;\n    return newObject;\n  });\n}\n\nexport const /** @type {?} */ denormaliseObject = (\n  resource: Resource,\n  storeData: NgrxJsonApiStoreData,\n  bag: NgrxJsonApiStoreData\n): any => {\n  // this function MUST MUTATE resource\n  let /** @type {?} */ denormalised = resource;\n\n  if (resource.hasOwnProperty('relationships')) {\n    Object.keys(resource.relationships).forEach(relation => {\n      resource.relationships[relation]['reference'] = /** @type {?} */(( {} as Resource));\n      let /** @type {?} */ data: ResourceIdentifier | Array<ResourceIdentifier> =\n        resource.relationships[relation].data;\n      // denormalised relation\n      let /** @type {?} */ relationDenorm;\n\n      if (data === null || _.isEqual(data, [])) {\n        relationDenorm = data;\n      } else if (_.isPlainObject(data)) {\n        // hasOne relation\n        let /** @type {?} */ relatedRS = getSingleStoreResource( /** @type {?} */((\n          <ResourceIdentifier>data)),\n          storeData\n        );\n        relationDenorm = denormaliseStoreResource(relatedRS, storeData, bag);\n      } else if (_.isArray(data)) {\n        // hasMany relation\n        let /** @type {?} */ relatedRSs: Array<StoreResource> = getMultipleStoreResource( /** @type {?} */((\n          <ResourceIdentifier[]>data)),\n          storeData\n        );\n        relationDenorm = relatedRSs.map(r =>\n          denormaliseStoreResource(r, storeData, bag)\n        );\n      }\n      let /** @type {?} */ relationDenormPath = 'relationships.' + relation + '.reference';\n      denormalised = /** @type {?} */(( <Resource>_.set(\n        denormalised,\n        relationDenormPath,\n        relationDenorm\n      )));\n    });\n  }\n\n  return denormalised;\n};\n\nexport const /** @type {?} */ denormaliseStoreResources = (\n  items: Array<StoreResource>,\n  storeData: NgrxJsonApiStoreData,\n  bag: any = {}\n): Array<StoreResource> => {\n  let /** @type {?} */ results: Array<StoreResource> = [];\n  for (let /** @type {?} */ item of items) {\n    results.push(denormaliseStoreResource(item, storeData, bag));\n  }\n  return results;\n};\n\nexport const /** @type {?} */ denormaliseStoreResource = (\n  item: StoreResource,\n  storeData: NgrxJsonApiStoreData,\n  bag: any = {}\n): any => {\n  if (!item) {\n    return null;\n  }\n  let /** @type {?} */ storeResource = _.cloneDeep( /** @type {?} */((<StoreResource>item)));\n\n  if (_.isUndefined(bag[storeResource.type])) {\n    bag[storeResource.type] = {};\n  }\n  if (_.isUndefined(bag[storeResource.type][storeResource.id])) {\n    bag[storeResource.type][storeResource.id] = storeResource;\n    storeResource = denormaliseObject(storeResource, storeData, bag);\n    if (storeResource.persistedResource) {\n      storeResource.persistedResource = denormaliseObject(\n        storeResource.persistedResource,\n        storeData,\n        bag\n      );\n    }\n  }\n\n  return bag[storeResource.type][storeResource.id];\n};\n\nexport const /** @type {?} */ getSingleStoreResource = (\n  resourceId: ResourceIdentifier,\n  storeData: NgrxJsonApiStoreData\n): StoreResource => {\n  return _.get(storeData, [resourceId.type, resourceId.id], null);\n};\n\nexport const /** @type {?} */ getMultipleStoreResource = (\n  resourceIds: Array<ResourceIdentifier>,\n  resources: NgrxJsonApiStoreData\n): Array<StoreResource> => {\n  return resourceIds.map(id => getSingleStoreResource(id, resources));\n};\n\nexport const /** @type {?} */ getDenormalisedPath = (\n  path: string,\n  baseResourceType: string,\n  resourceDefinitions: Array<ResourceDefinition>,\n  pathSeparator?: string\n): string => {\n  let /** @type {?} */ denormPath: string[] = [];\n  if (_.isUndefined(pathSeparator)) {\n    pathSeparator = '.';\n  }\n  let /** @type {?} */ fields: Array<string> = path.split(pathSeparator);\n  let /** @type {?} */ currentResourceType = baseResourceType;\n  for (let /** @type {?} */ i = 0; i < fields.length; i++) {\n    let /** @type {?} */ definition = _.find(resourceDefinitions, { type: currentResourceType });\n\n    if (_.isUndefined(definition)) {\n      throw new Error('Definition not found');\n    }\n    // if both attributes and relationships are missing, raise an error\n    if (\n      _.isUndefined(definition.attributes) &&\n      _.isUndefined(definition.relationships)\n    ) {\n      throw new Error('Attributes or Relationships must be provided');\n    }\n\n    if (definition.attributes.hasOwnProperty(fields[i])) {\n      denormPath.push('attributes', fields[i]);\n      break;\n    } else if (definition.relationships.hasOwnProperty(fields[i])) {\n      let /** @type {?} */ resourceRelation = definition.relationships[fields[i]];\n      if (resourceRelation.relationType === 'hasMany') {\n        if (i !== fields.length - 1) {\n          throw new Error('Cannot filter past a hasMany relation');\n        } else {\n          denormPath.push('relationships', fields[i], 'reference');\n        }\n      } else {\n        currentResourceType = resourceRelation.type;\n        denormPath.push('relationships', fields[i], 'reference');\n      }\n    } else {\n      throw new Error('Cannot find field in attributes or relationships');\n    }\n  }\n  return denormPath.join(pathSeparator);\n};\n\nexport const /** @type {?} */ getDenormalisedValue = (\n  path: string,\n  storeResource: StoreResource,\n  resourceDefinitions: Array<ResourceDefinition>,\n  pathSeparator?: string\n) => {\n  let /** @type {?} */ denormalisedPath = getDenormalisedPath(\n    path,\n    storeResource.type,\n    resourceDefinitions,\n    pathSeparator\n  );\n  return _.get(storeResource, denormalisedPath);\n};\n/**\n * Given two objects, it will merge the second in the first.\n * \n */\nexport const updateResourceObject = (\n  original: Resource,\n  source: Resource\n): Resource => {\n  // by default arrays would make use of concat.\n  function customizer(objValue: any, srcValue: any) {\n    if (_.isArray(objValue)) {\n      return srcValue;\n    }\n  }\n\n  return _.mergeWith({}, original, source, customizer);\n};\n/**\n * Insert a StoreResource given the Resource and the StoreResources\n * \n */\nexport const insertStoreResource = (\n  storeResources: NgrxJsonApiStoreResources,\n  resource: Resource,\n  fromServer: boolean\n): NgrxJsonApiStoreResources => {\n  let newStoreResources = { ...storeResources };\n  if (fromServer) {\n    newStoreResources[resource.id] = {\n      ...resource,\n      persistedResource: resource,\n      state: 'IN_SYNC',\n      errors: [],\n      loading: false,\n    } as StoreResource;\n  } else {\n    newStoreResources[resource.id] = {\n      ...resource,\n      persistedResource: null,\n      state: 'CREATED',\n      errors: [],\n      loading: false,\n    } as StoreResource;\n  }\n  return _.isEqual(storeResources, newStoreResources)\n    ? storeResources\n    : newStoreResources;\n};\n/**\n * Removes a StoreResource given the Resource and the StoreResources\n * \n */\nexport const removeStoreResource = (\n  storeData: NgrxJsonApiStoreData,\n  resourceId: ResourceIdentifier\n): NgrxJsonApiStoreData => {\n  if (storeData[resourceId.type][resourceId.id]) {\n    let newState: NgrxJsonApiStoreData = { ...storeData };\n    newState[resourceId.type] = { ...newState[resourceId.type] };\n    delete newState[resourceId.type][resourceId.id];\n    return newState;\n  }\n  return storeData;\n};\n/**\n * Updates the state of a StoreResource in the store.\n * \n * @param storeData\n * @param resourceId\n * @param resourceState\n * @param loading\n * @return\n */\nexport const updateResourceState = (\n  storeData: NgrxJsonApiStoreData,\n  resourceId: ResourceIdentifier,\n  resourceState?: ResourceState,\n  loading?: OperationType\n): NgrxJsonApiStoreData => {\n  if (\n    _.isUndefined(storeData[resourceId.type]) ||\n    _.isUndefined(storeData[resourceId.type][resourceId.id])\n  ) {\n    if (resourceState === 'DELETED') {\n      let newState: NgrxJsonApiStoreData = { ...storeData };\n      newState[resourceId.type] = { ...newState[resourceId.type] };\n      newState[resourceId.type][resourceId.id] = {\n        ...newState[resourceId.type][resourceId.id],\n      };\n      newState[resourceId.type][resourceId.id] = {\n        type: resourceId.type,\n        id: resourceId.id,\n        persistedResource: null,\n      } as StoreResource;\n      newState[resourceId.type][resourceId.id].state = 'NOT_LOADED';\n      return newState;\n    } else {\n      return storeData;\n    }\n  }\n  let newState: NgrxJsonApiStoreData = { ...storeData };\n  newState[resourceId.type] = { ...newState[resourceId.type] };\n  newState[resourceId.type][resourceId.id] = {\n    ...newState[resourceId.type][resourceId.id],\n  };\n  if (resourceState !== null) {\n    newState[resourceId.type][resourceId.id].state = resourceState;\n  }\n  if (loading != null) {\n    newState[resourceId.type][resourceId.id].loading = loading;\n  }\n  return newState;\n};\n/**\n * Check equality of resource and ignore additional contents used by the\n * store (state, persistedResource, etc.)\n * @param resource0\n * @param resource1\n * @return\n */\nexport const isEqualResource = (\n  resource0: Resource,\n  resource1: Resource\n): boolean => {\n  if (resource0 === resource1) {\n    return true;\n  }\n  if (resource0 !== null !== (resource1 !== null)) {\n    return false;\n  }\n\n  return (\n    _.isEqual(resource0.id, resource1.id) &&\n    _.isEqual(resource0.type, resource1.type) &&\n    _.isEqual(resource0.attributes, resource1.attributes) &&\n    _.isEqual(resource0.meta, resource1.meta) &&\n    _.isEqual(resource0.links, resource1.links) &&\n    _.isEqual(resource0.relationships, resource1.relationships)\n  );\n};\n\nexport const /** @type {?} */ updateStoreResource = (\n  state: NgrxJsonApiStoreResources,\n  resource: Resource,\n  fromServer: boolean\n): NgrxJsonApiStoreResources => {\n  let /** @type {?} */ foundStoreResource = state[resource.id];\n  let /** @type {?} */ persistedResource = state[resource.id].persistedResource;\n\n  let /** @type {?} */ newResource: Resource;\n  let /** @type {?} */ newResourceState: ResourceState;\n  if (fromServer) {\n    // form server, override everything\n    // TODO need to handle check and keep local updates?\n    newResource = resource;\n    persistedResource = resource;\n    newResourceState = 'IN_SYNC';\n  } else {\n    let /** @type {?} */ mergedResource = updateResourceObject(foundStoreResource, resource);\n    if (isEqualResource(mergedResource, persistedResource)) {\n      // no changes anymore, do nothing\n      newResource = persistedResource;\n      newResourceState = 'IN_SYNC';\n    } else {\n      // merge changes and mark as CREATED or UPDATED depending on whether\n      // an original version is available\n      newResource = mergedResource;\n      if (persistedResource !== null) {\n        newResourceState = 'UPDATED';\n      } else if (foundStoreResource.state === 'NEW') {\n        newResourceState = 'NEW';\n      } else {\n        newResourceState = 'CREATED';\n      }\n    }\n  }\n\n  let /** @type {?} */ newState = { ...state };\n  newState[resource.id] = /** @type {?} */(( {\n    ...newResource,\n    persistedResource: persistedResource,\n    state: newResourceState,\n    errors: [],\n    loading: false,\n  } as StoreResource));\n\n  return _.isEqual(newState[resource.id], state[resource.id])\n    ? state\n    : newState;\n};\n\nexport const /** @type {?} */ updateQueriesForDeletedResource = (\n  state: NgrxJsonApiStoreQueries,\n  deletedId: ResourceIdentifier\n): NgrxJsonApiStoreQueries => {\n  let /** @type {?} */ newState: NgrxJsonApiStoreQueries = state;\n  for (let /** @type {?} */ queryId in state) {\n    if (state.hasOwnProperty(queryId)) {\n      let /** @type {?} */ queryState = state[queryId];\n      if (\n        queryState.query.id === deletedId.id &&\n        queryState.query.type === deletedId.type\n      ) {\n        // found a query for a resource that was deleted => modify to 404\n        newState = clearQueryResult(newState, queryState.query.queryId);\n        let /** @type {?} */ notFoundError: ResourceError = { code: '404', status: 'Not Found' };\n        newState[queryState.query.queryId].errors = [notFoundError];\n      }\n    }\n  }\n  return newState;\n};\n\nexport const /** @type {?} */ updateResourceErrorsForQuery = (\n  storeData: NgrxJsonApiStoreData,\n  query: Query,\n  document: Document\n): NgrxJsonApiStoreData => {\n  if (!query.type || !query.id || document.data instanceof Array) {\n    throw new Error('invalid parameters');\n  }\n  return updateResourceErrors(\n    storeData,\n    { id: query.id, type: query.type },\n    document.errors,\n    'SET'\n  );\n};\n\nexport const /** @type {?} */ updateResourceErrors = (\n  storeData: NgrxJsonApiStoreData,\n  id: ResourceIdentifier,\n  errors: Array<ResourceError>,\n  modificationType: ErrorModificationType\n): NgrxJsonApiStoreData => {\n  if (!storeData[id.type] || !storeData[id.type][id.id]) {\n    return storeData;\n  }\n  let /** @type {?} */ newState: NgrxJsonApiStoreData = { ...storeData };\n  newState[id.type] = { ...newState[id.type] };\n  let /** @type {?} */ storeResource = { ...newState[id.type][id.id] };\n\n  if (modificationType === 'SET') {\n    storeResource.errors = [];\n    if (errors) {\n      storeResource.errors.push(...errors);\n    }\n  } else if (modificationType === 'ADD') {\n    let /** @type {?} */ currentErrors = storeResource.errors;\n    storeResource.errors = [];\n    if (currentErrors) {\n      storeResource.errors.push(...currentErrors);\n    }\n    if (errors) {\n      storeResource.errors.push(...errors);\n    }\n  } else {\n    let /** @type {?} */ currentErrors = storeResource.errors;\n    storeResource.errors = [];\n    if (currentErrors) {\n      for (let /** @type {?} */ currentError of currentErrors) {\n        let /** @type {?} */ remove =\n          errors && errors.filter(it => _.isEqual(it, currentError)).length > 0;\n        if (!remove) {\n          storeResource.errors.push(currentError);\n        }\n      }\n    }\n  }\n  newState[id.type][id.id] = storeResource;\n  return newState;\n};\n/**\n * @param {?} newState\n * @param {?} type\n * @param {?} id\n * @return {?}\n */\nfunction rollbackResource(\n  newState: NgrxJsonApiStoreData,\n  type: string,\n  id: string\n) {\n  let /** @type {?} */ storeResource = newState[type][id];\n  if (!storeResource.persistedResource) {\n    delete newState[type][id];\n  } else if (storeResource.state !== 'IN_SYNC') {\n    newState[type][id] = /** @type {?} */(( <StoreResource>{\n      ...newState[type][id],\n      state: 'IN_SYNC',\n      resource: newState[type][id].persistedResource,\n    }));\n  }\n}\n\nexport const /** @type {?} */ rollbackStoreResources = (\n  storeData: NgrxJsonApiStoreData,\n  ids: Array<ResourceIdentifier>,\n  include: Array<string>\n): NgrxJsonApiStoreData => {\n  let /** @type {?} */ newState: NgrxJsonApiStoreData = { ...storeData };\n\n  if (_.isUndefined(ids)) {\n    Object.keys(newState).forEach(type => {\n      newState[type] = { ...newState[type] };\n      Object.keys(newState[type]).forEach(id => {\n        rollbackResource(newState, type, id);\n      });\n    });\n  } else {\n    let /** @type {?} */ modifiedResources = getPendingChanges(newState, ids, include, true);\n    for (let /** @type {?} */ modifiedResource of modifiedResources) {\n      rollbackResource(newState, modifiedResource.type, modifiedResource.id);\n    }\n  }\n  return newState;\n};\n\nexport const /** @type {?} */ deleteStoreResources = (\n  storeData: NgrxJsonApiStoreData,\n  query: Query\n) => {\n  let /** @type {?} */ newState = { ...storeData };\n  // if an id is not provided, all resources of the provided type will be deleted\n  if (typeof query.id === 'undefined') {\n    newState[query.type] = {};\n  } else {\n    newState[query.type] = /** @type {?} */(( _.omit(newState[query.type], [\n      query.id,\n    ]) as NgrxJsonApiStoreResources));\n  }\n  return newState;\n};\n\nexport const /** @type {?} */ clearQueryResult = (\n  storeData: NgrxJsonApiStoreQueries,\n  queryId: string\n) => {\n  let /** @type {?} */ newQuery = { ...storeData[queryId] };\n  delete newQuery.resultIds;\n  delete newQuery.errors;\n  delete newQuery.meta;\n  delete newQuery.links;\n\n  let /** @type {?} */ newState = { ...storeData };\n  newState[queryId] = newQuery;\n  return newState;\n};\n/**\n * Updates a given storeData by either inserting a resource or updating\n * an existing resource.\n * \n * @param storeData\n * @param resource\n * @param fromServer\n * @param override \n * \n * @return a new NgrxJsonApiStoreData with an inserted/updated resource.\n */\nexport const updateStoreDataFromResource = (\n  storeData: NgrxJsonApiStoreData,\n  resource: Resource,\n  fromServer: boolean,\n  override: boolean\n): NgrxJsonApiStoreData => {\n  if (_.isUndefined(storeData[resource.type])) {\n    let newStoreData: NgrxJsonApiStoreData = { ...storeData };\n    newStoreData[resource.type] = {};\n    newStoreData[resource.type] = insertStoreResource(\n      newStoreData[resource.type],\n      resource,\n      fromServer\n    );\n    return newStoreData;\n  } else if (_.isUndefined(storeData[resource.type][resource.id]) || override) {\n    let updatedStoreResources = insertStoreResource(\n      storeData[resource.type],\n      resource,\n      fromServer\n    );\n\n    // check if nothing has changed\n    if (updatedStoreResources !== storeData[resource.type]) {\n      let newStoreData: NgrxJsonApiStoreData = { ...storeData };\n      newStoreData[resource.type] = updatedStoreResources;\n      return newStoreData;\n    }\n    return storeData;\n  } else {\n    let updatedStoreResources = updateStoreResource(\n      storeData[resource.type],\n      resource,\n      fromServer\n    );\n\n    // check if nothing has changed\n    if (updatedStoreResources !== storeData[resource.type]) {\n      let newStoreData: NgrxJsonApiStoreData = { ...storeData };\n      newStoreData[resource.type] = updatedStoreResources;\n      return newStoreData;\n    }\n    return storeData;\n  }\n};\n\nexport const /** @type {?} */ updateStoreDataFromPayload = (\n  storeData: NgrxJsonApiStoreData,\n  payload: Document\n): NgrxJsonApiStoreData => {\n  let /** @type {?} */ data = /** @type {?} */(( <Array<Resource> | Resource>_.get(payload, 'data')));\n\n  if (_.isUndefined(data)) {\n    return storeData;\n  }\n\n  data = _.isArray(data) ? /** @type {?} */(( <Resource[]>data)) : /** @type {?} */(( <Resource[]>[data]));\n\n  let /** @type {?} */ included = /** @type {?} */(( <Array<Resource>>_.get(payload, 'included')));\n\n  if (!_.isUndefined(included)) {\n    data = [...data, ...included];\n  }\n\n  return /** @type {?} */(( <NgrxJsonApiStoreData>_.reduce(\n    data,\n    (result: NgrxJsonApiStoreData, resource: Resource) => {\n      // let resourcePath: string = getResourcePath(\n      //   result.resourcesDefinitions, resource.type);\n      // Extremely ugly, needs refactoring!\n      // let newPartialState = { data: {} };\n      // newPartialState.data[resourcePath] = { data: {} } ;\n      // newPartialState.data = updateOrInsertResource(\n      // result.data, resource);\n      return updateStoreDataFromResource(result, resource, true, true);\n      // result.data[resourcePath].data = updateOrInsertResource(\n      // result.data[resourcePath].data, resource);\n      // return <NgrxJsonApiStore>_.merge({}, result, newPartialState);\n    },\n    storeData\n  )));\n};\n/**\n * Updates the storeQueries by either adding a new ResourceQueryStore\n * or modifying an existing one.\n * \n * @param storeQueries\n * @param query \n * \n * @return a new NgrxJsonApiStoreQueries with the inserted/modified\n * ResourceQueryStore\n */\nexport const updateQueryParams = (\n  storeQueries: NgrxJsonApiStoreQueries,\n  query: Query\n): NgrxJsonApiStoreQueries => {\n  if (!query.queryId) {\n    return storeQueries;\n  }\n\n  let newStoreQuery = { ...storeQueries[query.queryId] };\n  newStoreQuery.loading = true;\n  newStoreQuery.query = _.cloneDeep(query);\n\n  if (_.isUndefined(newStoreQuery.errors)) {\n    newStoreQuery.errors = [];\n  }\n\n  let newStoreQueries: NgrxJsonApiStoreQueries = { ...storeQueries };\n  newStoreQueries[newStoreQuery.query.queryId] = newStoreQuery;\n  return newStoreQueries;\n};\n/**\n * Updates the query results for given a queryId and the results.\n */\nexport const updateQueryResults = (\n  storeQueries: NgrxJsonApiStoreQueries,\n  queryId: string,\n  document: Document\n): NgrxJsonApiStoreQueries => {\n  let storeQuery: StoreQuery = storeQueries[queryId];\n  if (storeQuery) {\n    let data = _.isArray(document.data) ? document.data : [document.data];\n    let newQueryStore = {\n      ...storeQuery,\n      resultIds: data.map(it => (it ? toResourceIdentifier(it) : [])),\n      meta: document.meta,\n      links: document.links,\n      loading: false,\n    };\n\n    if(!_.isEqual(newQueryStore, storeQuery)){\n      let newState: NgrxJsonApiStoreQueries = { ...storeQueries };\n      newState[queryId] = <StoreQuery>newQueryStore;\n      return newState;\n    }\n  }\n  return storeQueries;\n};\n/**\n * Update the query errors given the queryId and a storeQueries and the\n * document containing the error\n * \n * \n */\nexport const updateQueryErrors = (\n  storeQueries: NgrxJsonApiStoreQueries,\n  queryId: string,\n  document: Document\n): NgrxJsonApiStoreQueries => {\n  if (!queryId || !storeQueries[queryId]) {\n    return storeQueries;\n  }\n  let newState = { ...storeQueries };\n  let newStoreQuery = { ...newState[queryId] };\n  newStoreQuery.errors = [];\n  if (document.errors) {\n    newStoreQuery.errors.push(...document.errors);\n  }\n  newState[queryId] = newStoreQuery;\n  return newState;\n};\n/**\n * Removes a query given its queryId from the NgrxJsonApiStoreQueries.\n */\nexport const removeQuery = (\n  storeQueries: NgrxJsonApiStoreQueries,\n  queryId: string\n): NgrxJsonApiStoreQueries => {\n  let newState: NgrxJsonApiStoreQueries = { ...storeQueries };\n  delete newState[queryId];\n  return newState;\n};\n/**\n * Given a resource, it will return an object containing the resource id and type.\n */\nexport const toResourceIdentifier = (\n  resource: Resource\n): ResourceIdentifier => {\n  return { type: resource.type, id: resource.id };\n};\n/**\n * Get the value for the last field in a given fitering path.\n * \n * @param path\n * @param baseStoreResource\n * @param storeData\n * @param resourceDefinitions\n * @param pathSepartor\n * @return the value of the last field in the path.\n */\nexport const getResourceFieldValueFromPath = (\n  path: string,\n  baseStoreResource: StoreResource,\n  storeData: NgrxJsonApiStoreData,\n  resourceDefinitions: Array<ResourceDefinition>,\n  pathSeparator?: string\n) => {\n  if (_.isUndefined(pathSeparator)) {\n    pathSeparator = '.';\n  }\n  let fields: Array<string> = path.split(pathSeparator);\n  let currentStoreResource = baseStoreResource;\n  for (let i = 0; i < fields.length; i++) {\n    let definition = _.find(resourceDefinitions, {\n      type: currentStoreResource.type,\n    });\n\n    if (_.isUndefined(definition)) {\n      throw new Error('Definition not found');\n    }\n    // if both attributes and relationships are missing, raise an error\n    if (\n      _.isUndefined(definition.attributes) &&\n      _.isUndefined(definition.relationships)\n    ) {\n      throw new Error('Attributes or Relationships must be provided');\n    }\n    if (definition.attributes.hasOwnProperty(fields[i])) {\n      return _.get(currentStoreResource, 'attributes.' + fields[i], null);\n    } else if (definition.relationships.hasOwnProperty(fields[i])) {\n      if (i === fields.length - 1) {\n        throw new Error(\n          'The last field in the filtering path cannot be a relation'\n        );\n      }\n      let resourceRelation = definition.relationships[fields[i]];\n      if (resourceRelation.relationType === 'hasMany') {\n        throw new Error('Cannot filter past a hasMany relation');\n      } else {\n        let relation = _.get(\n          currentStoreResource,\n          'relationships.' + fields[i],\n          null\n        );\n        if (!relation || !relation.data) {\n          return null;\n        } else {\n          let relatedPath = [resourceRelation.type, relation.data.id];\n          currentStoreResource = <StoreResource>_.get(storeData, relatedPath);\n        }\n      }\n    } else {\n      throw new Error('Cannot find field in attributes or relationships');\n    }\n    if (_.isUndefined(currentStoreResource)) {\n      return null;\n    }\n  }\n};\n\nexport const /** @type {?} */ filterResources = (\n  resources: NgrxJsonApiStoreResources,\n  storeData: NgrxJsonApiStoreData,\n  query: Query,\n  resourceDefinitions: Array<ResourceDefinition>,\n  filteringConfig?: NgrxJsonApiFilteringConfig\n) => {\n  return _.filter(resources, resource => {\n    if (\n      query.hasOwnProperty('params') &&\n      query.params.hasOwnProperty('filtering')\n    ) {\n      return query.params.filtering.every(element => {\n        let /** @type {?} */ pathSeparator;\n        let /** @type {?} */ filteringOperators;\n\n        if (!_.isUndefined(filteringConfig)) {\n          pathSeparator = /** @type {?} */(( <string>_.get(filteringConfig, 'pathSeparator')));\n          filteringOperators = /** @type {?} */(( <Array<FilteringOperator>>_.get(\n            filteringConfig,\n            'filteringOperators'\n          )));\n        }\n        // resource type and attribute\n        let /** @type {?} */ resourceFieldValue = getResourceFieldValueFromPath(\n          element.path,\n          resource,\n          storeData,\n          resourceDefinitions,\n          pathSeparator\n        );\n        if (!resourceFieldValue) {\n          return false;\n        }\n\n        let /** @type {?} */ operator = /** @type {?} */(( <FilteringOperator>_.find(filteringOperators, {\n          name: element.operator,\n        })));\n\n        if (operator) {\n          return operator.comparison(element.value, resourceFieldValue);\n        }\n\n        element.operator = element.hasOwnProperty('operator')\n          ? element.operator\n          : 'iexact';\n\n        switch (element.operator) {\n          case 'iexact':\n            if (_.isString(element.value) && _.isString(resourceFieldValue)) {\n              return (\n                element.value.toLowerCase() === resourceFieldValue.toLowerCase()\n              );\n            } else {\n              return element.value === resourceFieldValue;\n            }\n\n          case 'exact':\n            return element.value === resourceFieldValue;\n\n          case 'contains':\n            return _.includes(resourceFieldValue, element.value);\n\n          case 'icontains':\n            return _.includes(\n              resourceFieldValue.toLowerCase(),\n              element.value.toLowerCase()\n            );\n\n          case 'in':\n            if (_.isArray(element.value)) {\n              return _.includes(element.value, resourceFieldValue);\n            } else {\n              return _.includes([element.value], resourceFieldValue);\n            }\n          case 'gt':\n            return element.value > resourceFieldValue;\n\n          case 'gte':\n            return element.value >= resourceFieldValue;\n\n          case 'lt':\n            return element.value < resourceFieldValue;\n\n          case 'lte':\n            return element.value <= resourceFieldValue;\n\n          case 'startswith':\n            return _.startsWith(resourceFieldValue, element.value);\n\n          case 'istartswith':\n            return _.startsWith(\n              resourceFieldValue.toLowerCase(),\n              element.value.toLowerCase()\n            );\n\n          case 'endswith':\n            return _.endsWith(resourceFieldValue, element.value);\n\n          case 'iendswith':\n            return _.endsWith(\n              resourceFieldValue.toLowerCase(),\n              element.value.toLowerCase()\n            );\n\n          default:\n            return true;\n        }\n      });\n    } else {\n      return true;\n    }\n  });\n};\n\nexport const /** @type {?} */ generateIncludedQueryParams = (\n  included: Array<string>\n): string => {\n  if (_.isEmpty(included)) {\n    return '';\n  }\n\n  return 'include=' + included.join();\n};\n\nexport const /** @type {?} */ generateFieldsQueryParams = (fields: Array<string>): string => {\n  if (_.isEmpty(fields)) {\n    return '';\n  }\n\n  return 'fields=' + fields.join();\n};\n\nexport const /** @type {?} */ generateFilteringQueryParams = (\n  filtering: Array<FilteringParam>\n): string => {\n  if (_.isEmpty(filtering)) {\n    return '';\n  }\n  let /** @type {?} */ filteringParams = filtering.map(f => {\n    return (\n      'filter[' +\n      f.path +\n      ']' +\n      (f.operator ? '[' + f.operator + ']' : '') +\n      '=' +\n      encodeURIComponent(f.value)\n    );\n  });\n  return filteringParams.join('&');\n};\n\nexport const /** @type {?} */ generateSortingQueryParams = (\n  sorting: Array<SortingParam>\n): string => {\n  if (_.isEmpty(sorting)) {\n    return '';\n  }\n  return (\n    'sort=' +\n    sorting\n      .map(f => (f.direction === Direction.ASC ? '' : '-') + f.api)\n      .join(',')\n  );\n};\n\nexport const /** @type {?} */ generateQueryParams = (...params: Array<string>) => {\n  let /** @type {?} */ newParams = params.filter(p => p !== '');\n  if (newParams.length !== 0) {\n    return '?' + newParams.join('&');\n  } else {\n    return '';\n  }\n};\n\nexport const /** @type {?} */ generatePayload = (\n  resource: StoreResource,\n  operation: OperationType\n): Payload => {\n  let /** @type {?} */ payload: Payload = {\n    query: {\n      type: resource.type,\n    },\n  };\n\n  // the data to be updated or created\n  if (operation === 'POST' || operation === 'PATCH') {\n    payload.jsonApiData = {\n      data: {\n        id: resource.id,\n        type: resource.type,\n        attributes: resource.attributes,\n        relationships: resource.relationships,\n      },\n    };\n  }\n\n  if (operation === 'POST' && resource.hasTemporaryId) {\n    delete payload.jsonApiData.data.id;\n  }\n\n  // 'DELETE' only needs a query and it also needs an id in its query\n  // 'PATCH' also needs an id in its query\n  // 'POST' needed locally to allow to write back errors to store if id is available\n  if (operation === 'PATCH' || operation === 'DELETE' || operation === 'POST') {\n    payload.query.id = resource.id;\n  }\n\n  return payload;\n};\n\n/* tslint:disable */\nexport const /** @type {?} */ uuid = () => {\n  let /** @type {?} */ lut = [];\n  for (let /** @type {?} */ i = 0; i < 256; i++) {\n    lut[i] = (i < 16 ? '0' : '') + i.toString(16);\n  }\n  let /** @type {?} */ d0 = (Math.random() * 0xffffffff) | 0;\n  let /** @type {?} */ d1 = (Math.random() * 0xffffffff) | 0;\n  let /** @type {?} */ d2 = (Math.random() * 0xffffffff) | 0;\n  let /** @type {?} */ d3 = (Math.random() * 0xffffffff) | 0;\n  return (\n    lut[d0 & 0xff] +\n    lut[(d0 >> 8) & 0xff] +\n    lut[(d0 >> 16) & 0xff] +\n    lut[(d0 >> 24) & 0xff] +\n    '-' +\n    lut[d1 & 0xff] +\n    lut[(d1 >> 8) & 0xff] +\n    '-' +\n    lut[((d1 >> 16) & 0x0f) | 0x40] +\n    lut[(d1 >> 24) & 0xff] +\n    '-' +\n    lut[(d2 & 0x3f) | 0x80] +\n    lut[(d2 >> 8) & 0xff] +\n    '-' +\n    lut[(d2 >> 16) & 0xff] +\n    lut[(d2 >> 24) & 0xff] +\n    lut[d3 & 0xff] +\n    lut[(d3 >> 8) & 0xff] +\n    lut[(d3 >> 16) & 0xff] +\n    lut[(d3 >> 24) & 0xff]\n  );\n};\n/* tslint:enable */\n\nconst /** @type {?} */ toKey = (id: ResourceIdentifier) => {\n  return id.id + '@' + id.type;\n};\n\nconst /** @type {?} */ collectQueryResults = (state: NgrxJsonApiStore, usedResources: any) => {\n  for (let /** @type {?} */ queryName in state.queries) {\n    if (state.queries.hasOwnProperty(queryName)) {\n      let /** @type {?} */ query = state.queries[queryName];\n      if (query.resultIds) {\n        for (let /** @type {?} */ resultId of query.resultIds) {\n          usedResources[toKey(resultId)] = true;\n        }\n      }\n    }\n  }\n};\n\nconst /** @type {?} */ collectPendingChanges = (state: NgrxJsonApiStore, usedResources: any) => {\n  for (let /** @type {?} */ type in state.data) {\n    if (state.data.hasOwnProperty(type)) {\n      let /** @type {?} */ resources = state.data[type];\n      for (let /** @type {?} */ id in resources) {\n        if (resources.hasOwnProperty(id)) {\n          let /** @type {?} */ resource = resources[id];\n          if (resource.state !== 'IN_SYNC') {\n            usedResources[toKey(resource)] = true;\n          }\n        }\n      }\n    }\n  }\n};\n\nconst /** @type {?} */ collectReferencesForResource = (\n  state: NgrxJsonApiStore,\n  usedResources: any,\n  resource: Resource\n) => {\n  let /** @type {?} */ hasChanges: boolean;\n  for (let /** @type {?} */ relationshipName in resource.relationships) {\n    if (resource.relationships.hasOwnProperty(relationshipName)) {\n      let /** @type {?} */ data = resource.relationships[relationshipName].data;\n      if (data) {\n        let /** @type {?} */ dependencyIds: Array<ResourceIdentifier> =\n          data instanceof Array ? data : [data];\n        for (let /** @type {?} */ dependencyId of dependencyIds) {\n          let /** @type {?} */ dependencyKey = toKey(dependencyId);\n          if (!usedResources[dependencyKey]) {\n            // change found, an other iteration will be necssary to detect\n            // transitive dependencies\n            hasChanges = true;\n            usedResources[dependencyKey] = true;\n          }\n        }\n      }\n    }\n  }\n  return hasChanges;\n};\n\nconst /** @type {?} */ collectReferences = (state: NgrxJsonApiStore, usedResources: any) => {\n  while (true) {\n    let /** @type {?} */ hasChanges = false;\n    for (let /** @type {?} */ type in state.data) {\n      if (state.data.hasOwnProperty(type)) {\n        let /** @type {?} */ resources = state.data[type];\n        for (let /** @type {?} */ id in resources) {\n          if (resources.hasOwnProperty(id)) {\n            let /** @type {?} */ resource = resources[id];\n            if (usedResources[toKey(resource)]) {\n              // in use, do not collect its relations\n              hasChanges =\n                hasChanges ||\n                collectReferencesForResource(state, usedResources, resource);\n            }\n          }\n        }\n      }\n    }\n    if (!hasChanges) {\n      break;\n    }\n  }\n};\n\nconst /** @type {?} */ sweepUnusedResources = (state: NgrxJsonApiStore, usedResources: any) => {\n  let /** @type {?} */ hasDeletions = false;\n  let /** @type {?} */ newState = _.cloneDeep(state);\n  for (let /** @type {?} */ type in newState.data) {\n    if (newState.data.hasOwnProperty(type)) {\n      let /** @type {?} */ resources = newState.data[type];\n      for (let /** @type {?} */ id in resources) {\n        if (resources.hasOwnProperty(id)) {\n          let /** @type {?} */ resource = resources[id];\n          if (!usedResources[toKey(resource)]) {\n            hasDeletions = true;\n            delete resources[id];\n          }\n        }\n      }\n\n      if (_.isEmpty(resources)) {\n        delete newState.data[type];\n      }\n    }\n  }\n  return hasDeletions ? newState : state;\n};\n\nexport const /** @type {?} */ compactStore = (state: NgrxJsonApiStore) => {\n  let /** @type {?} */ usedResources = {};\n\n  // query results can not be collected\n  collectQueryResults(state, usedResources);\n\n  // pending changes cannot be collected\n  collectPendingChanges(state, usedResources);\n\n  // references from non-collected objects cannot be collected as well\n  collectReferences(state, usedResources);\n\n  // remove everything that is not collected\n  return sweepUnusedResources(state, usedResources);\n};\n\ninterface TopologySortContext {\n  pendingResources: Array<StoreResource>;\n  cursor: number;\n  sorted: Array<StoreResource>;\n  visited: Array<boolean>;\n  dependencies: { [id: string]: Array<StoreResource> };\n}\n\nexport const /** @type {?} */ sortPendingChanges = (\n  pendingResources: Array<StoreResource>\n): Array<StoreResource> => {\n  // allocate dependency\n  let /** @type {?} */ dependencies: any = {};\n  let /** @type {?} */ pendingMap: any = {};\n  for (let /** @type {?} */ pendingResource of pendingResources) {\n    let /** @type {?} */ resource = pendingResource;\n    let /** @type {?} */ key = toKey(resource);\n    dependencies[key] = [];\n    pendingMap[key] = pendingResource;\n  }\n\n  // extract dependencies\n  for (let /** @type {?} */ pendingResource of pendingResources) {\n    let /** @type {?} */ resource = pendingResource;\n    if (resource.relationships) {\n      let /** @type {?} */ key = toKey(resource);\n      Object.keys(resource.relationships).forEach(relationshipName => {\n        let /** @type {?} */ data = resource.relationships[relationshipName].data;\n        if (data) {\n          let /** @type {?} */ dependencyIds: Array<ResourceIdentifier> =\n            data instanceof Array ? data : [data];\n          for (let /** @type {?} */ dependencyId of dependencyIds) {\n            let /** @type {?} */ dependencyKey = toKey(dependencyId);\n            if (\n              pendingMap[dependencyKey] &&\n              pendingMap[dependencyKey].state === 'CREATED'\n            ) {\n              // we have a dependency between two unsaved objects\n              dependencies[key].push(pendingMap[dependencyKey]);\n            }\n          }\n        }\n      });\n    }\n  }\n\n  // order\n  let /** @type {?} */ context = {\n    pendingResources: pendingResources,\n    cursor: pendingResources.length,\n    sorted: new Array(pendingResources.length),\n    dependencies: dependencies,\n    visited: /** @type {?} */(( <any[]>[])),\n  };\n\n  let /** @type {?} */ i = context.cursor;\n  while (i--) {\n    if (!context.visited[i]) {\n      visitPending(pendingResources[i], i, [], context);\n    }\n  }\n\n  return context.sorted;\n};\n\nconst /** @type {?} */ visitPending = (\n  pendingResource: StoreResource,\n  i: any,\n  predecessors: any,\n  context: TopologySortContext\n) => {\n  let /** @type {?} */ key = toKey(pendingResource);\n  if (predecessors.indexOf(key) >= 0) {\n    throw new Error(\n      'Cyclic dependency: ' + key + ' with ' + JSON.stringify(predecessors)\n    );\n  }\n\n  if (context.visited[i]) {\n    return;\n  }\n  context.visited[i] = true;\n\n  // outgoing edges\n  let /** @type {?} */ outgoing: Array<StoreResource> = context.dependencies[key];\n\n  let /** @type {?} */ preds = predecessors.concat(key);\n  for (let /** @type {?} */ child of outgoing) {\n    visitPending(\n      child,\n      context.pendingResources.indexOf(child),\n      preds,\n      context\n    );\n  }\n\n  context.sorted[--context.cursor] = pendingResource;\n};\n/**\n * @param {?} state\n * @param {?} pending\n * @param {?} id\n * @param {?} include\n * @param {?} includeNew\n * @return {?}\n */\nfunction collectPendingChange(\n  state: NgrxJsonApiStoreData,\n  pending: Array<StoreResource>,\n  id: ResourceIdentifier,\n  include: Array<Array<string>>,\n  includeNew: boolean\n) {\n  let /** @type {?} */ storeResource = state[id.type][id.id];\n  if (\n    storeResource.state !== 'IN_SYNC' &&\n    (storeResource.state !== 'NEW' || includeNew)\n  ) {\n    pending.push(storeResource);\n  }\n\n  for (let /** @type {?} */ includeElement of include) {\n    if (includeElement.length > 0) {\n      let /** @type {?} */ relationshipName = includeElement[0];\n      if (\n        storeResource.relationships &&\n        storeResource.relationships[relationshipName]\n      ) {\n        let /** @type {?} */ data = storeResource.relationships[relationshipName].data;\n        if (data) {\n          let /** @type {?} */ relationInclude: Array<Array<string>> = [];\n          include\n            .filter(\n              relIncludeElem =>\n                relIncludeElem.length >= 2 &&\n                relIncludeElem[0] == relationshipName\n            )\n            .forEach(relIncludeElem =>\n              relationInclude.push(relIncludeElem.slice(1))\n            );\n\n          if (_.isArray(data)) {\n            let /** @type {?} */ relationIds = /** @type {?} */(( data as Array<ResourceIdentifier>));\n            relationIds.forEach(relationId =>\n              collectPendingChange(\n                state,\n                pending,\n                relationId,\n                relationInclude,\n                includeNew\n              )\n            );\n          } else {\n            let /** @type {?} */ relationId = /** @type {?} */(( data as ResourceIdentifier));\n            collectPendingChange(\n              state,\n              pending,\n              relationId,\n              relationInclude,\n              includeNew\n            );\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * @param {?} state\n * @param {?} ids\n * @param {?} include\n * @param {?=} includeNew\n * @return {?}\n */\nexport function getPendingChanges(\n  state: NgrxJsonApiStoreData,\n  ids: Array<ResourceIdentifier>,\n  include: Array<string>,\n  includeNew?: boolean\n): Array<StoreResource> {\n  let /** @type {?} */ pending: Array<StoreResource> = [];\n\n  if (_.isUndefined(ids)) {\n    // check all\n    Object.keys(state).forEach(type => {\n      Object.keys(state[type]).forEach(id => {\n        let /** @type {?} */ storeResource = state[type][id];\n        if (\n          storeResource.state !== 'IN_SYNC' &&\n          (storeResource.state !== 'NEW' || includeNew)\n        ) {\n          pending.push(storeResource);\n        }\n      });\n    });\n  } else {\n    let /** @type {?} */ relationshipInclusions = [];\n    if (include) {\n      for (let /** @type {?} */ includeElement of include) {\n        relationshipInclusions.push(includeElement.split('.'));\n      }\n    }\n    for (let /** @type {?} */ id of ids) {\n      collectPendingChange(\n        state,\n        pending,\n        id,\n        relationshipInclusions,\n        includeNew\n      );\n    }\n    pending = _.uniqBy(pending, function(e) {\n      return e.type + '####' + e.id;\n    });\n  }\n\n  return pending;\n}\n","import { Observable } from 'rxjs/Observable';\nimport { AnonymousSubscription } from 'rxjs/Subscription';\n\nexport const /** @type {?} */ NGRX_JSON_API_DEFAULT_ZONE = 'default';\nexport type Direction = number;\nexport let Direction: any = {};\nDirection.ASC = 0;\nDirection.DESC = 1;\nDirection[Direction.ASC] = \"ASC\";\nDirection[Direction.DESC] = \"DESC\";\n\n\nexport interface Document {\n  data?: any;\n  included?: any;\n  meta?: any;\n  links?: any;\n  errors?: Array<ResourceError>;\n}\n\nexport interface FilteringParam {\n  path?: string;\n  operator?: string;\n  value?: any;\n}\n\nexport interface FilteringOperator {\n  name: string;\n  apiName?: string;\n  comparison: (value: any, resourceFieldValue: any) => boolean;\n}\n\nexport interface ManyResourceRelationship {\n  data?: Array<ResourceIdentifier>;\n  reference?: Array<StoreResource>;\n}\n\n/**\n * Used by code generators to navigate relationships in a type-safe manner.\n * See crnk.io for a first such generator.\n */\nexport interface TypedManyResourceRelationship<T extends StoreResource>\n  extends ManyResourceRelationship {\n  reference?: Array<T>;\n}\n\n/**\n * Used by code generators to navigate relationships in a type-safe manner.\n * See crnk.io for a first such generator.\n */\nexport interface TypedOneResourceRelationship<T extends StoreResource>\n  extends OneResourceRelationship {\n  reference?: T;\n}\n\nexport interface NgrxJsonApiConfig {\n  apiUrl: string;\n  initialState?: any;\n  resourceDefinitions?: Array<ResourceDefinition>;\n  urlBuilder?: NgrxJsonApiUrlBuilder;\n  filteringConfig?: NgrxJsonApiFilteringConfig;\n\n  /**\n   * Allows to disable the apply action and replace it with a custom one. For example\n   * have a look at www.crnk.io that makes use of JSON PATCH to perform bulk updates.\n   */\n  applyEnabled?: boolean;\n}\n\nexport interface NgrxJsonApiState {\n  zones: NgrxJsonApiZones\n}\n\nexport interface NgrxJsonApiZones {\n  [id: string]: NgrxJsonApiZone;\n}\n\n/**\n * deprecated, mae use of NgrxJsonApiZone instead\n */\nexport interface NgrxJsonApiStore {\n  data: NgrxJsonApiStoreData;\n  queries: NgrxJsonApiStoreQueries;\n  isCreating: number;\n  isReading: number;\n  isUpdating: number;\n  isDeleting: number;\n  isApplying: number;\n}\n\nexport interface NgrxJsonApiZone extends NgrxJsonApiStore{\n\n}\n\nexport interface NgrxJsonApiStoreData {\n  [id: string]: NgrxJsonApiStoreResources;\n}\n\nexport interface NgrxJsonApiStoreQueries {\n  [id: string]: StoreQuery;\n}\n\nexport interface NgrxJsonApiStoreResources {\n  [id: string]: StoreResource;\n}\n\nexport interface NgrxJsonApiFilteringConfig {\n  pathSeparator?: string;\n  filteringOperators?: Array<FilteringOperator>;\n}\n\nexport interface NgrxJsonApiUrlBuilder {\n  generateFilteringQueryParams?: (params: Array<FilteringParam>) => string;\n  generateFieldsQueryParams?: (params: Array<string>) => string;\n  generateIncludedQueryParams?: (params: Array<string>) => string;\n  generateSortingQueryParams?: (params: Array<SortingParam>) => string;\n  generateQueryParams?: (...params: Array<string>) => string;\n}\n\nexport type OperationType = 'GET' | 'DELETE' | 'PATCH' | 'POST' | false;\n\nexport interface OneResourceRelationship {\n  data?: ResourceIdentifier;\n  reference?: StoreResource;\n}\n\nexport type ErrorModificationType = 'ADD' | 'REMOVE' | 'SET';\n\nexport interface ModifyStoreResourceErrorsPayload {\n  resourceId: ResourceIdentifier;\n  errors: Array<ResourceError>;\n  modificationType: ErrorModificationType;\n}\n\nexport interface Payload {\n  jsonApiData?: Document;\n  query?: Query;\n}\n\nexport interface Query {\n  queryId?: string;\n  type?: string;\n  id?: string;\n  params?: QueryParams;\n}\n\nexport interface QueryParams {\n  filtering?: Array<FilteringParam>;\n  sorting?: Array<SortingParam>;\n  include?: Array<string>;\n  fields?: Array<string>;\n  offset?: number;\n  limit?: number;\n}\n\nexport interface Resource extends ResourceIdentifier {\n  attributes?: { [key: string]: any };\n  relationships?: { [key: string]: ResourceRelationship };\n  meta?: any;\n  links?: any;\n}\n\nexport interface ResourceAttributeDefinition {\n  apiName?: string;\n}\n\nexport interface ResourceDefinition {\n  type: string;\n  collectionPath: string;\n  attributes?: { [key: string]: ResourceAttributeDefinition };\n  relationships?: { [key: string]: ResourceRelationDefinition };\n}\n\nexport interface ResourceError {\n  id?: string;\n  links?: any;\n  status?: string;\n  code?: string;\n  title?: string;\n  detail?: string;\n  source?: ResourceErrorSource;\n  meta?: any;\n}\n\nexport interface ResourceErrorSource {\n  pointer?: string;\n  parameter?: string;\n}\n\nexport interface ResourceIdentifier {\n  type: string;\n  id: string;\n}\n\nexport interface ResourceRelationship {\n  data?: any;\n  links?: any;\n  reference?: any;\n}\n\nexport interface ResourceRelationDefinition {\n  type: string;\n  relationType: ResourceRelationType;\n}\n\nexport type ResourceRelationType = 'hasOne' | 'hasMany';\n\nexport type ResourceState =\n  | 'NEW'\n  | 'IN_SYNC'\n  | 'CREATED'\n  | 'UPDATED'\n  | 'DELETED'\n  | 'NOT_LOADED';\n\nexport interface SortingParam {\n  api: string;\n  direction: Direction;\n}\n\nexport interface QueryResult extends StoreQuery {\n  data?: StoreResource | Array<StoreResource>;\n}\n\nexport interface ManyQueryResult extends QueryResult {\n  data?: Array<StoreResource>;\n}\n\nexport interface OneQueryResult extends QueryResult {\n  data?: StoreResource;\n}\n\nexport interface StoreQuery {\n  query: Query;\n  loading: Boolean;\n  resultIds?: Array<ResourceIdentifier>;\n  meta?: any;\n  links?: any;\n\n  /**\n   * Errors received from the server after attempting to perform a GET request.\n   */\n  errors: Array<ResourceError>;\n}\n\n/**\n* Container to hold a Resource in the store with state information.\n*/\nexport interface StoreResource extends Resource {\n  /**\n  * State of the resource to track local changes not yet\n  * published to the json api endpoint.\n  */\n  state?: ResourceState;\n  /**\n  * The original resource obtained from the server.\n  */\n  persistedResource?: Resource;\n  /**\n  * One of the operation types: reading, creating, updating or deleting.\n  */\n  loading?: OperationType;\n  /**\n  * Errors received from the server after attempting to store the resource.\n  */\n  errors?: Array<ResourceError>;\n\n  /**\n   * new resources may only obtain an id when posted to the server. Till that point\n   * a StoreResource can assign make use of a temporary id and signal this by setting\n   * this flag to true. The id will not be transmitted to the server and the resource\n   * is removed from its temporary location (given by its id) as soon as it is posted\n   * to the server.\n   */\n  hasTemporaryId?: boolean;\n}\n"],"names":["__assign","_.isEmpty","_.isEqual","_.findIndex","_.hasIn","_.find","_.get","_.isArray","_.isUndefined","__extends","_.uniqBy","_.cloneDeep","_.endsWith","_.startsWith","_.includes","_.isString","_.filter","_.reduce","_.omit","_.mergeWith","_.set","_.isPlainObject","_.clone","_.setWith"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AUGO,IAAM,0BAAA,GAA6B,SAAA,CAAU;AAEpD,IAAW,SAAS,GAAQ,EAAE,CAAC;AAC/B,SAAS,CAAC,GAAG,GAAG,CAAC,CAAC;AAClB,SAAS,CAAC,IAAI,GAAG,CAAC,CAAC;AACnB,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;AACjC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC;;;;;;;;;;ADTnC;;;;;;AAiCA,eAJC,KAAA,EAAA,IAAA,EAAA,KAAA;IAKC,IAAF,gBAAA,CAJM,YAAA,GAAeM,GAAG,CAAG,KAAC,EAAM,IAAA,CAAK,CAAC;IAKtC,EAAF,CAAA,CAAK,KAJC,KAAS,YAAA,CAIf,CAJ4B,CAI5B;QACI,MAAJ,CAJW,KAAA,CAAM;IAKjB,CAAG;IACD,MAAF,CAJSiB,OAAG,CAAOD,KAAG,CAAK,KAAC,CAAK,EAAE,IAAA,EAAM,KAAA,EAAO,UAAA,OAAU,EAAK,GAAK,EAAQ,QAAU;QAKlF,IAAJ,gBAAA,CAJU,SAAA,GAAYA,KAAG,CAAK,QAAC,CAAQ,CAAC;QAKpC,SAAS,CAJC,GAAC,CAAG,GAAG,OAAA,CAAQ;QAKzB,MAAJ,CAJW,SAAA,CAAU;IAKrB,CAAG,CAJC,CAAC;AAKL,CAAC;AAED,IAJa,iBAAA,GAAoB,UAK/B,QAJU,EAKV,SAJW,EAKX,GAJK;;IAOL,IAAF,gBAAA,CAJM,YAAA,GAAe,QAAA,CAAS;IAM5B,EAAF,CAAA,CAAM,QAJC,CAAQ,cAAC,CAAc,eAAC,CAAe,CAI9C,CAJgD,CAIhD;QACI,MAAM,CAJC,IAAC,CAAI,QAAC,CAAQ,aAAC,CAAa,CAAC,OAAC,CAAO,UAAA,QAAC;YAK3C,QAAQ,CAJC,aAAC,CAAa,QAAC,CAAQ,CAAC,WAAC,CAAW,GAInD,CAJsD,EAAM,CAAA,CAAS;YAK/D,IAAN,gBAAA,CAJU,IAAA,GAKF,QAAQ,CAJC,aAAC,CAAa,QAAC,CAAQ,CAAC,IAAC,CAAI;;YAMxC,IAAN,gBAAA,CAJU,cAAA,CAAe;YAMnB,EAAN,CAAA,CAAU,IAJC,KAAQ,IAAA,IAAQpB,OAAG,CAAO,IAAC,EAAK,EAAA,CAAG,CAI9C,CAJgD,CAIhD;gBACQ,cAAc,GAJG,IAAA,CAAK;YAK9B,CAAO;YAJP,IAAA,CAAa,EAAb,CAAA,CAAamB,aAAO,CAAa,IAAC,CAAI,CAAtC,CAAwC,CAAxC;;gBAMQ,IAAR,gBAAA,CAJY,SAAA,GAAY,sBAAA,CAIxB,gBAAA,CAAA,CAH8B,IAAC,CAG/B,EAEU,SAAS,CACV,CAJC;gBAKF,cAAc,GAJG,wBAAA,CAAyB,SAAC,EAAU,SAAA,EAAW,GAAA,CAAI,CAAC;YAK7E,CAAO;YAJP,IAAA,CAAa,EAAb,CAAA,CAAad,OAAO,CAAO,IAAC,CAAI,CAAhC,CAAkC,CAAlC;;gBAMQ,IAAR,gBAAA,CAJY,UAAA,GAAmC,wBAAA,CAI/C,gBAAA,CAAA,CAHgC,IAAC,CAGjC,EAEU,SAAS,CACV,CAJC;gBAKF,cAAc,GAJG,UAAA,CAAW,GAAC,CAAG,UAAA,CAAC;oBAK/B,MAAV,CAAU,wBAAwB,CAJC,CAAC,EAAE,SAAA,EAAW,GAAA,CAAI,CAIrD;gBAJA,CAAqD,CAK5C,CAJC;YAKV,CAAO;YACD,IAAN,gBAAA,CAJU,kBAAA,GAAqB,gBAAA,GAAmB,QAAA,GAAW,YAAA,CAAa;YAKpE,YAAY,GAAlB,CAJ+Ba,GAAG,CAK1B,YAAY,EACZ,kBAAkB,EAClB,cAAc,CACd,CAAC,CAJD;QAKR,CAAK,CAJC,CAAC;IAKP,CAAG;IAED,MAAF,CAJS,YAAA,CAAa;AAKtB,CAAC,CAJC;AAMF,IAJa,yBAAA,GAA4B,UAKvC,KAJ2B,EAK3B,SAJW,EAKX,GAJW;IAIX,EAAF,CAAA,CAAA,GAAA,KAAA,KAAA,CAAA,CAAA,CAAE,CAAF;QAAE,GAAF,GAAA,EAJa,CAIb;IAAA,CAAA;IAEE,IAAF,gBAAA,CAJM,OAAA,GAAgC,EAAA,CAAG;IAKvC,GAAF,CAAA,CAJmB,IAInB,EAAA,GAAA,CAJmB,EAAA,OAInB,GAAA,KAJmB,EAAA,EAInB,GAAA,OAAA,CAAA,MAJmB,EAAA,EAInB,EAJmB,EAInB,CAAA;QAAO,IAJI,IAAA,GAIX,OAAA,CAAA,EAAA,CAJW,CAIX;QACI,OAAO,CAJC,IAAC,CAAI,wBAAC,CAAwB,IAAC,EAAK,SAAA,EAAW,GAAA,CAAI,CAAC,CAAC;IAKjE,CAAG;IACD,MAAF,CAJS,OAAA,CAAQ;AAKjB,CAAC,CAJC;AAMF,IAJa,wBAAA,GAA2B,UAKtC,IAJM,EAKN,SAJW,EAKX,GAJW;IAIX,EAAF,CAAA,CAAA,GAAA,KAAA,KAAA,CAAA,CAAA,CAAE,CAAF;QAAE,GAAF,GAAA,EAJa,CAIb;IAAA,CAAA;IAEE,EAAF,CAAA,CAAM,CAJC,IAAC,CAIR,CAJa,CAIb;QACI,MAAJ,CAJW,IAAA,CAAK;IAKhB,CAAG;IACD,IAAF,gBAAA,CAJM,aAAA,GAAgBT,SAAG,CAIzB,gBAAA,CAAA,CAJiD,IAAC,CAIlD,CAJsD,CAAC;IAMrD,EAAF,CAAA,CAAMH,WAJG,CAAW,GAAC,CAAG,aAAC,CAAa,IAAC,CAAI,CAAC,CAI5C,CAJ8C,CAI9C;QACI,GAAG,CAJC,aAAC,CAAa,IAAC,CAAI,GAAG,EAAA,CAAG;IAKjC,CAAG;IACD,EAAF,CAAA,CAAMA,WAJG,CAAW,GAAC,CAAG,aAAC,CAAa,IAAC,CAAI,CAAC,aAAC,CAAa,EAAC,CAAE,CAAC,CAI9D,CAJgE,CAIhE;QACI,GAAG,CAJC,aAAC,CAAa,IAAC,CAAI,CAAC,aAAC,CAAa,EAAC,CAAE,GAAG,aAAA,CAAc;QAK1D,aAAa,GAJG,iBAAA,CAAkB,aAAC,EAAc,SAAA,EAAW,GAAA,CAAI,CAAC;QAKjE,EAAJ,CAAA,CAAQ,aAJC,CAAa,iBAAC,CAIvB,CAJyC,CAIzC;YACM,aAAa,CAJC,iBAAC,GAAmB,iBAAA,CAKhC,aAAa,CAJC,iBAAC,EAKf,SAAS,EACT,GAAG,CACJ,CAJC;QAKR,CAAK;IACL,CAAG;IAED,MAAF,CAJS,GAAA,CAAI,aAAC,CAAa,IAAC,CAAI,CAAC,aAAC,CAAa,EAAC,CAAE,CAAC;AAKnD,CAAC,CAJC;AAMF,IAJa,sBAAA,GAAyB,UAKpC,UAJY,EAKZ,SAJW;IAMX,MAAF,CAJSF,GAAG,CAAG,SAAC,EAAU,CAAA,UAAE,CAAU,IAAC,EAAK,UAAA,CAAW,EAAC,CAAE,EAAE,IAAA,CAAK,CAAC;AAKlE,CAAC,CAJC;AAMF,IAJa,wBAAA,GAA2B,UAKtC,WAJsC,EAKtC,SAJW;IAMX,MAAF,CAJS,WAAA,CAAY,GAAC,CAAG,UAAA,EAAC,IAAK,MAI/B,CAJ+B,sBAAA,CAAuB,EAAC,EAAG,SAAA,CAAU,CAIpE,CAAA,CAJoE,CAAC,CAAC;AAKtE,CAAC,CAJC;AAMF,IAJa,mBAAA,GAAsB,UAKjC,IAJM,EAKN,gBAJkB,EAKlB,mBAJ8C,EAK9C,aAJgB;IAMhB,IAAF,gBAAA,CAJM,UAAA,GAAuB,EAAA,CAAG;IAK9B,EAAF,CAAA,CAAME,WAJG,CAAW,aAAC,CAAa,CAIlC,CAJoC,CAIpC;QACI,aAAa,GAJG,GAAA,CAAI;IAKxB,CAAG;IACD,IAAF,gBAAA,CAJM,MAAA,GAAwB,IAAA,CAAK,KAAC,CAAK,aAAC,CAAa,CAAC;IAKtD,IAAF,gBAAA,CAJM,mBAAA,GAAsB,gBAAA,CAAiB;IAK3C,GAAF,CAAA,CAAO,IAAP,gBAAA,CAJW,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,MAAA,CAAO,MAAC,EAAO,CAAA,EAAE,EAAG,CAI1C;QACI,IAAJ,gBAAA,CAJQ,UAAA,GAAaH,IAAG,CAAI,mBAAC,EAAoB,EAAE,IAAA,EAAM,mBAAA,EAAoB,CAAE,CAAC;QAM5E,EAAJ,CAAA,CAAQG,WAJG,CAAW,UAAC,CAAU,CAIjC,CAJmC,CAInC;YACM,MAJM,IAAI,KAAA,CAAM,sBAAC,CAAsB,CAAC;QAK9C,CAAK;;QAED,EAAJ,CAAA,CACMA,WAJG,CAAW,UAAC,CAAU,UAAC,CAAU;YAKpCA,WAJG,CAAW,UAAC,CAAU,aAAC,CAK5B,CADJA,CAHM,CAGNA;YAEM,MAJM,IAAI,KAAA,CAAM,8CAAC,CAA8C,CAAC;QAKtE,CAAK;QAED,EAAJ,CAAA,CAAQ,UAJC,CAAU,UAAC,CAAU,cAAC,CAAc,MAAC,CAAM,CAAC,CAAC,CAAC,CAIvD,CAJyD,CAIzD;YACM,UAAU,CAJC,IAAC,CAAI,YAAC,EAAa,MAAA,CAAO,CAAC,CAAC,CAAC,CAAC;YAKzC,KAAN,CAAY;QACZ,CAAK;QAJL,IAAA,CAAW,EAAX,CAAA,CAAW,UAAK,CAAU,aAAC,CAAa,cAAC,CAAc,MAAC,CAAM,CAAC,CAAC,CAAC,CAAjE,CAAmE,CAAnE;YAKM,IAAN,gBAAA,CAJU,gBAAA,GAAmB,UAAA,CAAW,aAAC,CAAa,MAAC,CAAM,CAAC,CAAC,CAAC,CAAC;YAK3D,EAAN,CAAA,CAAU,gBAJC,CAAgB,YAAC,KAAgB,SAAA,CAI5C,CAJuD,CAIvD;gBACQ,EAAR,CAAA,CAAY,CAJC,KAAK,MAAA,CAAO,MAAC,GAAQ,CAAA,CAIlC,CAJqC,CAIrC;oBACU,MAJM,IAAI,KAAA,CAAM,uCAAC,CAAuC,CAAC;gBAKnE,CAAS;gBAJT,IAAA,CAAe,CAAf;oBAKU,UAAU,CAJC,IAAC,CAAI,eAAC,EAAgB,MAAA,CAAO,CAAC,CAAC,EAAE,WAAA,CAAY,CAAC;gBAKnE,CAAS;YACT,CAAO;YAJP,IAAA,CAAa,CAAb;gBAKQ,mBAAmB,GAJG,gBAAA,CAAiB,IAAC,CAAI;gBAK5C,UAAU,CAJC,IAAC,CAAI,eAAC,EAAgB,MAAA,CAAO,CAAC,CAAC,EAAE,WAAA,CAAY,CAAC;YAKjE,CAAO;QACP,CAAK;QAJL,IAAA,CAAW,CAAX;YAKM,MAJM,IAAI,KAAA,CAAM,kDAAC,CAAkD,CAAC;QAK1E,CAAK;IACL,CAAG;IACD,MAAF,CAJS,UAAA,CAAW,IAAC,CAAI,aAAC,CAAa,CAAC;AAKxC,CAAC,CAJC;AAMF,IAJa,oBAAA,GAAuB,UAKlC,IAJM,EAKN,aAJe,EAKf,mBAJ8C,EAK9C,aAJgB;IAMhB,IAAF,gBAAA,CAJM,gBAAA,GAAmB,mBAAA,CAKrB,IAAI,EACJ,aAAa,CAJC,IAAC,EAKf,mBAAmB,EACnB,aAAa,CACd,CAJC;IAKF,MAAF,CAJSF,GAAG,CAAG,aAAC,EAAc,gBAAA,CAAiB,CAAC;AAKhD,CAAC,CAJC;;;;;AASF,IAHC,oBAAA,GAAA,UAIC,QAAkB,EAClB,MAAgB;;IAGhB,oBAAoB,QAAa,EAAE,QAAa;QAC9C,EAAJ,CAAA,CAAQC,OAAS,CAAC,QAAQ,CAAC,CAA3B,CAA6B,CAA7B;YACM,MAAN,CAAa,QAAQ,CAAC;QACtB,CAAK;IACL,CAAG;IAED,MAAF,CAASY,SAAW,CAAC,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;AACvD,CAAC,CAAC;;;;;AAKF,IAFC,mBAAA,GAAA,UAGC,cAAyC,EACzC,QAAkB,EAClB,UAAmB;IAEnB,IAAI,iBAAiB,GAAvBnB,UAAA,CAAA,EAAA,EAA+B,cAAc,CAAE,CAAC;IAC9C,EAAF,CAAA,CAAM,UAAU,CAAhB,CAAkB,CAAlB;QACI,iBAAiB,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAGA,UAArC,CAAA,EAAA,EACS,QAAQ,EADjB,EAEM,iBAAiB,EAAE,QAAQ,EAC3B,KAAK,EAAE,SAAS,EAChB,MAAM,EAAE,EAAE,EACV,OAAO,EAAE,KAAK,EALpB,CAMsB,CAAC;IACvB,CAAG;IAAH,IAAA,CAAS,CAAT;QACI,iBAAiB,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAGA,UAArC,CAAA,EAAA,EACS,QAAQ,EADjB,EAEM,iBAAiB,EAAE,IAAI,EACvB,KAAK,EAAE,SAAS,EAChB,MAAM,EAAE,EAAE,EACV,OAAO,EAAE,KAAK,EALpB,CAMsB,CAAC;IACvB,CAAG;IACD,MAAF,CAASE,OAAS,CAAC,cAAc,EAAE,iBAAiB,CAAC;UAC/C,cAAc;UACd,iBAAiB,CAAC;AACxB,CAAC,CAAC;;;;;AAKF,IADC,mBAAA,GAAA,UAEC,SAA+B,EAC/B,UAA8B;IAE9B,EAAF,CAAA,CAAM,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAA/C,CAAiD,CAAjD;QACI,IAAI,QAAQ,GAAhBF,UAAA,CAAA,EAAA,EAA8C,SAAS,CAAE,CAAC;QACtD,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,GAA7BA,UAAA,CAAA,EAAA,EAAqC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAE,CAAC;QAC7D,OAAO,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QAChD,MAAJ,CAAW,QAAQ,CAAC;IACpB,CAAG;IACD,MAAF,CAAS,SAAS,CAAC;AACnB,CAAC,CAAC;;;;;;;;;;AAUF,IAAC,mBAAA,GAAA,UACC,SAA+B,EAC/B,UAA8B,EAC9B,aAA6B,EAC7B,OAAuB;IAEvB,EAAF,CAAA,CACIQ,WAAa,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QACzCA,WAAa,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CACzD,CADFA,CACI,CADJA;QAEI,EAAJ,CAAA,CAAQ,aAAa,KAAK,SAAS,CAAnC,CAAqC,CAArC;YACM,IAAI,UAAQ,GAAlBR,UAAA,CAAA,EAAA,EAAgD,SAAS,CAAE,CAAC;YACtD,UAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,GAA/BA,UAAA,CAAA,EAAA,EAAuC,UAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAE,CAAC;YAC7D,UAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,GAA9CA,UAAA,CAAA,EAAA,EACW,UAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAC5C,CAAC;YACF,UAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,GAAG;gBACzC,IAAI,EAAE,UAAU,CAAC,IAAI;gBACrB,EAAE,EAAE,UAAU,CAAC,EAAE;gBACjB,iBAAiB,EAAE,IAAI;aACP,CAAC;YACnB,UAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,KAAK,GAAG,YAAY,CAAC;YAC9D,MAAN,CAAa,UAAQ,CAAC;QACtB,CAAK;QAAL,IAAA,CAAW,CAAX;YACM,MAAN,CAAa,SAAS,CAAC;QACvB,CAAK;IACL,CAAG;IACD,IAAI,QAAQ,GAAdA,UAAA,CAAA,EAAA,EAA4C,SAAS,CAAE,CAAC;IACtD,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,GAA3BA,UAAA,CAAA,EAAA,EAAmC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAE,CAAC;IAC7D,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,GAA1CA,UAAA,CAAA,EAAA,EACO,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAC5C,CAAC;IACF,EAAF,CAAA,CAAM,aAAa,KAAK,IAAI,CAA5B,CAA8B,CAA9B;QACI,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,KAAK,GAAG,aAAa,CAAC;IACnE,CAAG;IACD,EAAF,CAAA,CAAM,OAAO,IAAI,IAAI,CAArB,CAAuB,CAAvB;QACI,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,OAAO,GAAG,OAAO,CAAC;IAC/D,CAAG;IACD,MAAF,CAAS,QAAQ,CAAC;AAClB,CAAC,CAAC;;;;;;;;AAQF,IACC,eAAA,GAAA,UAAC,SAAmB,EACnB,SAAmB;IAEnB,EAAF,CAAA,CAAM,SAAS,KAAK,SAAS,CAA7B,CAA+B,CAA/B;QACI,MAAJ,CAAW,IAAI,CAAC;IAChB,CAAG;IACD,EAAF,CAAA,CAAM,SAAS,KAAK,IAAI,KAAxB,CAA8B,SAAS,KAAK,IAAI,CAAC,CAAjD,CAAmD,CAAnD;QACI,MAAJ,CAAW,KAAK,CAAC;IACjB,CAAG;IAED,MAAF,CAAA,CACIE,OAAS,CAAC,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE,CAAC;QACrCA,OAAS,CAAC,SAAS,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,CAAC;QACzCA,OAAS,CAAC,SAAS,CAAC,UAAU,EAAE,SAAS,CAAC,UAAU,CAAC;QACrDA,OAAS,CAAC,SAAS,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,CAAC;QACzCA,OAAS,CAAC,SAAS,CAAC,KAAK,EAAE,SAAS,CAAC,KAAK,CAAC;QAC3CA,OAAS,CAAC,SAAS,CAAC,aAAa,EAAE,SAAS,CAAC,aAAa,CAAC,CAA/DA,CACI;AACJ,CAAC,CAAC;AAEF,IACa,mBAAA,GAAsB,UAAjC,KACO,EAAP,QACU,EAAV,UACY;IACZ,IAAF,gBAAA,CACM,kBAAA,GAAqB,KAAA,CAAM,QAAC,CAAQ,EAAC,CAAE,CAAC;IAA5C,IAAF,gBAAA,CACM,iBAAA,GAAoB,KAAA,CAAM,QAAC,CAAQ,EAAC,CAAE,CAAC,iBAAC,CAAiB;IAC7D,IAAF,gBAAA,CACM,WAAa,CAAS;IAA1B,IAAF,gBAAA,CACM,gBAAkB,CAAc;IAApC,EAAF,CAAA,CAAM,UACC,CADP,CACkB,CADlB;;;QAGI,WAAW,GACG,QAAA,CAAS;QAAvB,iBAAiB,GACG,QAAA,CAAS;QAA7B,gBAAgB,GACG,SAAA,CAAU;IAAjC,CAAG;IACH,IAAA,CAAS,CAAT;QAAI,IAAJ,gBAAA,CACQ,cAAA,GAAiB,oBAAA,CAAqB,kBAAC,EAAmB,QAAA,CAAS,CAAC;QAAxE,EAAJ,CAAA,CAAQ,eACC,CAAe,cAAC,EAAe,iBAAA,CAAkB,CAD1D,CAC4D,CAD5D;;YAEM,WAAW,GACG,iBAAA,CAAkB;YAAhC,gBAAgB,GACG,SAAA,CAAU;QAAnC,CAAK;QACL,IAAA,CAAW,CAAX;;;YAEM,WAAW,GACG,cAAA,CAAe;YAA7B,EAAN,CAAA,CAAU,iBACC,KAAqB,IAAA,CADhC,CACsC,CADtC;gBACQ,gBAAgB,GACG,SAAA,CAAU;YAArC,CAAO;YACP,IAAA,CAAa,EAAb,CAAA,CAAa,kBAAK,CAAkB,KAAC,KAAS,KAAA,CAA9C,CAAqD,CAArD;gBAAQ,gBAAgB,GACG,KAAA,CAAM;YAAjC,CAAO;YACP,IAAA,CAAa,CAAb;gBAAQ,gBAAgB,GACG,SAAA,CAAU;YAArC,CAAO;QACP,CAAK;IACL,CAAG;IAED,IAAF,gBAAA,CACM,QAAA,GADNF,UAAA,CAAA,EAAA,EACmB,KAAI,CAAK,CAAE;IAA5B,QAAQ,CACC,QAAC,CAAQ,EAAC,CAAE,GADvB,CAC0BA,UAD1B,CAAA,EAAA,EACO,WACC,EAFR,EAEI,iBAAiB,EACE,iBAAA,EAAnB,KAAK,EACE,gBAAA,EAAP,MAAM,EACE,EAAA,EAAR,OAAO,EACE,KAAA,EANb,CAOO,CAAA,CAAc;IACnB,MAAF,CACSE,OAAG,CAAO,QAAC,CAAQ,QAAC,CAAQ,EAAC,CAAE,EAAE,KAAA,CAAM,QAAC,CAAQ,EAAC,CAAE,CAAC;UACvD,KAAA;UACA,QAAA,CAAS;AAAf,CAAC,CACC;AACF,IACa,+BAAA,GAAkC,UAA7C,KACO,EAAP,SACW;IACX,IAAF,gBAAA,CACM,QAAA,GAAoC,KAAA,CAAM;IAA9C,GAAF,CAAA,CAAO,IAAP,gBAAA,CACW,OAAA,IAAW,KAAA,CADtB,CAC6B,CAD7B;QACI,EAAJ,CAAA,CAAQ,KACC,CAAK,cAAC,CAAc,OAAC,CAAO,CADrC,CACuC,CADvC;YACM,IAAN,gBAAA,CACU,UAAA,GAAa,KAAA,CAAM,OAAC,CAAO,CAAC;YAAhC,EAAN,CAAA,CACQ,UAAU,CACC,KAAC,CAAK,EAAC,KAAM,SAAA,CAAU,EAAC;gBAAnC,UAAU,CACC,KAAC,CAAK,IAAC,KAAQ,SAAA,CAAU,IAAtC,CADN,CAEQ,CAFR;;gBAGQ,QAAQ,GACG,gBAAA,CAAiB,QAAC,EAAS,UAAA,CAAW,KAAC,CAAK,OAAC,CAAO,CAAC;gBAAhE,IAAR,gBAAA,CACY,aAAA,GAA+B,EAAE,IAAA,EAAM,KAAA,EAAO,MAAA,EAAQ,WAAA,EAAY,CAAE;gBAAxE,QAAQ,CACC,UAAC,CAAU,KAAC,CAAK,OAAC,CAAO,CAAC,MAAC,GAAQ,CAAA,aAAE,CAAa,CAAC;YAApE,CAAO;QACP,CAAK;IACL,CAAG;IACD,MAAF,CACS,QAAA,CAAS;AAAlB,CAAC,CACC;AACF,IACa,4BAAA,GAA+B,UAA1C,SACW,EAAX,KACO,EAAP,QACU;IACV,EAAF,CAAA,CAAM,CACC,KAAC,CAAK,IAAC,IAAO,CAAA,KAAE,CAAK,EAAC,IAAK,QAAA,CAAS,IAAC,YAAe,KAAA,CAD3D,CACkE,CADlE;QACI,MACM,IAAI,KAAA,CAAM,oBAAC,CAAoB,CAAC;IAA1C,CAAG;IACD,MAAF,CACS,oBAAA,CAAL,SAAS,EACT,EACE,EAAA,EAAI,KAAA,CAAM,EAAC,EAAG,IAAA,EAAM,KAAA,CAAM,IAAC,EAAI,EAAjC,QAAQ,CACC,MAAC,EAAV,KAAK,CACN,CACC;AAAJ,CAAC,CACC;AACF,IACa,oBAAA,GAAuB,UAAlC,SACW,EAAX,EACI,EAAJ,MAC4B,EAA5B,gBACkB;IAClB,EAAF,CAAA,CAAM,CACC,SAAC,CAAS,EAAC,CAAE,IAAC,CAAI,IAAI,CAAA,SAAE,CAAS,EAAC,CAAE,IAAC,CAAI,CAAC,EAAC,CAAE,EAAC,CAAE,CADvD,CACyD,CADzD;QACI,MAAJ,CACW,SAAA,CAAU;IAArB,CAAG;IACD,IAAF,gBAAA,CACM,QAAA,GADNF,UAAA,CAAA,EAAA,EACyC,SAAI,CAAS,CAAE;IAAtD,QAAQ,CACC,EAAC,CAAE,IAAC,CAAI,GADnBA,UAAA,CAAA,EAAA,EACwB,QAAI,CAAQ,EAAC,CAAE,IAAC,CAAI,CAAC,CAAE;IAA7C,IAAF,gBAAA,CACM,aAAA,GADNA,UAAA,CAAA,EAAA,EACwB,QAAI,CAAQ,EAAC,CAAE,IAAC,CAAI,CAAC,EAAC,CAAE,EAAC,CAAE,CAAC,CAAE;IACpD,EAAF,CAAA,CAAM,gBACC,KAAoB,KAAA,CAD3B,CACkC,CADlC;QACI,aAAa,CACC,MAAC,GAAQ,EAAA,CAAG;QAA1B,EAAJ,CAAA,CAAQ,MACC,CADT,CACgB,CADhB;YACM,CAAA,EAAN,GAAM,aAAa,CACC,MAAC,CADrB,CAC2B,IAAC,CAD5B,KAAA,CAAA,EAAA,EACiC,MAAG,CADpC,CAC2C;QAA3C,CAAK;IACL,CAAG;IACH,IAAA,CAAS,EAAT,CAAA,CAAS,gBAAK,KAAoB,KAAA,CAAlC,CAAyC,CAAzC;QAAI,IAAJ,gBAAA,CACQ,aAAA,GAAgB,aAAA,CAAc,MAAC,CAAM;QAAzC,aAAa,CACC,MAAC,GAAQ,EAAA,CAAG;QAA1B,EAAJ,CAAA,CAAQ,aACC,CADT,CACuB,CADvB;YACM,CAAA,EAAN,GAAM,aAAa,CACC,MAAC,CADrB,CAC2B,IAAC,CAD5B,KAAA,CAAA,EAAA,EACiC,aAAG,CADpC,CACkD;QAAlD,CAAK;QACD,EAAJ,CAAA,CAAQ,MACC,CADT,CACgB,CADhB;YACM,CAAA,EAAN,GAAM,aAAa,CACC,MAAC,CADrB,CAC2B,IAAC,CAD5B,KAAA,CAAA,EAAA,EACiC,MAAG,CADpC,CAC2C;QAA3C,CAAK;IACL,CAAG;IACH,IAAA,CAAS,CAAT;QAAI,IAAJ,gBAAA,CACQ,aAAA,GAAgB,aAAA,CAAc,MAAC,CAAM;QAAzC,aAAa,CACC,MAAC,GAAQ,EAAA,CAAG;QAA1B,EAAJ,CAAA,CAAQ,aACC,CADT,CACuB,CADvB;YAEA,IAAA,OAAA,GAAA,UAAe,YAAA;gBAAP,IAAR,gBAAA,CACY,MAAA,GAAF,MAAM,IACI,MAAA,CAAO,MAAC,CAAM,UAAA,EAAC,IAAK,MAFxC,CAEwCE,OAAG,CAAO,EAAC,EAAG,YAAA,CAAa,CAFnE,CAAA,CAEmE,CAAC,CAAC,MAAC,GAAQ,CAAA,CAAE;gBAAxE,EAAR,CAAA,CAAY,CACC,MAAC,CADd,CACqB,CADrB;oBACU,aAAa,CACC,MAAC,CAAM,IAAC,CAAI,YAAC,CAAY,CAAC;gBAAlD,CAAS;YACT,CAAO,CAAP;YANM,GAAN,CAAA,CAC+B,IAD/B,EAAA,GAAA,CAC+B,EAAA,eAD/B,GAAA,aAC+B,EAAA,EAD/B,GAAA,eAAA,CAAA,MAC+B,EAAA,EAD/B,EAC+B,EAD/B,CAAA;gBAAW,IACI,YAAA,GADf,eAAA,CAAA,EAAA,CACe,CADf;gBACA,OAAA,CAAA,gBAAA,CAAe,YAAA,CAAf,CAAA;YAKA,CAAO;QACP,CAAK;IACL,CAAG;IACD,QAAQ,CACC,EAAC,CAAE,IAAC,CAAI,CAAC,EAAC,CAAE,EAAC,CAAE,GAAG,aAAA,CAAc;IAAzC,MAAF,CACS,QAAA,CAAS;;AAAlB,CAAC,CACC;;;;;;;AAMF,0BACE,QAA8B,EAC9B,IAAY,EACZ,EAAU;IAEV,IAAF,gBAAA,CAJM,aAAA,GAAgB,QAAA,CAAS,IAAC,CAAI,CAAC,EAAC,CAAE,CAAC;IAKvC,EAAF,CAAA,CAAM,CAJC,aAAC,CAAa,iBAAC,CAItB,CAJwC,CAIxC;QACI,OAJO,QAAA,CAAS,IAAC,CAAI,CAAC,EAAC,CAAE,CAAC;IAK9B,CAAG;IAJH,IAAA,CAAS,EAAT,CAAA,CAAS,aAAK,CAAa,KAAC,KAAS,SAAA,CAArC,CAAgD,CAAhD;QAKI,QAAQ,CAJC,IAAC,CAAI,CAAC,EAAC,CAAE,GAItB,CAJyBF,UAIzB,CAAA,EAAA,EACS,QAJC,CAAQ,IAAC,CAAI,CAAC,EAAC,CAAE,EAG3B,EAEM,KAAK,EAJE,SAAA,EAKP,QAAQ,EAJE,QAAA,CAAS,IAAC,CAAI,CAAC,EAAC,CAAE,CAAC,iBAAC,EACpC,CAIM,CAAC,CAJD;IAKN,CAAG;AACH,CAAC;AAED,IAJa,sBAAA,GAAyB,UAKpC,SAJW,EAKX,GAJ8B,EAK9B,OAJsB;IAMtB,IAAF,gBAAA,CAJM,QAAA,GAINA,UAAA,CAAA,EAAA,EAJyC,SAAI,CAAS,CAAE;IAMtD,EAAF,CAAA,CAAMQ,WAJG,CAAW,GAAC,CAAG,CAIxB,CAJ0B,CAI1B;QACI,MAAM,CAJC,IAAC,CAAI,QAAC,CAAQ,CAAC,OAAC,CAAO,UAAA,IAAC;YAK7B,QAAQ,CAJC,IAAC,CAAI,GAIpBR,UAAA,CAAA,EAAA,EAJyB,QAAI,CAAQ,IAAC,CAAI,CAAC,CAAE;YAKvC,MAAM,CAJC,IAAC,CAAI,QAAC,CAAQ,IAAC,CAAI,CAAC,CAAC,OAAC,CAAO,UAAA,EAAC;gBAKnC,gBAAgB,CAJC,QAAC,EAAS,IAAA,EAAM,EAAA,CAAG,CAAC;YAK7C,CAAO,CAJC,CAAC;QAKT,CAAK,CAJC,CAAC;IAKP,CAAG;IAJH,IAAA,CAAS,CAAT;QAKI,IAAJ,gBAAA,CAJQ,iBAAA,GAAoB,iBAAA,CAAkB,QAAC,EAAS,GAAA,EAAK,OAAA,EAAS,IAAA,CAAK,CAAC;QAKxE,GAAJ,CAAA,CAJiC,IAIjC,EAAA,GAAA,CAJiC,EAAA,mBAIjC,GAAA,iBAJiC,EAAA,EAIjC,GAAA,mBAAA,CAAA,MAJiC,EAAA,EAIjC,EAJiC,EAIjC,CAAA;YAAS,IAJI,gBAAA,GAIb,mBAAA,CAAA,EAAA,CAJa,CAIb;YACM,gBAAgB,CAJC,QAAC,EAAS,gBAAA,CAAiB,IAAC,EAAK,gBAAA,CAAiB,EAAC,CAAE,CAAC;QAK7E,CAAK;IACL,CAAG;IACD,MAAF,CAJS,QAAA,CAAS;AAKlB,CAAC,CAJC;AAMF,IAJa,oBAAA,GAAuB,UAKlC,SAJW,EAKX,KAJO;IAMP,IAAF,gBAAA,CAJM,QAAA,GAINA,UAAA,CAAA,EAAA,EAJmB,SAAI,CAAS,CAAE;;IAMhC,EAAF,CAAA,CAAM,OAJO,KAAA,CAAM,EAAC,KAAM,WAAA,CAI1B,CAJuC,CAIvC;QACI,QAAQ,CAJC,KAAC,CAAK,IAAC,CAAI,GAAG,EAAA,CAAG;IAK9B,CAAG;IAJH,IAAA,CAAS,CAAT;QAKI,QAAQ,CAJC,KAAC,CAAK,IAAC,CAAI,GAIxB,CAJ2BkB,IAAG,CAAI,QAAC,CAAQ,KAAC,CAAK,IAAC,CAAI,EAAE;YAKlD,KAAK,CAJC,EAAC;SAKR,CAJK,CAAA,CAA0B;IAKpC,CAAG;IACD,MAAF,CAJS,QAAA,CAAS;AAKlB,CAAC,CAJC;AAMF,IAJa,gBAAA,GAAmB,UAK9B,SAJW,EAKX,OAJS;IAMT,IAAF,gBAAA,CAJM,QAAA,GAINlB,UAAA,CAAA,EAAA,EAJmB,SAAI,CAAS,OAAC,CAAO,CAAC,CAAE;IAKzC,OAJO,QAAA,CAAS,SAAC,CAAS;IAK1B,OAJO,QAAA,CAAS,MAAC,CAAM;IAKvB,OAJO,QAAA,CAAS,IAAC,CAAI;IAKrB,OAJO,QAAA,CAAS,KAAC,CAAK;IAMtB,IAAF,gBAAA,CAJM,QAAA,GAINA,UAAA,CAAA,EAAA,EAJmB,SAAI,CAAS,CAAE;IAKhC,QAAQ,CAJC,OAAC,CAAO,GAAG,QAAA,CAAS;IAK7B,MAAF,CAJS,QAAA,CAAS;AAKlB,CAAC,CAJC;;;;;;;;;;;;AAgBF,IAHC,2BAAA,GAAA,UAIC,SAA+B,EAC/B,QAAkB,EAClB,UAAmB,EACnB,QAAiB;IAEjB,EAAF,CAAA,CAAMQ,WAAa,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAA7C,CAA+C,CAA/C;QACI,IAAI,YAAY,GAApBR,UAAA,CAAA,EAAA,EAAkD,SAAS,CAAE,CAAC;QAC1D,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;QACjC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,mBAAmB,CAC/C,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,EAC3B,QAAQ,EACR,UAAU,CACX,CAAC;QACF,MAAJ,CAAW,YAAY,CAAC;IACxB,CAAG;IAAH,IAAA,CAAS,EAAT,CAAA,CAAaQ,WAAa,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,IAAI,QAAQ,CAA7E,CAA+E,CAA/E;QACI,IAAI,qBAAqB,GAAG,mBAAmB,CAC7C,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,EACxB,QAAQ,EACR,UAAU,CACX,CAAC;;QAGF,EAAJ,CAAA,CAAQ,qBAAqB,KAAK,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,CAA1D,CAA4D,CAA5D;YACM,IAAI,YAAY,GAAtBR,UAAA,CAAA,EAAA,EAAoD,SAAS,CAAE,CAAC;YAC1D,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,qBAAqB,CAAC;YACpD,MAAN,CAAa,YAAY,CAAC;QAC1B,CAAK;QACD,MAAJ,CAAW,SAAS,CAAC;IACrB,CAAG;IAAH,IAAA,CAAS,CAAT;QACI,IAAI,qBAAqB,GAAG,mBAAmB,CAC7C,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,EACxB,QAAQ,EACR,UAAU,CACX,CAAC;;QAGF,EAAJ,CAAA,CAAQ,qBAAqB,KAAK,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,CAA1D,CAA4D,CAA5D;YACM,IAAI,YAAY,GAAtBA,UAAA,CAAA,EAAA,EAAoD,SAAS,CAAE,CAAC;YAC1D,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,qBAAqB,CAAC;YACpD,MAAN,CAAa,YAAY,CAAC;QAC1B,CAAK;QACD,MAAJ,CAAW,SAAS,CAAC;IACrB,CAAG;AACH,CAAC,CAAC;AAEF,IAHa,0BAAA,GAA6B,UAIxC,SAHW,EAIX,OAHS;IAKT,IAAF,gBAAA,CAHM,IAAA,GAGN,CAHyCM,GAAG,CAAG,OAAC,EAAQ,MAAA,CAAO,CAAA,CAAC;IAK9D,EAAF,CAAA,CAAME,WAHG,CAAW,IAAC,CAAI,CAGzB,CAH2B,CAG3B;QACI,MAAJ,CAHW,SAAA,CAAU;IAIrB,CAAG;IAED,IAAI,GAHGD,OAAG,CAAO,IAAC,CAAI,GAGxB,CAHuC,IAAC,CAGxC,GAAA,CAH0D,CAAC,IAAC,CAAI,CAAA,CAAC;IAK/D,IAAF,gBAAA,CAHM,QAAA,GAGN,CAHkCD,GAAG,CAAG,OAAC,EAAQ,UAAA,CAAW,CAAA,CAAC;IAK3D,EAAF,CAAA,CAAM,CAHCE,WAAG,CAAW,QAAC,CAAQ,CAG9B,CAHgC,CAGhC;QACI,IAAI,GAHK,IAAG,CAGhB,MAAA,CAHqB,QAAI,CAAQ,CAAC;IAIlC,CAAG;IAED,MAAF,CAAA,CAH+BS,MAAG,CAI9B,IAAI,EACJ,UAAC,MAHQ,EAAsB,QAAU;;;;;;;;QAWvC,MAAN,CAHa,2BAAA,CAA4B,MAAC,EAAO,QAAA,EAAU,IAAA,EAAM,IAAA,CAAK,CAAC;;;;IAOvE,CAAK,EACD,SAAS,CACT,CAFJ,CADI;AAIJ,CAAC,CAHC;;;;;;;;;;;AAcF,IAFC,iBAAA,GAAA,UAGC,YAAqC,EACrC,KAAY;IAEZ,EAAF,CAAA,CAAM,CAAC,KAAK,CAAC,OAAO,CAApB,CAAsB,CAAtB;QACI,MAAJ,CAAW,YAAY,CAAC;IACxB,CAAG;IAED,IAAI,aAAa,GAAnBjB,UAAA,CAAA,EAAA,EAA2B,YAAY,CAAC,KAAK,CAAC,OAAO,CAAC,CAAE,CAAC;IACvD,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC;IAC7B,aAAa,CAAC,KAAK,GAAGW,SAAW,CAAC,KAAK,CAAC,CAAC;IAEzC,EAAF,CAAA,CAAMH,WAAa,CAAC,aAAa,CAAC,MAAM,CAAC,CAAzC,CAA2C,CAA3C;QACI,aAAa,CAAC,MAAM,GAAG,EAAE,CAAC;IAC9B,CAAG;IAED,IAAI,eAAe,GAArBR,UAAA,CAAA,EAAA,EAAsD,YAAY,CAAE,CAAC;IACnE,eAAe,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,aAAa,CAAC;IAC7D,MAAF,CAAS,eAAe,CAAC;AACzB,CAAC,CAAC;;;;AAIF,IADC,kBAAA,GAAA,UAEC,YAAqC,EACrC,OAAe,EACf,QAAkB;IAElB,IAAI,UAAU,GAAe,YAAY,CAAC,OAAO,CAAC,CAAC;IACnD,EAAF,CAAA,CAAM,UAAU,CAAhB,CAAkB,CAAlB;QACI,IAAI,IAAI,GAAGO,OAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACtE,IAAI,aAAa,GAArBP,UAAA,CAAA,EAAA,EACS,UAAU,EADnB,EAEM,SAAS,EAAE,IAAI,CAAC,GAAG,CAAC,UAAA,EAAE,IAAI,MAFhC,CAAA,CAEiC,EAAE,GAAG,oBAAoB,CAAC,EAAE,CAAC,GAAG,EAAE,CAFnE,CAAA,CAAA,CAEoE,CAAC,EAC/D,IAAI,EAAE,QAAQ,CAAC,IAAI,EACnB,KAAK,EAAE,QAAQ,CAAC,KAAK,EACrB,OAAO,EAAE,KAAK,EALpB,CAMK,CAAC;QAEF,EAAJ,CAAA,CAAO,CAACE,OAAS,CAAC,aAAa,EAAE,UAAU,CAAC,CAA5C,CAA6C,CAA7C;YACM,IAAI,QAAQ,GAAlBF,UAAA,CAAA,EAAA,EAAmD,YAAY,CAAE,CAAC;YAC5D,QAAQ,CAAC,OAAO,CAAC,GAAe,aAAa,CAAC;YAC9C,MAAN,CAAa,QAAQ,CAAC;QACtB,CAAK;IACL,CAAG;IACD,MAAF,CAAS,YAAY,CAAC;AACtB,CAAC,CAAC;;;;;;;AAOF,IAAC,iBAAA,GAAA,UACC,YAAqC,EACrC,OAAe,EACf,QAAkB;IAElB,EAAF,CAAA,CAAM,CAAC,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAxC,CAA0C,CAA1C;QACI,MAAJ,CAAW,YAAY,CAAC;IACxB,CAAG;IACD,IAAI,QAAQ,GAAdA,UAAA,CAAA,EAAA,EAAsB,YAAY,CAAE,CAAC;IACnC,IAAI,aAAa,GAAnBA,UAAA,CAAA,EAAA,EAA2B,QAAQ,CAAC,OAAO,CAAC,CAAE,CAAC;IAC7C,aAAa,CAAC,MAAM,GAAG,EAAE,CAAC;IAC1B,EAAF,CAAA,CAAM,QAAQ,CAAC,MAAM,CAArB,CAAuB,CAAvB;QACI,CAAA,EAAJ,GAAI,aAAa,CAAC,MAAM,CAAxB,CAAyB,IAAI,CAA7B,KAAA,CAAA,EAAA,EAAiC,QAAQ,CAAC,MAAM,CAAhD,CAAkD;IAClD,CAAG;IACD,QAAQ,CAAC,OAAO,CAAC,GAAG,aAAa,CAAC;IAClC,MAAF,CAAS,QAAQ,CAAC;;AAClB,CAAC,CAAC;;;;AAIF,IACC,WAAA,GAAA,UAAC,YAAqC,EACrC,OAAe;IAEf,IAAI,QAAQ,GAAdA,UAAA,CAAA,EAAA,EAA+C,YAAY,CAAE,CAAC;IAC5D,OAAO,QAAQ,CAAC,OAAO,CAAC,CAAC;IACzB,MAAF,CAAS,QAAQ,CAAC;AAClB,CAAC,CAAC;;;;AAIF,IAEC,oBAAA,GAAA,UADC,QAAkB;IAElB,MAAF,CAAS,EAAE,IAAI,EAAE,QAAQ,CAAC,IAAI,EAAE,EAAE,EAAE,QAAQ,CAAC,EAAE,EAAE,CAAC;AAClD,CAAC,CAAC;;;;;;;;;;;AAWF,IAGC,6BAAA,GAAA,UAFC,IAAY,EACZ,iBAAgC,EAChC,SAA+B,EAC/B,mBAA8C,EAC9C,aAAsB;IAEtB,EAAF,CAAA,CAAMQ,WAAa,CAAC,aAAa,CAAC,CAAlC,CAAoC,CAApC;QACI,aAAa,GAAG,GAAG,CAAC;IACxB,CAAG;IACD,IAAI,MAAM,GAAkB,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;IACtD,IAAI,oBAAoB,GAAG,iBAAiB,CAAC;IAC7C,GAAF,CAAA,CAAO,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAA1C;QACI,IAAI,UAAU,GAAGH,IAAM,CAAC,mBAAmB,EAAE;YAC3C,IAAI,EAAE,oBAAoB,CAAC,IAAI;SAChC,CAAC,CAAC;QAEH,EAAJ,CAAA,CAAQG,WAAa,CAAC,UAAU,CAAC,CAAjC,CAAmC,CAAnC;YACM,MAAM,IAAI,KAAK,CAAC,sBAAsB,CAAC,CAAC;QAC9C,CAAK;;QAED,EAAJ,CAAA,CACMA,WAAa,CAAC,UAAU,CAAC,UAAU,CAAC;YACpCA,WAAa,CAAC,UAAU,CAAC,aAAa,CACxC,CADJA,CACM,CADNA;YAEM,MAAM,IAAI,KAAK,CAAC,8CAA8C,CAAC,CAAC;QACtE,CAAK;QACD,EAAJ,CAAA,CAAQ,UAAU,CAAC,UAAU,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAvD,CAAyD,CAAzD;YACM,MAAN,CAAaF,GAAK,CAAC,oBAAoB,EAAE,aAAa,GAAG,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;QAC1E,CAAK;QAAL,IAAA,CAAW,EAAX,CAAA,CAAe,UAAU,CAAC,aAAa,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAjE,CAAmE,CAAnE;YACM,EAAN,CAAA,CAAU,CAAC,KAAK,MAAM,CAAC,MAAM,GAAG,CAAC,CAAjC,CAAmC,CAAnC;gBACQ,MAAM,IAAI,KAAK,CACb,2DAA2D,CAC5D,CAAC;YACV,CAAO;YACD,IAAI,gBAAgB,GAAG,UAAU,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3D,EAAN,CAAA,CAAU,gBAAgB,CAAC,YAAY,KAAK,SAAS,CAArD,CAAuD,CAAvD;gBACQ,MAAM,IAAI,KAAK,CAAC,uCAAuC,CAAC,CAAC;YACjE,CAAO;YAAP,IAAA,CAAa,CAAb;gBACQ,IAAI,QAAQ,GAAGA,GAAK,CAClB,oBAAoB,EACpB,gBAAgB,GAAG,MAAM,CAAC,CAAC,CAAC,EAC5B,IAAI,CACL,CAAC;gBACF,EAAR,CAAA,CAAY,CAAC,QAAQ,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAvC,CAAyC,CAAzC;oBACU,MAAV,CAAiB,IAAI,CAAC;gBACtB,CAAS;gBAAT,IAAA,CAAe,CAAf;oBACU,IAAI,WAAW,GAAG,CAAC,gBAAgB,CAAC,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;oBAC5D,oBAAoB,GAAkBA,GAAK,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;gBAC9E,CAAS;YACT,CAAO;QACP,CAAK;QAAL,IAAA,CAAW,CAAX;YACM,MAAM,IAAI,KAAK,CAAC,kDAAkD,CAAC,CAAC;QAC1E,CAAK;QACD,EAAJ,CAAA,CAAQE,WAAa,CAAC,oBAAoB,CAAC,CAA3C,CAA6C,CAA7C;YACM,MAAN,CAAa,IAAI,CAAC;QAClB,CAAK;IACL,CAAG;AACH,CAAC,CAAC;AAEF,IAGa,eAAA,GAAkB,UAF7B,SAGW,EAFX,SAGW,EAFX,KAGO,EAFP,mBAG8C,EAF9C,eAGkB;IADlB,MAAF,CAGSQ,MAAG,CAAM,SAAC,EAAU,UAAA,QAAA;QAFzB,EAAJ,CAAA,CACM,KAAK,CAGC,cAAC,CAAc,QAAC,CAAQ;YAF9B,KAAK,CAGC,MAAC,CAAM,cAAC,CAAc,WAAC,CAF/B,CADJ,CAIM,CAJN;YAEM,MAAN,CAGa,KAAA,CAAM,MAAC,CAAM,SAAC,CAAS,KAAC,CAAK,UAAA,OAAC;gBAFnC,IAAR,gBAAA,CAGY,aAAA,CAAc;gBAFlB,IAAR,gBAAA,CAGY,kBAAA,CAAmB;gBADvB,EAAR,CAAA,CAAY,CAGCR,WAAG,CAAW,eAAC,CAAe,CAH3C,CAG6C,CAH7C;oBACU,aAAa,GAAvB,CAGkCF,GAAG,CAAG,eAAC,EAAgB,eAAA,CAAgB,CAAA,CAAC;oBAFhE,kBAAkB,GAA5B,CAGyDA,GAAG,CAFhD,eAAe,EACf,oBAAoB,CACpB,CAAC,CAGD;gBAFZ,CAAS;;gBAED,IAAR,gBAAA,CAGY,kBAAA,GAAqB,6BAAA,CAFvB,OAAO,CAGC,IAAC,EAFT,QAAQ,EACR,SAAS,EACT,mBAAmB,EACnB,aAAa,CACd,CAGC;gBAFF,EAAR,CAAA,CAAY,CAGC,kBAAC,CAHd,CAGiC,CAHjC;oBACU,MAAV,CAGiB,KAAA,CAAM;gBAFvB,CAAS;gBAED,IAAR,gBAAA,CAGY,QAAA,GAHZ,CAG0CD,IAAG,CAAI,kBAAC,EAAmB;oBAF3D,IAAI,EAGE,OAAA,CAAQ,QAAC;iBAFhB,CAGC,CAAA,CAAC;gBADH,EAAR,CAAA,CAAY,QAGC,CAHb,CAGsB,CAHtB;oBACU,MAAV,CAGiB,QAAA,CAAS,UAAC,CAAU,OAAC,CAAO,KAAC,EAAM,kBAAA,CAAmB,CAAC;gBAFxE,CAAS;gBAED,OAAO,CAGC,QAAC,GAAU,OAAA,CAAQ,cAAC,CAAc,UAAC,CAAU;sBACjD,OAAA,CAAQ,QAAC;sBACT,QAAA,CAAS;gBADb,MAAR,CAAA,CAAgB,OAGC,CAAO,QAAC,CAHzB,CAAA,CAAA;oBACU,KAGK,QAAA;wBAFH,EAAZ,CAAA,CAAgBU,QAGG,CAAQ,OAAC,CAAO,KAAC,CAAK,IAAIA,QAAG,CAAQ,kBAAC,CAAkB,CAH3E,CAG6E,CAH7E;4BACc,MAAd,CAAA,CACgB,OAAO,CAGC,KAAC,CAAK,WAAC,EAAW,KAAM,kBAAA,CAAmB,WAAC,EAAW,CAJ/E,CAKgB;wBAFhB,CAAa;wBAGb,IAAA,CAAmB,CAAnB;4BAFc,MAAd,CAGqB,OAAA,CAAQ,KAAC,KAAS,kBAAA,CAAmB;wBAF1D,CAAa;oBAEH,KAGK,OAAA;wBAFH,MAAZ,CAGmB,OAAA,CAAQ,KAAC,KAAS,kBAAA,CAAmB;oBAD9C,KAGK,UAAA;wBAFH,MAAZ,CAGmBD,QAAG,CAAQ,kBAAC,EAAmB,OAAA,CAAQ,KAAC,CAAK,CAAC;oBADvD,KAGK,WAAA;wBAFH,MAAZ,CAGmBA,QAAG,CAFR,kBAAkB,CAGC,WAAC,EAAW,EAF/B,OAAO,CAGC,KAAC,CAAK,WAAC,EAAW,CAF3B,CAGC;oBADJ,KAGK,IAAA;wBAFH,EAAZ,CAAA,CAAgBP,OAGG,CAAO,OAAC,CAAO,KAAC,CAAK,CAHxC,CAG0C,CAH1C;4BACc,MAAd,CAGqBO,QAAG,CAAQ,OAAC,CAAO,KAAC,EAAM,kBAAA,CAAmB,CAAC;wBAFnE,CAAa;wBAGb,IAAA,CAAmB,CAAnB;4BAFc,MAAd,CAGqBA,QAAG,CAAQ,CAAC,OAAC,CAAO,KAAC,CAAK,EAAE,kBAAA,CAAmB,CAAC;wBAFrE,CAAa;oBACH,KAGK,IAAA;wBAFH,MAAZ,CAGmB,OAAA,CAAQ,KAAC,GAAO,kBAAA,CAAmB;oBAD5C,KAGK,KAAA;wBAFH,MAAZ,CAGmB,OAAA,CAAQ,KAAC,IAAQ,kBAAA,CAAmB;oBAD7C,KAGK,IAAA;wBAFH,MAAZ,CAGmB,OAAA,CAAQ,KAAC,GAAO,kBAAA,CAAmB;oBAD5C,KAGK,KAAA;wBAFH,MAAZ,CAGmB,OAAA,CAAQ,KAAC,IAAQ,kBAAA,CAAmB;oBAD7C,KAGK,YAAA;wBAFH,MAAZ,CAGmBD,UAAG,CAAU,kBAAC,EAAmB,OAAA,CAAQ,KAAC,CAAK,CAAC;oBADzD,KAGK,aAAA;wBAFH,MAAZ,CAGmBA,UAAG,CAFR,kBAAkB,CAGC,WAAC,EAAW,EAF/B,OAAO,CAGC,KAAC,CAAK,WAAC,EAAW,CAF3B,CAGC;oBADJ,KAGK,UAAA;wBAFH,MAAZ,CAGmBD,QAAG,CAAQ,kBAAC,EAAmB,OAAA,CAAQ,KAAC,CAAK,CAAC;oBADvD,KAGK,WAAA;wBAFH,MAAZ,CAGmBA,QAAG,CAFR,kBAAkB,CAGC,WAAC,EAAW,EAF/B,OAAO,CAGC,KAAC,CAAK,WAAC,EAAW,CAF3B,CAGC;oBADJ;wBACE,MAAZ,CAGmB,IAAA,CAAK;gBAFxB,CAAS;YACT,CAAO,CAGC,CAAC;QAFT,CAAK;QAGL,IAAA,CAAW,CAAX;YAFM,MAAN,CAGa,IAAA,CAAK;QAFlB,CAAK;IACL,CAAG,CAGC,CAAC;AAFL,CAAC,CAGC;AADF,IAGa,2BAAA,GAA8B,UAFzC,QAGuB;IADvB,EAAF,CAAA,CAAMX,OAGG,CAAO,QAAC,CAAQ,CAHzB,CAG2B,CAH3B;QACI,MAAJ,CAGW,EAAA,CAAG;IAFd,CAAG;IAED,MAAF,CAGS,UAAA,GAAa,QAAA,CAAS,IAAC,EAAI,CAAE;AAFtC,CAAC,CAGC;AADF,IAGa,yBAAA,GAA4B,UAAA,MAAsB;IAF7D,EAAF,CAAA,CAAMA,OAGG,CAAO,MAAC,CAAM,CAHvB,CAGyB,CAHzB;QACI,MAAJ,CAGW,EAAA,CAAG;IAFd,CAAG;IAED,MAAF,CAGS,SAAA,GAAY,MAAA,CAAO,IAAC,EAAI,CAAE;AAFnC,CAAC,CAGC;AADF,IAGa,4BAAA,GAA+B,UAF1C,SAGgC;IADhC,EAAF,CAAA,CAAMA,OAGG,CAAO,SAAC,CAAS,CAH1B,CAG4B,CAH5B;QACI,MAAJ,CAGW,EAAA,CAAG;IAFd,CAAG;IACD,IAAF,gBAAA,CAGM,eAAA,GAAkB,SAAA,CAAU,GAAC,CAAG,UAAA,CAAC;QAFnC,MAAJ,CAAA,CACM,SAAS;YACT,CAAC,CAGC,IAAC;YAFH,GAAG;YACT,CAAO,CAGC,CAAC,QAAC,GAAU,GAAA,GAAM,CAAA,CAAE,QAAC,GAAU,GAAA,GAAM,EAAA,CAAG;YAF1C,GAAG;YACH,kBAAkB,CAGC,CAAC,CAAC,KAAC,CAAK,CAHjC,CAIM;IAFN,CAAG,CAGC,CAAC;IAFH,MAAF,CAGS,eAAA,CAAgB,IAAC,CAAI,GAAC,CAAG,CAAC;AAFnC,CAAC,CAGC;AADF,IAGa,0BAAA,GAA6B,UAFxC,OAG4B;IAD5B,EAAF,CAAA,CAAMA,OAGG,CAAO,OAAC,CAAO,CAHxB,CAG0B,CAH1B;QACI,MAAJ,CAGW,EAAA,CAAG;IAFd,CAAG;IACD,MAAF,CAAA,CACI,OAAO;QACP,OAAO;aACJ,GAGC,CAAG,UAAA,CAAC,IAAI,MAHhB,CAGgB,CAAA,CAAE,CAAC,SAAC,KAAa,SAAA,CAAU,GAAC,GAAK,EAAA,GAAK,GAAA,CAHtD,GAG6D,CAAA,CAAE,GAAC,CAHhE,CAAA,CAGgE,CAAG;aAF5D,IAGC,CAAI,GAAC,CAAG,CAHhB,CAII;AAFJ,CAAC,CAGC;AADF,IAGa,mBAAA,GAAsB;IAAA,IAAnC,MAAA,GAAA,EAAA,CAA4D;IAA5D,GAAA,CAAA,CAAmC,IAAnC,EAAA,GAAA,CAA4D,EAAzB,EAAnC,GAAA,SAAA,CAAA,MAA4D,EAAzB,EAAnC,EAA4D,EAA5D,CAAA;QAAmC,MAAnC,CAAA,EAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA,CAA4D;;IAF1D,IAAF,gBAAA,CAGM,SAAA,GAAY,MAAA,CAAO,MAAC,CAAM,UAAA,CAAC,IAAI,MAHrC,CAGqC,CAAA,KAAM,EAAA,CAH3C,CAAA,CAG2C,CAAG,CAAC;IAF7C,EAAF,CAAA,CAAM,SAGC,CAAS,MAAC,KAAU,CAAA,CAH3B,CAG8B,CAH9B;QACI,MAAJ,CAGW,GAAA,GAAM,SAAA,CAAU,IAAC,CAAI,GAAC,CAAG,CAAC;IAFrC,CAAG;IAGH,IAAA,CAAS,CAAT;QAFI,MAAJ,CAGW,EAAA,CAAG;IAFd,CAAG;AACH,CAAC,CAGC;AADF,IAGa,eAAA,GAAkB,UAF7B,QAGU,EAFV,SAGW;IADX,IAAF,gBAAA,CAGM,OAAA,GAAmB;QAFrB,KAAK,EAGE;YAFL,IAAI,EAGE,QAAA,CAAS,IAAC;SAFjB;KACF,CAGC;;IAAF,EAAF,CAAA,CAAM,SAGC,KAAa,MAAA,IAAU,SAAA,KAAc,OAAA,CAH5C,CAGqD,CAHrD;QACI,OAAO,CAGC,WAAC,GAAa;YAFpB,IAAI,EAGE;gBAFJ,EAAE,EAGE,QAAA,CAAS,EAAC;gBAFd,IAAI,EAGE,QAAA,CAAS,IAAC;gBAFhB,UAAU,EAGE,QAAA,CAAS,UAAC;gBAFtB,aAAa,EAGE,QAAA,CAAS,aAAC;aAF1B;SACF,CAGC;IAFN,CAAG;IAED,EAAF,CAAA,CAAM,SAGC,KAAa,MAAA,IAAU,QAAA,CAAS,cAAC,CAHxC,CAGuD,CAHvD;QACI,OAGO,OAAA,CAAQ,WAAC,CAAW,IAAC,CAAI,EAAC,CAAE;IAFvC,CAAG;;;;IAKD,EAAF,CAAA,CAAM,SAGC,KAAa,OAAA,IAAW,SAAA,KAAc,QAAA,IAAY,SAAA,KAAc,MAAA,CAHvE,CAG+E,CAH/E;QACI,OAAO,CAGC,KAAC,CAAK,EAAC,GAAI,QAAA,CAAS,EAAC,CAAE;IAFnC,CAAG;IAED,MAAF,CAGS,OAAA,CAAQ;AAFjB,CAAC,CAGC;;AAAF,IAGa,IAAA,GAAO;IAFlB,IAAF,gBAAA,CAGM,GAAA,GAAM,EAAA,CAAG;IAFb,GAAF,CAAA,CAAO,IAAP,gBAAA,CAGW,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,GAAA,EAAK,CAAA,EAAE,EAAG,CAHhC;QACI,GAAG,CAGC,CAAC,CAAC,GAAG,CAAA,CAAE,GAAG,EAAA,GAAK,GAAA,GAAM,EAAA,CAH7B,GAGmC,CAAA,CAAE,QAAC,CAAQ,EAAC,CAAE,CAAC;IAFlD,CAAG;IACD,IAAF,gBAAA,CAGM,EAAA,GAAK,CAAA,IAAE,CAAI,MAAC,EAAM,GAAI,UAAA,CAH5B,GAG0C,CAAA,CAAE;IAF1C,IAAF,gBAAA,CAGM,EAAA,GAAK,CAAA,IAAE,CAAI,MAAC,EAAM,GAAI,UAAA,CAH5B,GAG0C,CAAA,CAAE;IAF1C,IAAF,gBAAA,CAGM,EAAA,GAAK,CAAA,IAAE,CAAI,MAAC,EAAM,GAAI,UAAA,CAH5B,GAG0C,CAAA,CAAE;IAF1C,IAAF,gBAAA,CAGM,EAAA,GAAK,CAAA,IAAE,CAAI,MAAC,EAAM,GAAI,UAAA,CAH5B,GAG0C,CAAA,CAAE;IAF1C,MAAF,CAAA,CACI,GAAG,CAGC,EAAC,GAAI,IAAA,CAAK;QAFd,GAAG,CAGC,CAAC,EAAC,IAAK,CAAA,CAHf,GAGoB,IAAA,CAAK;QAFrB,GAAG,CAGC,CAAC,EAAC,IAAK,EAAA,CAHf,GAGqB,IAAA,CAAK;QAFtB,GAAG,CAGC,CAAC,EAAC,IAAK,EAAA,CAHf,GAGqB,IAAA,CAAK;QAFtB,GAAG;QACH,GAAG,CAGC,EAAC,GAAI,IAAA,CAAK;QAFd,GAAG,CAGC,CAAC,EAAC,IAAK,CAAA,CAHf,GAGoB,IAAA,CAAK;QAFrB,GAAG;QACH,GAAG,CAGC,CAAC,CAAC,EAAC,IAAK,EAAA,CAHhB,GAGsB,IAAA,CAHtB,GAG8B,IAAA,CAAK;QAF/B,GAAG,CAGC,CAAC,EAAC,IAAK,EAAA,CAHf,GAGqB,IAAA,CAAK;QAFtB,GAAG;QACH,GAAG,CAGC,CAAC,EAAC,GAAI,IAAA,CAHd,GAGsB,IAAA,CAAK;QAFvB,GAAG,CAGC,CAAC,EAAC,IAAK,CAAA,CAHf,GAGoB,IAAA,CAAK;QAFrB,GAAG;QACH,GAAG,CAGC,CAAC,EAAC,IAAK,EAAA,CAHf,GAGqB,IAAA,CAAK;QAFtB,GAAG,CAGC,CAAC,EAAC,IAAK,EAAA,CAHf,GAGqB,IAAA,CAAK;QAFtB,GAAG,CAGC,EAAC,GAAI,IAAA,CAAK;QAFd,GAAG,CAGC,CAAC,EAAC,IAAK,CAAA,CAHf,GAGoB,IAAA,CAAK;QAFrB,GAAG,CAGC,CAAC,EAAC,IAAK,EAAA,CAHf,GAGqB,IAAA,CAAK;QAFtB,GAAG,CAGC,CAAC,EAAC,IAAK,EAAA,CAHf,GAGqB,IAAA,CAAK,CAH1B,CAII;AAFJ,CAAC,CAGC;;AAAF,IAGM,KAAA,GAAQ,UAAA,EAAK;IAFjB,MAAF,CAGS,EAAA,CAAG,EAAC,GAAI,GAAA,GAAM,EAAA,CAAG,IAAC,CAAI;AAF/B,CAAC,CAGC;AADF,IAGM,mBAAA,GAAsB,UAAA,KAAQ,EAAkB,aAAe;IAFnE,GAAF,CAAA,CAAO,IAAP,gBAAA,CAGW,SAAA,IAAa,KAAA,CAAM,OAAC,CAH/B,CAGuC,CAHvC;QACI,EAAJ,CAAA,CAAQ,KAGC,CAAK,OAAC,CAAO,cAAC,CAAc,SAAC,CAAS,CAH/C,CAGiD,CAHjD;YACM,IAAN,gBAAA,CAGU,KAAA,GAAQ,KAAA,CAAM,OAAC,CAAO,SAAC,CAAS,CAAC;YAFrC,EAAN,CAAA,CAAU,KAGC,CAAK,SAAC,CAHjB,CAG2B,CAH3B;gBACQ,GAAR,CAAA,CAG6B,IAH7B,EAAA,GAAA,CAGoC,EAAP,EAH7B,GAG6B,KAAA,CAAM,SAAC,EAAP,EAH7B,GAAA,EAAA,CAAA,MAGoC,EAAP,EAH7B,EAGoC,EAHpC,CAAA;oBAAa,IAGI,QAAA,GAHjB,EAAA,CAAA,EAAA,CAGiB,CAHjB;oBACU,aAAa,CAGC,KAAC,CAAK,QAAC,CAAQ,CAAC,GAAG,IAAA,CAAK;gBAFhD,CAAS;YACT,CAAO;QACP,CAAK;IACL,CAAG;AACH,CAAC,CAGC;AADF,IAGM,qBAAA,GAAwB,UAAA,KAAQ,EAAkB,aAAe;IAFrE,GAAF,CAAA,CAAO,IAAP,gBAAA,CAGW,IAAA,IAAQ,KAAA,CAAM,IAAC,CAH1B,CAG+B,CAH/B;QACI,EAAJ,CAAA,CAAQ,KAGC,CAAK,IAAC,CAAI,cAAC,CAAc,IAAC,CAAI,CAHvC,CAGyC,CAHzC;YACM,IAAN,gBAAA,CAGU,SAAA,GAAY,KAAA,CAAM,IAAC,CAAI,IAAC,CAAI,CAAC;YAFjC,GAAN,CAAA,CAAW,IAAX,gBAAA,CAGe,EAAA,IAAM,SAAA,CAHrB,CAGgC,CAHhC;gBACQ,EAAR,CAAA,CAAY,SAGC,CAAS,cAAC,CAAc,EAAC,CAAE,CAHxC,CAG0C,CAH1C;oBACU,IAAV,gBAAA,CAGc,QAAA,GAAW,SAAA,CAAU,EAAC,CAAE,CAAC;oBAF7B,EAAV,CAAA,CAAc,QAGC,CAAQ,KAAC,KAAS,SAAA,CAHjC,CAG4C,CAH5C;wBACY,aAAa,CAGC,KAAC,CAAK,QAAC,CAAQ,CAAC,GAAG,IAAA,CAAK;oBAFlD,CAAW;gBACX,CAAS;YACT,CAAO;QACP,CAAK;IACL,CAAG;AACH,CAAC,CAGC;AADF,IAGM,4BAAA,GAA+B,UAFnC,KAGO,EAFP,aAGe,EAFf,QAGU;IADV,IAAF,gBAAA,CAGM,UAAY,CAAQ;IAFxB,GAAF,CAAA,CAAO,IAAP,gBAAA,CAGW,gBAAA,IAAoB,QAAA,CAAS,aAAC,CAHzC,CAGuD,CAHvD;QACI,EAAJ,CAAA,CAAQ,QAGC,CAAQ,aAAC,CAAa,cAAC,CAAc,gBAAC,CAAgB,CAH/D,CAGiE,CAHjE;YACM,IAAN,gBAAA,CAGU,IAAA,GAAO,QAAA,CAAS,aAAC,CAAa,gBAAC,CAAgB,CAAC,IAAC,CAAI;YAFzD,EAAN,CAAA,CAAU,IAGC,CAHX,CAGgB,CAHhB;gBACQ,IAAR,gBAAA,CAGY,aAAA,GAFF,IAAI,YAGY,KAAA,GAAQ,IAAA,GAAO,CAAA,IAAE,CAAI,CAAC;gBAFxC,GAAR,CAAA,CAGiC,IAHjC,EAAA,GAAA,CAGiC,EAAA,eAHjC,GAAA,aAGiC,EAAA,EAHjC,GAAA,eAAA,CAAA,MAGiC,EAAA,EAHjC,EAGiC,EAHjC,CAAA;oBAAa,IAGI,YAAA,GAHjB,eAAA,CAAA,EAAA,CAGiB,CAHjB;oBACU,IAAV,gBAAA,CAGc,aAAA,GAAgB,KAAA,CAAM,YAAC,CAAY,CAAC;oBAFxC,EAAV,CAAA,CAAc,CAGC,aAAC,CAAa,aAAC,CAAa,CAH3C,CAG6C,CAH7C;;;wBAGY,UAAU,GAGG,IAAA,CAAK;wBAFlB,aAAa,CAGC,aAAC,CAAa,GAAG,IAAA,CAAK;oBAFhD,CAAW;gBACX,CAAS;YACT,CAAO;QACP,CAAK;IACL,CAAG;IACD,MAAF,CAGS,UAAA,CAAW;AAFpB,CAAC,CAGC;AADF,IAGM,iBAAA,GAAoB,UAAA,KAAQ,EAAkB,aAAe;IAFjE,OAAO,IAGC,EAAK,CAHf;QACI,IAAJ,gBAAA,CAGQ,UAAA,GAAa,KAAA,CAAM;QAFvB,GAAJ,CAAA,CAAS,IAAT,gBAAA,CAGa,IAAA,IAAQ,KAAA,CAAM,IAAC,CAH5B,CAGiC,CAHjC;YACM,EAAN,CAAA,CAAU,KAGC,CAAK,IAAC,CAAI,cAAC,CAAc,IAAC,CAAI,CAHzC,CAG2C,CAH3C;gBACQ,IAAR,gBAAA,CAGY,SAAA,GAAY,KAAA,CAAM,IAAC,CAAI,IAAC,CAAI,CAAC;gBAFjC,GAAR,CAAA,CAAa,IAAb,gBAAA,CAGiB,EAAA,IAAM,SAAA,CAHvB,CAGkC,CAHlC;oBACU,EAAV,CAAA,CAAc,SAGC,CAAS,cAAC,CAAc,EAAC,CAAE,CAH1C,CAG4C,CAH5C;wBACY,IAAZ,gBAAA,CAGgB,QAAA,GAAW,SAAA,CAAU,EAAC,CAAE,CAAC;wBAF7B,EAAZ,CAAA,CAAgB,aAGC,CAAa,KAAC,CAAK,QAAC,CAAQ,CAAC,CAH9C,CAGgD,CAHhD;;4BAEc,UAAU;gCACR,UAAU;oCACV,4BAA4B,CAGC,KAAC,EAAM,aAAA,EAAe,QAAA,CAAS,CAAC;wBAF7E,CAAa;oBACb,CAAW;gBACX,CAAS;YACT,CAAO;QACP,CAAK;QACD,EAAJ,CAAA,CAAQ,CAGC,UAAC,CAHV,CAGqB,CAHrB;YACM,KAAN,CAAY;QACZ,CAAK;IACL,CAAG;AACH,CAAC,CAGC;AADF,IAGM,oBAAA,GAAuB,UAAA,KAAQ,EAAkB,aAAe;IAFpE,IAAF,gBAAA,CAGM,YAAA,GAAe,KAAA,CAAM;IAFzB,IAAF,gBAAA,CAGM,QAAA,GAAWU,SAAG,CAAS,KAAC,CAAK,CAAC;IAFlC,GAAF,CAAA,CAAO,IAAP,gBAAA,CAGW,IAAA,IAAQ,QAAA,CAAS,IAAC,CAH7B,CAGkC,CAHlC;QACI,EAAJ,CAAA,CAAQ,QAGC,CAAQ,IAAC,CAAI,cAAC,CAAc,IAAC,CAAI,CAH1C,CAG4C,CAH5C;YACM,IAAN,gBAAA,CAGU,SAAA,GAAY,QAAA,CAAS,IAAC,CAAI,IAAC,CAAI,CAAC;YAFpC,GAAN,CAAA,CAAW,IAAX,gBAAA,CAGe,EAAA,IAAM,SAAA,CAHrB,CAGgC,CAHhC;gBACQ,EAAR,CAAA,CAAY,SAGC,CAAS,cAAC,CAAc,EAAC,CAAE,CAHxC,CAG0C,CAH1C;oBACU,IAAV,gBAAA,CAGc,QAAA,GAAW,SAAA,CAAU,EAAC,CAAE,CAAC;oBAF7B,EAAV,CAAA,CAAc,CAGC,aAAC,CAAa,KAAC,CAAK,QAAC,CAAQ,CAAC,CAH7C,CAG+C,CAH/C;wBACY,YAAY,GAGG,IAAA,CAAK;wBAFpB,OAGO,SAAA,CAAU,EAAC,CAAE,CAAC;oBAFjC,CAAW;gBACX,CAAS;YACT,CAAO;YAED,EAAN,CAAA,CAAUV,OAGG,CAAO,SAAC,CAAS,CAH9B,CAGgC,CAHhC;gBACQ,OAGO,QAAA,CAAS,IAAC,CAAI,IAAC,CAAI,CAAC;YAFnC,CAAO;QACP,CAAK;IACL,CAAG;IACD,MAAF,CAGS,YAAA,GAAe,QAAA,GAAW,KAAA,CAAM;AAFzC,CAAC,CAGC;AADF,IAGa,YAAA,GAAe,UAAA,KAAQ;IAFlC,IAAF,gBAAA,CAGM,aAAA,GAAgB,EAAA,CAAG;;IAAvB,mBAAmB,CAGC,KAAC,EAAM,aAAA,CAAc,CAAC;;IAA1C,qBAAqB,CAGC,KAAC,EAAM,aAAA,CAAc,CAAC;;IAA5C,iBAAiB,CAGC,KAAC,EAAM,aAAA,CAAc,CAAC;;IAAxC,MAAF,CAGS,oBAAA,CAAqB,KAAC,EAAM,aAAA,CAAc,CAAC;AAFpD,CAAC,CAGC;AAOF,IAGa,kBAAA,GAAqB,UAFhC,gBAGsC;;IAAtC,IAAF,gBAAA,CAGM,YAAA,GAAoB,EAAA,CAAG;IAF3B,IAAF,gBAAA,CAGM,UAAA,GAAkB,EAAA,CAAG;IAFzB,GAAF,CAAA,CAG8B,IAH9B,EAAA,GAAA,CAG8B,EAAA,kBAH9B,GAAA,gBAG8B,EAAA,EAH9B,GAAA,kBAAA,CAAA,MAG8B,EAAA,EAH9B,EAG8B,EAH9B,CAAA;QAAO,IAGI,eAAA,GAHX,kBAAA,CAAA,EAAA,CAGW,CAHX;QACI,IAAJ,gBAAA,CAGQ,QAAA,GAAW,eAAA,CAAgB;QAF/B,IAAJ,gBAAA,CAGQ,GAAA,GAAM,KAAA,CAAM,QAAC,CAAQ,CAAC;QAF1B,YAAY,CAGC,GAAC,CAAG,GAAG,EAAA,CAAG;QAFvB,UAAU,CAGC,GAAC,CAAG,GAAG,eAAA,CAAgB;IAFtC,CAAG;IAMH,IAAA,OAAA,GAAA,UAAW,eAAA;QAFP,IAAJ,gBAAA,CAGQ,QAAA,GAAW,eAAA,CAAgB;QAF/B,EAAJ,CAAA,CAAQ,QAGC,CAAQ,aAAC,CAHlB,CAGgC,CAHhC;YACM,IAAN,gBAAA,CAGU,KAAA,GAAM,KAAA,CAAM,QAAC,CAAQ,CAAC;YAF1B,MAAM,CAGC,IAAC,CAAI,QAAC,CAAQ,aAAC,CAAa,CAAC,OAAC,CAAO,UAAA,gBAAC;gBAF3C,IAAR,gBAAA,CAGY,IAAA,GAAO,QAAA,CAAS,aAAC,CAAa,gBAAC,CAAgB,CAAC,IAAC,CAAI;gBAFzD,EAAR,CAAA,CAAY,IAGC,CAHb,CAGkB,CAHlB;oBACU,IAAV,gBAAA,CAGc,aAAA,GAFF,IAAI,YAGY,KAAA,GAAQ,IAAA,GAAO,CAAA,IAAE,CAAI,CAAC;oBAFxC,GAAV,CAAA,CAGmC,IAHnC,EAAA,GAAA,CAGmC,EAAA,eAHnC,GAAA,aAGmC,EAAA,EAHnC,GAAA,eAAA,CAAA,MAGmC,EAAA,EAHnC,EAGmC,EAHnC,CAAA;wBAAe,IAGI,YAAA,GAHnB,eAAA,CAAA,EAAA,CAGmB,CAHnB;wBACY,IAAZ,gBAAA,CAGgB,aAAA,GAAgB,KAAA,CAAM,YAAC,CAAY,CAAC;wBAFxC,EAAZ,CAAA,CACc,UAAU,CAGC,aAAC,CAAa;4BAFzB,UAAU,CAGC,aAAC,CAAa,CAAC,KAAC,KAAS,SAFtC,CADZ,CAIc,CAJd;;4BAGc,YAAY,CAGC,KAAC,CAAG,CAAC,IAAC,CAAI,UAAC,CAAU,aAAC,CAAa,CAAC,CAAC;wBAFhE,CAAa;oBACb,CAAW;gBACX,CAAS;YACT,CAAO,CAGC,CAAC;QAFT,CAAK;IACL,CAAG,CAAH;;IAtBE,GAAF,CAAA,CAG8B,IAH9B,EAAA,GAAA,CAG8B,EAAA,kBAH9B,GAAA,gBAG8B,EAAA,EAH9B,GAAA,kBAAA,CAAA,MAG8B,EAAA,EAH9B,EAG8B,EAH9B,CAAA;QAAO,IAGI,eAAA,GAHX,kBAAA,CAAA,EAAA,CAGW,CAHX;QAGA,OAAA,CAAA,gBAAA,CAAW,eAAA,CAAX,CAAA;IAmBA,CAAG;;IAGD,IAAF,gBAAA,CAGM,OAAA,GAAU;QAFZ,gBAAgB,EAGE,gBAAA;QAFlB,MAAM,EAGE,gBAAA,CAAiB,MAAC;QAF1B,MAAM,EAGE,IAAI,KAAA,CAAM,gBAAC,CAAgB,MAAC,CAAM;QAF1C,YAAY,EAGE,YAAA;QAFd,OAAO,EAAX,gBAAA,CAAA,CAGoB,EAAC,CAAA;KAFlB,CAGC;IADF,IAAF,gBAAA,CAGM,CAAA,GAAI,OAAA,CAAQ,MAAC,CAAM;IAFvB,OAAO,CAGC,EAAC,EAAG,CAHd;QACI,EAAJ,CAAA,CAAQ,CAGC,OAAC,CAAO,OAAC,CAAO,CAAC,CAAC,CAH3B,CAG6B,CAH7B;YACM,YAAY,CAGC,gBAAC,CAAgB,CAAC,CAAC,EAAE,CAAA,EAAG,EAAA,EAAI,OAAA,CAAQ,CAAC;QAFxD,CAAK;IACL,CAAG;IAED,MAAF,CAGS,OAAA,CAAQ,MAAC,CAAM;AAFxB,CAAC,CAGC;AADF,IAGM,YAAA,GAAe,UAFnB,eAGiB,EAFjB,CAGG,EAFH,YAGc,EAFd,OAGS;IADT,IAAF,gBAAA,CAGM,GAAA,GAAM,KAAA,CAAM,eAAC,CAAe,CAAC;IAFjC,EAAF,CAAA,CAAM,YAGC,CAAY,OAAC,CAAO,GAAC,CAAG,IAAI,CAAA,CAHnC,CAGsC,CAHtC;QACI,MAGM,IAAI,KAAA,CAFR,qBAAqB,GAGG,GAAA,GAAM,QAAA,GAAW,IAAA,CAAK,SAAC,CAAS,YAAC,CAAY,CAFtE,CAGC;IAFN,CAAG;IAED,EAAF,CAAA,CAAM,OAGC,CAAO,OAAC,CAAO,CAAC,CAAC,CAHxB,CAG0B,CAH1B;QACI,MAAJ,CAAW;IACX,CAAG;IACD,OAAO,CAGC,OAAC,CAAO,CAAC,CAAC,GAAG,IAAA,CAAK;;IAA1B,IAAF,gBAAA,CAGM,QAAA,GAAiC,OAAA,CAAQ,YAAC,CAAY,GAAC,CAAG,CAAC;IAD/D,IAAF,gBAAA,CAGM,KAAA,GAAQ,YAAA,CAAa,MAAC,CAAM,GAAC,CAAG,CAAC;IAFrC,GAAF,CAAA,CAGoB,IAHpB,EAAA,GAAA,CAGoB,EAAA,UAHpB,GAAA,QAGoB,EAAA,EAHpB,GAAA,UAAA,CAAA,MAGoB,EAAA,EAHpB,EAGoB,EAHpB,CAAA;QAAO,IAGI,KAAA,GAHX,UAAA,CAAA,EAAA,CAGW,CAHX;QACI,YAAY,CACV,KAAK,EACL,OAAO,CAGC,gBAAC,CAAgB,OAAC,CAAO,KAAC,CAAK,EAFvC,KAAK,EACL,OAAO,CACR,CAGC;IAFN,CAAG;IAED,OAAO,CAGC,MAAC,CAAM,EAAC,OAAE,CAAO,MAAC,CAAM,GAAG,eAAA,CAAgB;AAFrD,CAAC,CAGC;;;;;;;;;AAMF,8BACE,KAA2B,EAC3B,OAA6B,EAC7B,EAAsB,EACtB,OAA6B,EAC7B,UAAmB;IAEnB,IAAF,gBAAA,CAJM,aAAA,GAAgB,KAAA,CAAM,EAAC,CAAE,IAAC,CAAI,CAAC,EAAC,CAAE,EAAC,CAAE,CAAC;IAK1C,EAAF,CAAA,CACI,aAAa,CAJC,KAAC,KAAS,SAAA;QAK5B,CAAK,aAJC,CAAa,KAAC,KAAS,KAAA,IAAS,UAAA,CAKpC,CADF,CAHI,CAGJ;QAEI,OAAO,CAJC,IAAC,CAAI,aAAC,CAAa,CAAC;IAKhC,CAAG;IAFH,IAAA,OAAA,GAAA,UAAW,cAAA;QAKP,EAAJ,CAAA,CAAQ,cAJC,CAAc,MAAC,GAAQ,CAAA,CAIhC,CAJmC,CAInC;YACM,IAAN,gBAAA,CAJU,kBAAA,GAAmB,cAAA,CAAe,CAAC,CAAC,CAAC;YAKzC,EAAN,CAAA,CACQ,aAAa,CAJC,aAAC;gBAKf,aAAa,CAJC,aAAC,CAAa,kBAAC,CAK/B,CADN,CAHQ,CAGR;gBAEQ,IAAR,gBAAA,CAJY,IAAA,GAAO,aAAA,CAAc,aAAC,CAAa,kBAAC,CAAgB,CAAC,IAAC,CAAI;gBAK9D,EAAR,CAAA,CAAY,IAJC,CAIb,CAJkB,CAIlB;oBACU,IAAV,gBAAA,CAJc,iBAAA,GAAwC,EAAA,CAAG;oBAK/C,OAAO;yBACJ,MAJC,CAKA,UAAA,cAAc;wBACZ,MAAhB,CAAgB,cAAc,CAJC,MAAC,IAAS,CAAA;4BAKzB,cAAc,CAJC,CAAC,CAAC,IAAI,kBAAA,CAIrC;oBAJA,CAAqC,CAKxB;yBACA,OAJC,CAAO,UAAA,cAAC;wBAKR,MAAd,CAAc,iBAAe,CAJC,IAAC,CAAI,cAAC,CAAc,KAAC,CAAK,CAAC,CAAC,CAAC,CAI3D;oBAJA,CAA2D,CAK9C,CAJC;oBAMJ,EAAV,CAAA,CAAcM,OAJG,CAAO,IAAC,CAAI,CAI7B,CAJ+B,CAI/B;wBACY,IAAZ,gBAAA,CAJgB,WAAA,GAIhB,CAJ8B,IAAiC,CAAA,CAAC;wBAKpD,WAAW,CAJC,OAAC,CAAO,UAAA,UAAC;4BAKnB,MAAd,CAAc,oBAAoB,CAClB,KAAK,EACL,OAAO,EACP,UAAU,EACV,iBAAe,EACf,UAAU,CACX,CANf;wBAMA,CAAe,CACF,CAJC;oBAKd,CAAW;oBAJX,IAAA,CAAiB,CAAjB;wBAKY,IAAZ,gBAAA,CAJgB,UAAA,GAIhB,CAJ6B,IAAQ,CAAA,CAAmB;wBAK5C,oBAAoB,CAClB,KAAK,EACL,OAAO,EACP,UAAU,EACV,iBAAe,EACf,UAAU,CACX,CAJC;oBAKd,CAAW;gBACX,CAAS;YACT,CAAO;QACP,CAAK;IACL,CAAG,CAAH;IA5CE,GAAF,CAAA,CAJ6B,IAI7B,EAAA,GAAA,CAJ6B,EAAA,SAI7B,GAAA,OAJ6B,EAAA,EAI7B,GAAA,SAAA,CAAA,MAJ6B,EAAA,EAI7B,EAJ6B,EAI7B,CAAA;QAAO,IAJI,cAAA,GAIX,SAAA,CAAA,EAAA,CAJW,CAIX;QAJA,OAAA,CAAA,gBAAA,CAAW,cAAA,CAAX,CAAA;IAgDA,CAAG;AACH,CAAC;;;;;;;;AAQD,2BACE,KAA2B,EAC3B,GAA8B,EAC9B,OAAsB,EACtB,UAAoB;IAEpB,IAAF,gBAAA,CAVM,OAAA,GAAgC,EAAA,CAAG;IAYvC,EAAF,CAAA,CAAMC,WAVG,CAAW,GAAC,CAAG,CAUxB,CAV0B,CAU1B;;QAEI,MAAM,CAVC,IAAC,CAAI,KAAC,CAAK,CAAC,OAAC,CAAO,UAAA,IAAC;YAW1B,MAAM,CAVC,IAAC,CAAI,KAAC,CAAK,IAAC,CAAI,CAAC,CAAC,OAAC,CAAO,UAAA,EAAC;gBAWhC,IAAR,gBAAA,CAVY,aAAA,GAAgB,KAAA,CAAM,IAAC,CAAI,CAAC,EAAC,CAAE,CAAC;gBAWpC,EAAR,CAAA,CACU,aAAa,CAVC,KAAC,KAAS,SAAA;oBAWlC,CAAW,aAVC,CAAa,KAAC,KAAS,KAAA,IAAS,UAAA,CAWpC,CADR,CATU,CASV;oBAEU,OAAO,CAVC,IAAC,CAAI,aAAC,CAAa,CAAC;gBAWtC,CAAS;YACT,CAAO,CAVC,CAAC;QAWT,CAAK,CAVC,CAAC;IAWP,CAAG;IAVH,IAAA,CAAS,CAAT;QAWI,IAAJ,gBAAA,CAVQ,sBAAA,GAAyB,EAAA,CAAG;QAWhC,EAAJ,CAAA,CAAQ,OAVC,CAUT,CAViB,CAUjB;YACM,GAAN,CAAA,CAViC,IAUjC,EAAA,GAAA,CAViC,EAAA,SAUjC,GAAA,OAViC,EAAA,EAUjC,GAAA,SAAA,CAAA,MAViC,EAAA,EAUjC,EAViC,EAUjC,CAAA;gBAAW,IAVI,cAAA,GAUf,SAAA,CAAA,EAAA,CAVe,CAUf;gBACQ,sBAAsB,CAVC,IAAC,CAAI,cAAC,CAAc,KAAC,CAAK,GAAC,CAAG,CAAC,CAAC;YAW/D,CAAO;QACP,CAAK;QACD,GAAJ,CAAA,CAVmB,IAUnB,EAAA,GAAA,CAVmB,EAAA,KAUnB,GAAA,GAVmB,EAAA,EAUnB,GAAA,KAAA,CAAA,MAVmB,EAAA,EAUnB,EAVmB,EAUnB,CAAA;YAAS,IAVI,EAAA,GAUb,KAAA,CAAA,EAAA,CAVa,CAUb;YACM,oBAAoB,CAClB,KAAK,EACL,OAAO,EACP,EAAE,EACF,sBAAsB,EACtB,UAAU,CACX,CAVC;QAWR,CAAK;QACD,OAAO,GAVGE,MAAG,CAAM,OAAC,EAAQ,UAAA,CAAU;YAWpC,MAAN,CAVa,CAAA,CAAE,IAAC,GAAM,MAAA,GAAS,CAAA,CAAE,EAAC,CAAE;QAWpC,CAAK,CAVC,CAAC;IAWP,CAAG;IAED,MAAF,CAVS,OAAA,CAAQ;AAWjB,CAAC;;;;;;;;;;AD93CD;;;AA8BA;IACE,MAAF,CAFS,UAAA,MAAoB;QAAK,MAElC,CAFkC,MAAA,CAAO,MAAC,CAAM,aAAC,CAAa;aAGzD,GAFC,CAAG,UAAA,EAAC,IAEV,gBAAA,CAFY,MAEZ,CAAA,CAFe,EAAM,CAErB,CAAA,CAAA,CAFqB,CAAiB;aAGjC,MAFC,CAAM,UAAA,EAAC,IAAK,MAElB,CAFkB,CAAAF,WAAI,CAAW,EAAC,CAAE,CAEpC,CAAA,CAFoC,CAAC,CAErC;IAAA,CAFqC,CAAC;AAGtC,CAAC;;;;AAID;IACE,MAAF,CAJS,qBAAA,CAAsB,0BAAC,CAA0B,CAAC;AAK3D,CAAC;;;;;AAKD,+BAPC,MAAA;IAQC,MAAF,CAPS,UAAA,MAAmB;QAAK,MAOjC,CAPiC,MAAA,CAAO,GAAC,CAAG,cAAC,EAAc,CAAE;aAQxD,GAPC,CAAG,UAAA,EAAC,IAOV,gBAAA,CAPY,MAOZ,CAAA,CAPe,EAAA,CAAG,KAAC,CAAK,MAAC,CAAU,CAOnC,CAAA,CAAA,CAPmC,CAAgB,CAOnD;IAAA,CAPmD,CAAC;AAQpD,CAAC;;;;;;AAMD,4BAXC,KAAA,EAAA,MAAA;IAYC,MAAF,CAAA,CAXS,KAAA,CAAM,aAAC,CAAa,CAAC,OAAC,CAAO,CAAC,MAAC,CAAU,CAWlD,CAXkE;AAYlE,CAAC;;;;;AAKD,0BAdC,OAAA;IAgBC,MAAF,CAdS,UAAA,MAAqC;QAe1C,MAAJ,CAdW,MAAA;aAeJ,GAdC,CAAG,UAAA,KAAC,IAAQ,MAcpB,CAdoB,KAAA,CAAM,OAAC,CAAO,OAAC,CAAO,CAc1C,CAAA,CAd0C,CAAC,CAAA;IAe3C,CAAG,CAdC;AAeJ,CAAC;;;;;AAKD,oCAjBC,IAAA;IAmBC,MAAF,CAjBS,UAAA,MAAqC;QAkB1C,MAAJ,CAjBW,MAAA;aAkBJ,GAjBC,CAAG,UAAA,KAAC,IAAQ,MAiBpB,CAjBoB,KAAA,CAAM,IAAC,CAiB3B,CAAA,CAjB2B,CAAI;aAkBxB,GAjBC,CAAG,UAAA,IAAC,IAAO,MAiBnB,CAAA,CAjBmB,IAAE,GAAM,IAAA,CAAK,IAAC,CAAI,GAAG,SAAA,CAiBxC,CAAA,CAAA,CAjBkD,CAAC,CAAC;IAkBpD,CAAG,CAjBC;AAkBJ,CAAC;;;;;AAKD,6BApBC,UAAA;IAqBC,MAAF,CApBS,UAAA,MAAqC;QAqB1C,MAAJ,CApBW,MAAA;aAqBJ,GApBC,CAAG,0BAAC,CAA0B,UAAC,CAAU,IAAC,CAAI,CAAC;aAqBhD,GApBC,CAqBA,UAAA,SAAS,IADjB,gBAAA,CAnBkB,MAmBlB,CAAA,CAAA,CAEW,SApBC,GAAW,SAAA,CAAU,UAAC,CAAU,EAAC,CAAE,GAAG,SAAA,CAkBlD,CAAA,CAAA,CAAA,CAlBgE,CAqBzD,CApBC;IAqBR,CAAG,CApBC;AAqBJ,CAAC;;;;;;AAMD,+BAxBC,OAAA,EAAA,WAAA;IA0BC,MAAF,CAxBS,UAAA,MAAqC;QAyB1C,MAAJ,CAxBW,MAAA,CAAO,GAAC,CAAG,UAAA,KAAC;YAyBjB,IAAN,gBAAA,CAxBU,UAAA,GAAa,KAAA,CAAM,OAAC,CAAO,OAAC,CAAO,CAAC;YAyBxC,EAAN,CAAA,CAAU,CAxBC,UAAC,CAwBZ,CAxBuB,CAwBvB;gBACQ,MAAR,CAxBe,SAAA,CAAU;YAyBzB,CAAO;YAED,EAAN,CAAA,CAAUP,OAxBG,CAAO,UAAC,CAAU,SAAC,CAAS,CAwBzC,CAxB2C,CAwB3C;gBACQ,IAAR,gBAAA,CAxBY,WAAA,GAwBZD,UAAA,CAAA,EAAA,EACa,UAxBC,EAuBd,EAEU,IAAI,EAxBEQ,WAAG,CAAW,UAAC,CAAU,SAAC,CAAS,GAAG,SAAA,GAAY,EAAA,EAsBlE,CAGS,CAxBC;gBAyBF,MAAR,CAxBe,WAAA,CAAY;YAyB3B,CAAO;YAxBP,IAAA,CAAa,CAAb;gBAyBQ,IAAR,gBAAA,CAxBY,OAAA,GAAU,UAAA,CAAW,SAAC,CAAS,GAAC,CAyBlC,UAAA,EAAE,IAxBI,MAuBhB,CAAA,CAvBgB,KAAE,CAAK,IAAC,CAAI,EAAC,CAAE,IAAC,CAAI,GAAG,KAAA,CAAM,IAAC,CAAI,EAAC,CAAE,IAAC,CAAI,CAAC,EAAC,CAAE,EAAC,CAAE,GAAG,SAAA,CAuBpE,CAAA,CAAA,CAvB8E,CAyBrE,CAxBC;gBAyBF,EAAR,CAAA,CAAY,WAxBC,CAwBb,CAxByB,CAwBzB;oBACU,OAAO,GAxBG,yBAAA,CAA0B,OAAC,EAAQ,KAAA,CAAM,IAAC,CAAI,CAAC;gBAyBnE,CAAS;gBACD,MAAR,CAAAR,UAAA,CAAA,EAAA,EACa,UAxBC,EAuBd,EAEU,IAAI,EAFd,gBAAA,CAAA,CAtBgB,OAA+B,CAAA,EAsB/C,CAAA,CArBU;YAyBV,CAAO;QACP,CAAK,CAxBC,CAAC;IAyBP,CAAG,CAxBC;AAyBJ,CAAC;;;;;;AAMD,8BA5BC,OAAA,EAAA,WAAA;IA8BC,MAAF,CA5BS,UAAA,MAAqC;QA6B1C,MAAJ,CA5BW,MAAA,CAAO,GAAC,CAAG,UAAA,KAAC;YA6BjB,IAAN,gBAAA,CA5BU,UAAA,GAAa,KAAA,CAAM,OAAC,CAAO,OAAC,CAAO,CAAC;YA6BxC,EAAN,CAAA,CAAU,CA5BC,UAAC,CA4BZ,CA5BuB,CA4BvB;gBACQ,MAAR,CA5Be,SAAA,CAAU;YA6BzB,CAAO;YAED,EAAN,CAAA,CAAUC,OA5BG,CAAO,UAAC,CAAU,SAAC,CAAS,CA4BzC,CA5B2C,CA4B3C;gBACQ,IAAR,gBAAA,CA5BY,WAAA,GA4BZD,UAAA,CAAA,EAAA,EACa,UA5BC,EA2Bd,EAEU,IAAI,EA5BEQ,WAAG,CAAW,UAAC,CAAU,SAAC,CAAS,GAAG,SAAA,GAAY,IAAA,EA0BlE,CAGS,CA5BC;gBA6BF,MAAR,CA5Be,WAAA,CAAY;YA6B3B,CAAO;YA5BP,IAAA,CAAa,CAAb;gBA6BQ,EAAR,CAAA,CAAY,UA5BC,CAAU,SAAC,CAAS,MAAC,IAAS,CAAA,CA4B3C,CA5B8C,CA4B9C;oBACU,MA5BM,IAAI,KAAA,CA6BR,mCAAmC,GA5BG,UAAA,CAAW,KAAC,CAAK,OAAC,CA6BzD,CA5BC;gBA6BZ,CAAS;gBAED,IAAR,gBAAA,CA5BY,QAAA,GAAW,UAAA,CAAW,SAAC,CAAS,CAAC,CAAC,CAAC;gBA6BvC,IAAR,gBAAA,CA5BY,MAAA,GAAS,KAAA,CAAM,IAAC,CAAI,QAAC,CAAQ,IAAC,CAAI;sBAClC,KAAA,CAAM,IAAC,CAAI,QAAC,CAAQ,IAAC,CAAI,CAAC,QAAC,CAAQ,EAAC,CAAE;sBACtC,SAAA,CAAU;gBA6Bd,EAAR,CAAA,CAAY,WA5BC,CA4Bb,CA5ByB,CA4BzB;oBACU,MAAM,GA5BG,wBAAA,CAAyB,MAAC,EAAO,KAAA,CAAM,IAAC,CAAI,CAAC;gBA6BhE,CAAS;gBACD,IAAR,gBAAA,CA5Bc,WAAA,GA4BdR,UAAA,CAAA,EAAA,EACa,UA5BC,EA2Bd,EAEU,IAAI,EA5BE,MAAA,EA0BhB,CAGS,CA5BC;gBA6BF,MAAR,CA5Be,WAAA,CAAY;YA6B3B,CAAO;QACP,CAAK,CA5BC,CAAC;IA6BP,CAAG,CA5BC;AA6BJ,CAAC;;;;;;AAMD,6BA5BC,MAAA;IA6BC,MAAF,CA5BS,MAAA,CAAO,GAAC,CAAG,4BAAC,EAA4B,CAAE,CAAC;AA6BpD,CAAC;;;;AAID,IAAA,oBAAA,GAAA,CAAA;IACA;IA3BA,CAAG;;;;IAEA,oBAAH,CAAA,SAAA,CAAA,oBAAG,GA6BH;QAGI,MAAJ,CA7BW,UAAA,MAAmB;YA8BxB,MAAN,CA7Ba,MAAA,CAAO,GAAC,CAAG,4BAAC,EAA4B,CAAE,CAAC;QA8BxD,CAAK,CA7BC;IA8BN,CAAG,CAAH;;;;IA3BG,oBAAH,CAAA,SAAA,CAAA,aAAG,GA+BH;QAGI,MAAJ,CA/BW,UAgCL,MA/B+B;YAiC/B,MAAN,CA/Ba,MAAA,CAAO,MAAC,CAAM,MAAC,CAAM,CAAC;QAgCnC,CAAK,CA/BC;IAgCN,CAAG,CAAH;;;;;IA7BG,oBAAH,CAAA,SAAA,CAAA,uBAAG,GAkCH,UAlCG,IAAA;QAkCH,IAAA,KAAA,GAAA,IAAA,CAMG;QALC,MAAJ,CAlCW,UAAA,MAAqC;YAmC1C,MAAN,CAlCa,MAAA;iBAmCJ,GAlCC,CAAG,KAAC,CAAI,aAAC,EAAa,CAAE;iBAmCzB,GAlCC,CAAG,UAAA,SAAC,IAAY,MAkC1B,CAAA,CAlC0B,SAAE,GAAW,SAAA,CAAU,IAAC,CAAI,GAAG,SAAA,CAkCzD,CAAA,CAAA,CAlCmE,CAAC,CAAC;QAmCrE,CAAK,CAlCC;IAmCN,CAAG,CAAH;;;;IAhCG,oBAAH,CAAA,SAAA,CAAA,gBAAG,GAoCH;QACI,MAAJ,CApCW,UAAA,MAAgC;YAqCrC,MAAN,CApCa,MAAA,CAAO,MAAC,CAAM,SAAC,CAAS,CAAC;QAqCtC,CAAK,CApCC;IAqCN,CAAG,CAAH;;;;;IAlCG,oBAAH,CAAA,SAAA,CAAA,iBAAG,GAuCH,UAvCG,OAAA;QAwCC,MAAJ,CAvCW,gBAAA,CAAiB,OAAC,CAAO,CAAC;IAwCrC,CAAG,CAAH;;;;;IArCG,oBAAH,CAAA,SAAA,CAAA,iBAAG,GA0CH,UA1CG,UAAA;QA2CC,MAAJ,CA1CW,mBAAA,CAAoB,UAAC,CAAU,CAAC;IA2C3C,CAAG,CAAH;;;;;;IAxCG,oBAAH,CAAA,SAAA,CAAA,eAAG,GA8CH,UA9CG,OAAA,EAAA,WAAA;QA+CC,MAAJ,CA9CW,qBAAA,CAAsB,OAAC,EAAQ,WAAA,CAAY,CAAC;IA+CvD,CAAG,CAAH;;;;;;IA5CG,oBAAH,CAAA,SAAA,CAAA,aAAG,GAkDH,UAlDG,OAAA,EAAA,WAAA;QAmDC,MAAJ,CAlDW,oBAAA,CAAqB,OAAC,EAAQ,WAAA,CAAY,CAAC;IAmDtD,CAAG,CAAH;;;;;IAhDG,oBAAH,CAAA,SAAA,CAAA,qBAAG,GAqDH,UArDG,UAAA;QAqDH,IAAA,KAAA,GAAA,IAAA,CAMG;QALC,MAAJ,CArDW,UAAA,MAAqC;YAsD1C,MAAN,CArDa,MAAA;iBAsDJ,GArDC,CAAG,KAAC,CAAI,iBAAC,CAAiB,UAAC,CAAU,CAAC;iBAsDvC,GArDC,CAAG,UAAA,EAAC,IAAK,MAqDnB,CAAA,CArDmB,EAAE,GAAI,EAAA,CAAG,iBAAC,GAAmB,SAAA,CAqDhD,CAAA,CAAA,CArD0D,CAAC,CAAC;QAsD5D,CAAK,CArDC;IAsDN,CAAG,CAAH;IACA,MAAA,CAAA,oBAAC,CAAD;AApFA,CAAA,EAoFA,CAAA,CApFA;;;;;;;;;;;;;AD3KA,IAAa,sBAAA,GAAyB;IACpC,aAAa,EAAE,6BAAA;IACf,gBAAgB,EAAE,gCAAA;IAClB,aAAa,EAAE,6BAAA;IACf,YAAY,EAAE,4BAAA;IACd,eAAe,EAAE,+BAAA;IACjB,YAAY,EAAE,4BAAA;IACd,cAAc,EAAE,8BAAA;IAChB,iBAAiB,EAAE,iCAAA;IACnB,cAAc,EAAE,8BAAA;IAChB,eAAe,EAAE,+BAAA;IACjB,kBAAkB,EAAE,kCAAA;IACpB,eAAe,EAAE,+BAAA;IACjB,cAAc,EAAE,8BAAA;IAChB,iBAAiB,EAAE,iCAAA;IACnB,cAAc,EAAE,8BAAA;IAChB,YAAY,EAAE,4BAAA;IACd,iBAAiB,EAAE,iCAAA;IACnB,gBAAgB,EAAE,gCAAA;IAClB,mBAAmB,EAAE,mCAAA;IACrB,gBAAgB,EAAE,gCAAA;IAClB,qBAAqB,EAAE,qCAAA;IACvB,oBAAoB,EAAE,oCAAA;IACtB,kBAAkB,EAAE,kCAAA;IACpB,mBAAmB,EAAE,mCAAA;IACrB,4BAA4B,EAAE,4CAAA;IAC9B,YAAY,EAAE,4BAAA;IACd,aAAa,EAAE,6BAAA;IACf,WAAW,EAAE,2BAAA;CACd,CAAC;;;;AAoBF,IAAA,iBAAA,GAAA,CAAA;IAGA;IACA,CAAG;IACH,MAAA,CAAA,iBAAC,CAAD;AALA,CAAA,EAKA,CAAA,CAAC;AASD,IAAA,kBAAA,GAAA,CAAA,UAAA,MAAA;IATCS,WAAD,CAAA,kBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IAeD,4BAbqB,OAAS,EAA4B,MAAQ;QAalE,IAAA,KAAA,GAEI,MAFJ,CAAA,IAAA,CAAA,IAAA,CAEW,IAFX,IAAA,CAGG;QAhBkB,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAA4B,KAA1D,CAAA,MAA0D,GAAA,MAAA,CAAQ;QADvD,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,cAAC,CAAc;;IAiBxD,CAAG;IACH,MAAA,CAAA,kBAAC,CAAD;AAVA,CAAA,CATC,iBAAA,CAmBD,CAAA,CAAC;AAWD,IAAA,qBAAA,GAAA,CAAA,UAAA,MAAA;IAvBCA,WAAD,CAAA,qBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IA6BD,+BA3BqB,OAAsB,EAAS,MAAQ;QA2B5D,IAAA,KAAA,GA3BmE,MA2BnE,CAAA,IAAA,CAAA,IAAA,CA3BmE,IA2BnE,IAAA,CA3BmE;QAA9C,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAsB;QAAS,KAApD,CAAA,MAAoD,GAAA,MAAA,CAAQ;QADjD,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,iBAAC,CAAiB;;IAC3D,CAAmE;IA6BnE,MAAA,CAAA,qBAAC,CAAD;AARA,CAAA,CAvBC,iBAAA,CA+BD,CAAA,CAAC;AAWD,IAAA,kBAAA,GAAA,CAAA,UAAA,MAAA;IArCCA,WAAD,CAAA,kBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IA2CD,4BAzCqB,OAAsB,EAAS,MAAQ;QAyC5D,IAAA,KAAA,GAzCmE,MAyCnE,CAAA,IAAA,CAAA,IAAA,CAzCmE,IAyCnE,IAAA,CAzCmE;QAA9C,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAsB;QAAS,KAApD,CAAA,MAAoD,GAAA,MAAA,CAAQ;QADjD,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,cAAC,CAAc;;IACxD,CAAmE;IA2CnE,MAAA,CAAA,kBAAC,CAAD;AARA,CAAA,CArCC,iBAAA,CA6CD,CAAA,CAAC;AAWD,IAAA,iBAAA,GAAA,CAAA,UAAA,MAAA;IAnDCA,WAAD,CAAA,iBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IAyDD,2BAvDqB,OAAS,EAAiB,MAAQ;QAuDvD,IAAA,KAAA,GAvD8D,MAuD9D,CAAA,IAAA,CAAA,IAAA,CAvD8D,IAuD9D,IAAA,CAvD8D;QAAzC,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAAiB,KAA/C,CAAA,MAA+C,GAAA,MAAA,CAAQ;QAD5C,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,aAAC,CAAa;;IACvD,CAA8D;IAyD9D,MAAA,CAAA,iBAAC,CAAD;AARA,CAAA,CAnDC,iBAAA,CA2DD,CAAA,CAAC;AAWD,IAAA,oBAAA,GAAA,CAAA,UAAA,MAAA;IAjECA,WAAD,CAAA,oBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IAuED,8BArEqB,OAAS,EAAgB,MAAQ;QAqEtD,IAAA,KAAA,GArE6D,MAqE7D,CAAA,IAAA,CAAA,IAAA,CArE6D,IAqE7D,IAAA,CArE6D;QAAxC,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAAgB,KAA9C,CAAA,MAA8C,GAAA,MAAA,CAAQ;QAD3C,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,gBAAC,CAAgB;;IAC1D,CAA6D;IAuE7D,MAAA,CAAA,oBAAC,CAAD;AARA,CAAA,CAjEC,iBAAA,CAyED,CAAA,CAAC;AAWD,IAAA,iBAAA,GAAA,CAAA,UAAA,MAAA;IA/ECA,WAAD,CAAA,iBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IAqFD,2BAnFqB,OAAS,EAAgB,MAAQ;QAmFtD,IAAA,KAAA,GAnF6D,MAmF7D,CAAA,IAAA,CAAA,IAAA,CAnF6D,IAmF7D,IAAA,CAnF6D;QAAxC,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAAgB,KAA9C,CAAA,MAA8C,GAAA,MAAA,CAAQ;QAD3C,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,aAAC,CAAa;;IACvD,CAA6D;IAqF7D,MAAA,CAAA,iBAAC,CAAD;AARA,CAAA,CA/EC,iBAAA,CAuFD,CAAA,CAAC;AAWD,IAAA,mBAAA,GAAA,CAAA,UAAA,MAAA;IA7FCA,WAAD,CAAA,mBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IAmGD,6BAjGqB,OAAS,EAA2B,MAAQ;QAiGjE,IAAA,KAAA,GAjGwE,MAiGxE,CAAA,IAAA,CAAA,IAAA,CAjGwE,IAiGxE,IAAA,CAjGwE;QAAnD,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAA2B,KAAzD,CAAA,MAAyD,GAAA,MAAA,CAAQ;QADtD,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,eAAC,CAAe;;IACzD,CAAwE;IAmGxE,MAAA,CAAA,mBAAC,CAAD;AARA,CAAA,CA7FC,iBAAA,CAqGD,CAAA,CAAC;AAWD,IAAA,sBAAA,GAAA,CAAA,UAAA,MAAA;IA3GCA,WAAD,CAAA,sBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IAiHD,gCA/GqB,OAAS,EAAgB,MAAQ;QA+GtD,IAAA,KAAA,GA/G6D,MA+G7D,CAAA,IAAA,CAAA,IAAA,CA/G6D,IA+G7D,IAAA,CA/G6D;QAAxC,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAAgB,KAA9C,CAAA,MAA8C,GAAA,MAAA,CAAQ;QAD3C,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,kBAAC,CAAkB;;IAC5D,CAA6D;IAiH7D,MAAA,CAAA,sBAAC,CAAD;AARA,CAAA,CA3GC,iBAAA,CAmHD,CAAA,CAAC;AAWD,IAAA,mBAAA,GAAA,CAAA,UAAA,MAAA;IAzHCA,WAAD,CAAA,mBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IA+HD,6BA7HqB,OAAS,EAAgB,MAAQ;QA6HtD,IAAA,KAAA,GA7H6D,MA6H7D,CAAA,IAAA,CAAA,IAAA,CA7H6D,IA6H7D,IAAA,CA7H6D;QAAxC,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAAgB,KAA9C,CAAA,MAA8C,GAAA,MAAA,CAAQ;QAD3C,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,eAAC,CAAe;;IACzD,CAA6D;IA+H7D,MAAA,CAAA,mBAAC,CAAD;AARA,CAAA,CAzHC,iBAAA,CAiID,CAAA,CAAC;AAWD,IAAA,gBAAA,GAAA,CAAA,UAAA,MAAA;IAvICA,WAAD,CAAA,gBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IA6ID,0BA3IqB,OAAS,EAAc,MAAQ;QA2IpD,IAAA,KAAA,GA3I2D,MA2I3D,CAAA,IAAA,CAAA,IAAA,CA3I2D,IA2I3D,IAAA,CA3I2D;QAAtC,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAAc,KAA5C,CAAA,MAA4C,GAAA,MAAA,CAAQ;QADzC,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,YAAC,CAAY;;IACtD,CAA2D;IA6I3D,MAAA,CAAA,gBAAC,CAAD;AARA,CAAA,CAvIC,iBAAA,CA+ID,CAAA,CAAC;AAWD,IAAA,mBAAA,GAAA,CAAA,UAAA,MAAA;IArJCA,WAAD,CAAA,mBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IA2JD,6BAzJqB,OAAS,EAAgB,MAAQ;QAyJtD,IAAA,KAAA,GAzJ6D,MAyJ7D,CAAA,IAAA,CAAA,IAAA,CAzJ6D,IAyJ7D,IAAA,CAzJ6D;QAAxC,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAAgB,KAA9C,CAAA,MAA8C,GAAA,MAAA,CAAQ;QAD3C,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,eAAC,CAAe;;IACzD,CAA6D;IA2J7D,MAAA,CAAA,mBAAC,CAAD;AARA,CAAA,CArJC,iBAAA,CA6JD,CAAA,CAAC;AAWD,IAAA,gBAAA,GAAA,CAAA,UAAA,MAAA;IAnKCA,WAAD,CAAA,gBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IAyKD,0BAvKqB,OAAS,EAAgB,MAAQ;QAuKtD,IAAA,KAAA,GAvK6D,MAuK7D,CAAA,IAAA,CAAA,IAAA,CAvK6D,IAuK7D,IAAA,CAvK6D;QAAxC,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAAgB,KAA9C,CAAA,MAA8C,GAAA,MAAA,CAAQ;QAD3C,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,YAAC,CAAY;;IACtD,CAA6D;IAyK7D,MAAA,CAAA,gBAAC,CAAD;AARA,CAAA,CAnKC,iBAAA,CA2KD,CAAA,CAAC;AAWD,IAAA,iBAAA,GAAA,CAAA,UAAA,MAAA;IAjLCA,WAAD,CAAA,iBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IAuLD,2BArLqB,OAAS,EAAgC,MAAQ;QAqLtE,IAAA,KAAA,GArL6E,MAqL7E,CAAA,IAAA,CAAA,IAAA,CArL6E,IAqL7E,IAAA,CArL6E;QAAxD,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAAgC,KAA9D,CAAA,MAA8D,GAAA,MAAA,CAAQ;QAD3D,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,YAAC,CAAY;;IACtD,CAA6E;IAuL7E,MAAA,CAAA,iBAAC,CAAD;AARA,CAAA,CAjLC,iBAAA,CAyLD,CAAA,CAAC;AAWD,IAAA,kBAAA,GAAA,CAAA,UAAA,MAAA;IA/LCA,WAAD,CAAA,kBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IAqMD,4BAnMqB,OAAS,EAAiB,MAAQ;QAmMvD,IAAA,KAAA,GAnM8D,MAmM9D,CAAA,IAAA,CAAA,IAAA,CAnM8D,IAmM9D,IAAA,CAnM8D;QAAzC,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAAiB,KAA/C,CAAA,MAA+C,GAAA,MAAA,CAAQ;QAD5C,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,cAAC,CAAc;;IACxD,CAA8D;IAqM9D,MAAA,CAAA,kBAAC,CAAD;AARA,CAAA,CA/LC,iBAAA,CAuMD,CAAA,CAAC;AAWD,IAAA,qBAAA,GAAA,CAAA,UAAA,MAAA;IA7MCA,WAAD,CAAA,qBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IAmND,+BAjNqB,OAAS,EAAgB,MAAQ;QAiNtD,IAAA,KAAA,GAjN6D,MAiN7D,CAAA,IAAA,CAAA,IAAA,CAjN6D,IAiN7D,IAAA,CAjN6D;QAAxC,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAAgB,KAA9C,CAAA,MAA8C,GAAA,MAAA,CAAQ;QAD3C,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,iBAAC,CAAiB;;IAC3D,CAA6D;IAmN7D,MAAA,CAAA,qBAAC,CAAD;AARA,CAAA,CA7MC,iBAAA,CAqND,CAAA,CAAC;AAWD,IAAA,kBAAA,GAAA,CAAA,UAAA,MAAA;IA3NCA,WAAD,CAAA,kBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IAiOD,4BA/NqB,OAAS,EAAgB,MAAQ;QA+NtD,IAAA,KAAA,GA/N6D,MA+N7D,CAAA,IAAA,CAAA,IAAA,CA/N6D,IA+N7D,IAAA,CA/N6D;QAAxC,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAAgB,KAA9C,CAAA,MAA8C,GAAA,MAAA,CAAQ;QAD3C,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,cAAC,CAAc;;IACxD,CAA6D;IAiO7D,MAAA,CAAA,kBAAC,CAAD;AARA,CAAA,CA3NC,iBAAA,CAmOD,CAAA,CAAC;AAWD,IAAA,yBAAA,GAAA,CAAA,UAAA,MAAA;IAzOCA,WAAD,CAAA,yBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IA+OD,mCA7OqB,OAAS,EAA2B,MAAQ;QA6OjE,IAAA,KAAA,GA7OwE,MA6OxE,CAAA,IAAA,CAAA,IAAA,CA7OwE,IA6OxE,IAAA,CA7OwE;QAAnD,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAA2B,KAAzD,CAAA,MAAyD,GAAA,MAAA,CAAQ;QADtD,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,qBAAC,CAAqB;;IAC/D,CAAwE;IA+OxE,MAAA,CAAA,yBAAC,CAAD;AARA,CAAA,CAzOC,iBAAA,CAiPD,CAAA,CAAC;AAWD,IAAA,wBAAA,GAAA,CAAA,UAAA,MAAA;IAvPCA,WAAD,CAAA,wBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IA6PD,kCA3PqB,OAAS,EAAiB,MAAQ;QA2PvD,IAAA,KAAA,GA3P8D,MA2P9D,CAAA,IAAA,CAAA,IAAA,CA3P8D,IA2P9D,IAAA,CA3P8D;QAAzC,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAAiB,KAA/C,CAAA,MAA+C,GAAA,MAAA,CAAQ;QAD5C,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,oBAAC,CAAoB;;IAC9D,CAA8D;IA6P9D,MAAA,CAAA,wBAAC,CAAD;AARA,CAAA,CAvPC,iBAAA,CA+PD,CAAA,CAAC;AAWD,IAAA,sBAAA,GAAA,CAAA,UAAA,MAAA;IArQCA,WAAD,CAAA,sBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IA2QD,gCAzQqB,OAAS,EAAiB,MAAQ;QAyQvD,IAAA,KAAA,GAzQ8D,MAyQ9D,CAAA,IAAA,CAAA,IAAA,CAzQ8D,IAyQ9D,IAAA,CAzQ8D;QAAzC,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAAiB,KAA/C,CAAA,MAA+C,GAAA,MAAA,CAAQ;QAD5C,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,kBAAC,CAAkB;;IAC5D,CAA8D;IA2Q9D,MAAA,CAAA,sBAAC,CAAD;AARA,CAAA,CArQC,iBAAA,CA6QD,CAAA,CAAC;AAWD,IAAA,uBAAA,GAAA,CAAA,UAAA,MAAA;IAnRCA,WAAD,CAAA,uBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IAyRD,iCAvRqB,OAAS,EAAiB,MAAQ;QAuRvD,IAAA,KAAA,GAvR8D,MAuR9D,CAAA,IAAA,CAAA,IAAA,CAvR8D,IAuR9D,IAAA,CAvR8D;QAAzC,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAAiB,KAA/C,CAAA,MAA+C,GAAA,MAAA,CAAQ;QAD5C,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,mBAAC,CAAmB;;IAC7D,CAA8D;IAyR9D,MAAA,CAAA,uBAAC,CAAD;AARA,CAAA,CAnRC,iBAAA,CA2RD,CAAA,CAAC;AAWD,IAAA,iBAAA,GAAA,CAAA,UAAA,MAAA;IAjSCA,WAAD,CAAA,iBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IAuSD,2BArSqB,OAAS,EAAe,MAAQ;QAqSrD,IAAA,KAAA,GArS4D,MAqS5D,CAAA,IAAA,CAAA,IAAA,CArS4D,IAqS5D,IAAA,CArS4D;QAAvC,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAAe,KAA7C,CAAA,MAA6C,GAAA,MAAA,CAAQ;QAD1C,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,YAAC,CAAY;;IACtD,CAA4D;IAuS5D,MAAA,CAAA,iBAAC,CAAD;AARA,CAAA,CAjSC,iBAAA,CAySD,CAAA,CAAC;AAWD,IAAA,oBAAA,GAAA,CAAA,UAAA,MAAA;IA/SCA,WAAD,CAAA,oBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IAqTD,8BAnTqB,OAAS,EAAc,MAAQ;QAmTpD,IAAA,KAAA,GAnT2D,MAmT3D,CAAA,IAAA,CAAA,IAAA,CAnT2D,IAmT3D,IAAA,CAnT2D;QAAtC,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAAc,KAA5C,CAAA,MAA4C,GAAA,MAAA,CAAQ;QADzC,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,gBAAC,CAAgB;;IAC1D,CAA2D;IAqT3D,MAAA,CAAA,oBAAC,CAAD;AARA,CAAA,CA/SC,iBAAA,CAuTD,CAAA,CAAC;AAWD,IAAA,uBAAA,GAAA,CAAA,UAAA,MAAA;IA7TCA,WAAD,CAAA,uBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IAmUD,iCAjUqB,OAAS,EAAgB,MAAQ;QAiUtD,IAAA,KAAA,GAjU6D,MAiU7D,CAAA,IAAA,CAAA,IAAA,CAjU6D,IAiU7D,IAAA,CAjU6D;QAAxC,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAAgB,KAA9C,CAAA,MAA8C,GAAA,MAAA,CAAQ;QAD3C,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,mBAAC,CAAmB;;IAC7D,CAA6D;IAmU7D,MAAA,CAAA,uBAAC,CAAD;AARA,CAAA,CA7TC,iBAAA,CAqUD,CAAA,CAAC;AAWD,IAAA,oBAAA,GAAA,CAAA,UAAA,MAAA;IA3UCA,WAAD,CAAA,oBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IAiVD,8BA/UqB,OAAS,EAAgB,MAAQ;QA+UtD,IAAA,KAAA,GA/U6D,MA+U7D,CAAA,IAAA,CAAA,IAAA,CA/U6D,IA+U7D,IAAA,CA/U6D;QAAxC,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAAgB,KAA9C,CAAA,MAA8C,GAAA,MAAA,CAAQ;QAD3C,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,gBAAC,CAAgB;;IAC1D,CAA6D;IAiV7D,MAAA,CAAA,oBAAC,CAAD;AARA,CAAA,CA3UC,iBAAA,CAmVD,CAAA,CAAC;AAWD,IAAA,kBAAA,GAAA,CAAA,UAAA,MAAA;IAzVCA,WAAD,CAAA,kBAAA,EAAA,MAAA,CAAA,CAAC;;;;IA8VD,4BA5VqB,MAAQ;QA4V7B,IAAA,KAAA,GA5VoC,MA4VpC,CAAA,IAAA,CAAA,IAAA,CA5VoC,IA4VpC,IAAA,CA5VoC;QAAf,KAArB,CAAA,MAAqB,GAAA,MAAA,CAAQ;QADlB,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,aAAC,CAAa;;IACvD,CAAoC;IA6VpC,MAAA,CAAA,kBAAC,CAAD;AANA,CAAA,CAzVC,iBAAA,CA+VD,CAAA,CAAC;AASD,IAAA,gBAAA,GAAA,CAAA,UAAA,MAAA;IAnWCA,WAAD,CAAA,gBAAA,EAAA,MAAA,CAAA,CAAC;;;;IAwWD,0BAtWqB,MAAQ;QAsW7B,IAAA,KAAA,GAtWoC,MAsWpC,CAAA,IAAA,CAAA,IAAA,CAtWoC,IAsWpC,IAAA,CAtWoC;QAAf,KAArB,CAAA,MAAqB,GAAA,MAAA,CAAQ;QADlB,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,WAAC,CAAW;;IACrD,CAAoC;IAuWpC,MAAA,CAAA,gBAAC,CAAD;AANA,CAAA,CAnWC,iBAAA,CAyWD,CAAA,CAAC;AASD,IAAA,qBAAA,GAAA,CAAA,UAAA,MAAA;IA7WCA,WAAD,CAAA,qBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IAmXD,+BAjXqB,OAAS,EAAe,MAAQ;QAiXrD,IAAA,KAAA,GAEI,MAFJ,CAAA,IAAA,CAAA,IAAA,CAEW,IAFX,IAAA,CAMG;QAvXkB,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAAe,KAA7C,CAAA,MAA6C,GAAA,MAAA,CAAQ;QAD1C,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,iBAAC,CAAiB;QAqXvD,EAAJ,CAAA,CAAQ,CAAC,OAAO,CAAhB,CAAkB,CAAlB;YACM,MAAM,IAAI,KAAK,CAAC,gDAAgD,CAAC,CAAC;QACxE,CAAK;;IACL,CAAG;IACH,MAAA,CAAA,qBAAC,CAAD;AAbA,CAAA,CA7WC,iBAAA,CA0XD,CAAA,CAAC;AAWD,IAAA,+BAAA,GAAA,CAAA,UAAA,MAAA;IA3XCA,WAAD,CAAA,+BAAA,EAAA,MAAA,CAAA,CAAC;;;;;IAiYD,yCA/XqB,OAAS,EAAyC,MAAQ;QA+X/E,IAAA,KAAA,GA/XsF,MA+XtF,CAAA,IAAA,CAAA,IAAA,CA/XsF,IA+XtF,IAAA,CA/XsF;QAAjE,KAArB,CAAA,OAAqB,GAAA,OAAA,CAAS;QAAyC,KAAvE,CAAA,MAAuE,GAAA,MAAA,CAAQ;QADpE,KAAX,CAAA,IAAW,GAAO,sBAAA,CAAuB,4BAAC,CAA4B;;IACtE,CAAsF;IAiYtF,MAAA,CAAA,+BAAC,CAAD;AARA,CAAA,CA3XC,iBAAA,CAmYD,CAAA,CARA;;;;;;;;;;;;;;;;;;;;;;AD3kBA;;;;AA8FA,IAAA,sBAAA,GAAA,CAAA;;;;;IAKA,gCAFwB,MAAQ,EAAkB,KAAiB;QAA3C,IAAxB,CAAA,MAAwB,GAAA,MAAA,CAAQ;QAAkB,IAAlD,CAAA,KAAkD,GAAA,KAAA,CAAiB;IAGnE,CAAG;;;;;;;IAOA,sBAAH,CAAA,SAAA,CAAA,QAAG,GAAH,UAAG,OAAA;QACC,IAAJ,gBAAA,CAAQ,KAAA,GAAQ,OAAA,CAAQ,KAAC,CAAK;QAC1B,IAAJ,gBAAA,CAAQ,UAAA,GAAaD,WAAG,CAAW,OAAC,CAAO,UAAC,CAAU;cAC9C,IAAA;cACA,OAAA,CAAQ,UAAC,CAAU;QAEvB,EAAJ,CAAA,CAAQ,CAAC,KAAC,CAAK,OAAC,CAAhB,CAAwB,CAAxB;YACM,MAAM,IAAI,KAAA,CAAM,8BAAC,CAA8B,CAAC;QACtD,CAAK;QAED,EAAJ,CAAA,CAAQ,UAAC,CAAT,CAAoB,CAApB;YACM,IAAI,CAAC,KAAC,CAAK,QAAC,CAAQ,IAAI,gBAAA,CAAiB,KAAC,EAAM,IAAA,CAAK,MAAC,CAAM,CAAC,CAAC;QACpE,CAAK;QAAL,IAAA,CAAW,CAAX;YACM,IAAI,CAAC,KAAC,CAAK,QAAC,CAAQ,IAAI,oBAAA,CAAqB,KAAC,EAAM,IAAA,CAAK,MAAC,CAAM,CAAC,CAAC;QACxE,CAAK;IACL,CAAG,CAAH;;;;;IAEG,sBAAH,CAAA,SAAA,CAAA,YAAG,GAGH,UAHG,OAAA;QAIC,IAAI,CAHC,KAAC,CAAK,QAAC,CAAQ,IAAI,qBAAA,CAAsB,OAAC,EAAQ,IAAA,CAAK,MAAC,CAAM,CAAC,CAAC;IAIzE,CAAG,CAAH;;;;;IADG,sBAAH,CAAA,SAAA,CAAA,WAAG,GAMH,UANG,OAAA;QAOC,IAAI,CANC,KAAC,CAAK,QAAC,CAAQ,IAAI,iBAAA,CAAkB,OAAC,EAAQ,IAAA,CAAK,MAAC,CAAM,CAAC,CAAC;IAOrE,CAAG,CAAH;;;;;;;;IAEG,sBAAH,CAAA,SAAA,CAAA,iBAAG,GAMH,UANG,OAAA,EAAA,WAAA;QAAA,EAAH,CAAA,CAAA,WAAA,KAAA,KAAA,CAAA,CAAA,CAAG,CAAH;YAAG,WAAH,GAAA,KAAG,CAAH;QAAA,CAAA;QAOI,MAAJ,CANW,IAAA,CAAK,KAAC,CAAK,GAAC,CAAG,qBAAC,CAAqB,IAAC,CAAI,MAAC,CAAM,CAAC,CAAC,GAAC,CAAG,qBAAC,CAAqB,OAAC,EAAQ,WAAA,CAAY,CAAC,CAAC;IAO/G,CAAG,CAAH;;;;;;;;IAEG,sBAAH,CAAA,SAAA,CAAA,gBAAG,GAMH,UANG,OAAA,EAAA,WAAA;QAAA,EAAH,CAAA,CAAA,WAAA,KAAA,KAAA,CAAA,CAAA,CAAG,CAAH;YAAG,WAAH,GAAA,KAAG,CAAH;QAAA,CAAA;QAOI,MAAJ,CANW,IAAA,CAAK,KAAC,CAAK,GAAC,CAAG,qBAAC,CAAqB,IAAC,CAAI,MAAC,CAAM,CAAC,CAAC,GAAC,CAAG,oBAAC,CAAoB,OAAC,EAAQ,WAAA,CAAY,CAAC,CAAC;IAO9G,CAAG,CAAH;;;;;IAAG,sBAAH,CAAA,SAAA,CAAA,mBAAG,GAKH,UALG,UAAA;QAMC,MAAJ,CALW,IAAA,CAAK,KAAC,CAAK,GAAC,CAAG,qBAAC,CAAqB,IAAC,CAAI,MAAC,CAAM,CAAC,CAAC,GAAC,CAAG,mBAAC,CAAmB,UAAC,CAAU,CAAC,CAAC;IAMnG,CAAG,CAAH;;;;;;;;IAIG,sBAAH,CAAA,SAAA,CAAA,aAAG,GAIH,UAJG,OAAA;QAKC,IAAJ,gBAAA,CAJQ,QAAA,GAAW,OAAA,CAAQ,QAAC,CAAQ;QAKhC,IAAJ,gBAAA,CAJQ,QAAA,GAAWA,WAAG,CAAW,OAAC,CAAO,QAAC,CAAQ,GAAG,KAAA,GAAQ,OAAA,CAAQ,QAAC,CAAQ;QAM1E,EAAJ,CAAA,CAAQ,QAJC,CAIT,CAJkB,CAIlB;YACM,IAAI,CAJC,KAAC,CAAK,QAAC,CAAQ,IAAI,kBAAA,CAAmB,QAAC,EAAS,IAAA,CAAK,MAAC,CAAM,CAAC,CAAC;QAKzE,CAAK;QAJL,IAAA,CAAW,CAAX;YAKM,IAAI,CAJC,KAAC,CAAK,QAAC,CAAQ,IAAI,wBAAA,CAAyB,QAAC,EAAS,IAAA,CAAK,MAAC,CAAM,CAAC,CAAC;QAK/E,CAAK;IACL,CAAG,CAAH;;;;;;;;IAIG,sBAAH,CAAA,SAAA,CAAA,WAAG,GAIH,UAJG,OAAA;QAKC,IAAJ,gBAAA,CAJQ,QAAA,GAAW,OAAA,CAAQ,QAAC,CAAQ;QAKhC,IAAI,CAJC,KAAC,CAAK,QAAC,CAAQ,IAAI,sBAAA,CAAuB,QAAC,EAAS,IAAA,CAAK,MAAC,CAAM,CAAC,CAAC;IAK3E,CAAG,CAAH;;;;;;;;;IAKG,sBAAH,CAAA,SAAA,CAAA,YAAG,GAIH,UAJG,OAAA;QAKC,IAAJ,gBAAA,CAJQ,QAAA,GAAW,OAAA,CAAQ,QAAC,CAAQ;QAKhC,IAAJ,gBAAA,CAJQ,QAAA,GAAWA,WAAG,CAAW,OAAC,CAAO,QAAC,CAAQ,GAAG,KAAA,GAAQ,OAAA,CAAQ,QAAC,CAAQ;QAM1E,EAAJ,CAAA,CAAQ,QAJC,CAIT,CAJkB,CAIlB;YACM,IAAI,CAJC,KAAC,CAAK,QAAC,CAAQ,IAAI,iBAAA,CAAkB,QAAC,EAAS,IAAA,CAAK,MAAC,CAAM,CAAC,CAAC;QAKxE,CAAK;QAJL,IAAA,CAAW,CAAX;YAKM,IAAI,CAJC,KAAC,CAAK,QAAC,CAAQ,IAAI,uBAAA,CAAwB,QAAC,EAAS,IAAA,CAAK,MAAC,CAAM,CAAC,CAAC;QAK9E,CAAK;IACL,CAAG,CAAH;;;;;;;IAGG,sBAAH,CAAA,SAAA,CAAA,cAAG,GAIH,UAJG,OAAA;QAKC,IAAJ,gBAAA,CAJQ,UAAA,GAAa,OAAA,CAAQ,UAAC,CAAU;QAKpC,IAAJ,gBAAA,CAJQ,QAAA,GAAWA,WAAG,CAAW,OAAC,CAAO,QAAC,CAAQ,GAAG,KAAA,GAAQ,OAAA,CAAQ,QAAC,CAAQ;QAM1E,EAAJ,CAAA,CAAQ,QAJC,CAIT,CAJkB,CAIlB;YACM,IAAI,CAJC,KAAC,CAAK,QAAC,CAAQ,IAAI,mBAAA,CAAoB,UAAC,EAAW,IAAA,CAAK,MAAC,CAAM,CAAC,CAAC;QAK5E,CAAK;QAJL,IAAA,CAAW,CAAX;YAKM,IAAI,CAJC,KAAC,CAAK,QAAC,CAAQ,IAAI,yBAAA,CAA0B,UAAC,EAAW,IAAA,CAAK,MAAC,CAAM,CAAC,CAAC;QAKlF,CAAK;IACL,CAAG,CAAH;;;;;IACG,sBAAH,CAAA,SAAA,CAAA,KAAG,GAIH;QACI,IAAI,CAJC,KAAC,CAAK,QAAC,CAAQ,IAAI,kBAAA,CAAmB,EAAC,EAAG,IAAA,CAAK,MAAC,CAAM,CAAC,CAAC;IAKjE,CAAG,CAAH;;;;;IACG,sBAAH,CAAA,SAAA,CAAA,KAAG,GAIH;QACI,IAAI,CAJC,KAAC,CAAK,QAAC,CAAQ,IAAI,gBAAA,CAAiB,IAAC,CAAI,MAAC,CAAM,CAAC,CAAC;IAK3D,CAAG,CAAH;;;;;IACG,sBAAH,CAAA,SAAA,CAAA,OAAG,GAIH;QACI,IAAI,CAJC,KAAC,CAAK,QAAC,CAAQ,IAAI,kBAAA,CAAmB,IAAC,CAAI,MAAC,CAAM,CAAC,CAAC;IAK7D,CAAG,CAAH;;;;;;;IAGG,sBAAH,CAAA,SAAA,CAAA,iBAAG,GAIH,UAJG,EAAA,EAKwB,MAA4B;QACnD,IAAI,CAJC,KAAC,CAAK,QAAC,CAKV,IAJI,+BAAA,CAAgC;YAKlC,UAAU,EAJE,EAAA;YAKZ,MAAM,EAJE,MAAA;YAKR,gBAAgB,EAJE,KAAA;SAKnB,EAJE,IAAA,CAAK,MAAC,CAAM,CAKhB,CAJC;IAKN,CAAG,CAAH;;;;;;;IAGG,sBAAH,CAAA,SAAA,CAAA,oBAAG,GAIH,UAJG,EAAA,EAK2B,MAA4B;QACtD,IAAI,CAJC,KAAC,CAAK,QAAC,CAKV,IAJI,+BAAA,CAAgC;YAKlC,UAAU,EAJE,EAAA;YAKZ,MAAM,EAJE,MAAA;YAKR,gBAAgB,EAJE,QAAA;SAKnB,EAJE,IAAA,CAAK,MAAC,CAAM,CAKhB,CAJC;IAKN,CAAG,CAAH;;;;;;;IAGG,sBAAH,CAAA,SAAA,CAAA,iBAAG,GAIH,UAJG,EAAA,EAKwB,MAA4B;QACnD,IAAI,CAJC,KAAC,CAAK,QAAC,CAKV,IAJI,+BAAA,CAAgC;YAKlC,UAAU,EAJE,EAAA;YAKZ,MAAM,EAJE,MAAA;YAKR,gBAAgB,EAJE,KAAA;SAKnB,EAJE,IAAA,CAAK,MAAC,CAAM,CAKhB,CAJC;IAKN,CAAG,CAAH;IAEA,MAAA,CAAA,sBAAC,CAAD;AA1MA,CAAA,EA0MA,CAAA,CAAC;AASD,IAAA,kBAAA,GAAA,CAAA,UAAA,MAAA;IAVC,SAAD,CAAA,kBAAA,EAAA,MAAA,CAAA,CAAC;;;;;IAoBD,4BAZG,KAA4B,EAAU,MAAQ;QAYjD,IAAA,KAAA,GAEI,MAFJ,CAAA,IAAA,CAAA,IAAA,EAEU,0BAA0B,EAAE,KAAK,CAAC,IAF5C,IAAA,CAGG;QAfsC,KAAzC,CAAA,MAAyC,GAAA,MAAA,CAAQ;QAPvC,KAAV,CAAA,IAAU,GAAO,IAAA,CAAK;;IAsBtB,CAAG;;;;IAXA,kBAAH,CAAA,SAAA,CAAA,cAAG,GAeH;QACI,MAAJ,CAfW,IAAA,CAAK;IAgBhB,CAAG,CAAH;;;;;IAbG,kBAAH,CAAA,SAAA,CAAA,OAAG,GAkBH,UAlBG,MAAA;QAmBC,MAAJ,CAlBW,IAAI,sBAAA,CAAuB,MAAC,EAAO,IAAA,CAAK,KAAC,CAAK,CAAC;IAmB1D,CAAG,CAAH;;;;;IAhBG,kBAAH,CAAA,SAAA,CAAA,OAAG,GAqBH,UArBG,OAAA;QAsBC,MAAJ,CAAA,CArBuC,IAAC,CAAI,YAAC,CAAY,OAAC,EAAQ,KAAA,CAAM,CAqBxE,CArByE;IAsBzE,CAAG,CAAH;;;;;IAnBG,kBAAH,CAAA,SAAA,CAAA,QAAG,GAwBH,UAxBG,OAAA;QAyBC,MAAJ,CAAA,CAxBwC,IAAC,CAAI,YAAC,CAAY,OAAC,EAAQ,IAAA,CAAK,CAwBxE,CAxByE;IAyBzE,CAAG,CAAH;IAIA,MAAA,CAAA,cAAA,CA1BG,kBA0BH,CAAA,SAAA,EAAA,eA1BG,EA0BH;;;;QAAA,GAAA,EAAA;YAAA,IAAA,KAAA,GAAA,IAAA,CAWG;YAVC,EAAJ,CAAA,CAAQ,CA1BC,IAAC,CAAI,cAAC,CA0Bf,CA1B8B,CA0B9B;gBACM,IAAI,CA1BC,KAAC;qBA2BH,GA1BC,CAAG,4BAAC,EAA4B,CAAE;qBA2BnC,SA1BC,CAAS,UAAA,EAAC,IAAK,MA0BzB,CAAA,CA1ByB,KAAE,CAAI,cAAC,GA0BhC,CA1BgD,EAAM,CAAA,CA0BtD,CAAA,CAAA,CA1BuE,CAAC,CAAC;gBA4BnE,EAAN,CAAA,CAAU,CA1BC,IAAC,CAAI,cAAC,CA0BjB,CA1BgC,CA0BhC;oBACQ,MA1BM,IAAI,KAAA,CAAM,qCAAC,CAAqC,CAAC;gBA2B/D,CAAO;YACP,CAAK;YACD,MAAJ,CA1BW,IAAA,CAAK,cAAC,CAAc;QA2B/B,CAAG;;;KAAH,CAAA,CAAG;;;;;;IAvBA,kBAAH,CAAA,SAAA,CAAA,YAAG,GA6BH,UA7BG,OAAA,EA8BoB,KAAc;QADrC,IAAA,KAAA,GAAA,IAAA,CA2BG;QAzBC,IAAJ,gBAAA,CA7BQ,KAAA,GAAQ,OAAA,CAAQ,KAAC,CAAK;QA8B1B,IAAJ,gBAAA,CA7BQ,UAAA,GAAaA,WAAG,CAAW,OAAC,CAAO,UAAC,CAAU;cAC9C,IAAA;cACA,OAAA,CAAQ,UAAC,CAAU;QA8BvB,IAAJ,gBAAA,CA7BQ,WAAA,GAAcA,WAAG,CAAW,OAAC,CAAO,WAAC,CAAW;cAChD,KAAA;cACA,OAAA,CAAQ,WAAC,CAAW;QA+BxB,IAAJ,gBAAA,CA7BQ,QAAU,CAAM;QA8BpB,EAAJ,CAAA,CAAQ,CA7BC,KAAC,CAAK,OAAC,CA6BhB,CA7BwB,CA6BxB;YACM,QAAQ,GAAd,QAAA,CAAA,EAAA,EA7BmB,KAAG,EA6BtB,EA7B4B,OAAA,EAAS,IAAA,CAAK,IAAC,EAAI,EA6B/C,CA7BiD,CAAC;QA8BlD,CAAK;QA7BL,IAAA,CAAW,CAAX;YA8BM,QAAQ,GA7BG,KAAA,CAAM;QA8BvB,CAAK;QAED,IAAI,CA7BC,QAAC,CAAQ,EAAC,KAAC,EAAM,QAAA,EAAU,UAAA,EA6BpC,UA7BoC,EAAW,CAAC,CAAC;QA8B7C,IAAJ,gBAAA,CA7BQ,YAAqC,CAAC;QA8B1C,EAAJ,CAAA,CAAQ,KA7BC,CA6BT,CA7Be,CA6Bf;YACM,YAAY,GA7BG,IAAA,CAAK,iBAAC,CAAiB,QAAC,CAAQ,OAAC,EAAQ,WAAA,CAAY,CAAC;QA8B3E,CAAK;QA7BL,IAAA,CAAW,CAAX;YA8BM,YAAY,GA7BG,IAAA,CAAK,gBAAC,CAAgB,QAAC,CAAQ,OAAC,EAAQ,WAAA,CAAY,CAAC;QA8B1E,CAAK;QACD,MAAJ,CAAA,CA7BoC,YAAC,CAAY,OAAC,CAAO;YA8BnD,MAAN,CAAM,KAAI,CA7BC,WAAC,CAAW,QAAC,CAAQ,OAAC,CAAO,CA6BxC;QA7BA,CAAwC,CA8BlC,CA9BN,CACM;IA8BN,CAAG,CAAH;;;;IA3BG,kBAAH,CAAA,SAAA,CAAA,IAAG,GA+BH;QACI,MAAJ,CA/BW,IAAA,EAAK,CAAE;IAgClB,CAAG,CAAH;;;;;;;;IAvBG,kBAAH,CAAA,SAAA,CAAA,4BAAG,GA+BH,UA/BG,UAAA;QAgCC,IAAJ,gBAAA,CA/BQ,QAAA,GAAW,IAAA,CAAK,aAAC,CAAa;QAgClC,EAAJ,CAAA,CACM,QAAQ,CA/BC,IAAC,CAAI,UAAC,CAAU,IAAC,CAAI;YAgC9B,QAAQ,CA/BC,IAAC,CAAI,UAAC,CAAU,IAAC,CAAI,CAAC,UAAC,CAAU,EAAC,CAgC7C,CADJ,CA9BM,CA8BN;YAEM,MAAN,CA/Ba,QAAA,CAAS,IAAC,CAAI,UAAC,CAAU,IAAC,CAAI,CAAC,UAAC,CAAU,EAAC,CAAE,CAAC,iBAAC,CAAiB;QAgC7E,CAAK;QACD,MAAJ,CA/BW,IAAA,CAAK;IAgChB,CAAG,CAAH;;;;;;;;IAvBG,kBAAH,CAAA,SAAA,CAAA,mBAAG,GA+BH,UA/BG,UAAA;QAgCC,IAAJ,gBAAA,CA/BQ,QAAA,GAAW,IAAA,CAAK,aAAC,CAAa;QAgClC,EAAJ,CAAA,CACM,QAAQ,CA/BC,IAAC,CAAI,UAAC,CAAU,IAAC,CAAI;YAgC9B,QAAQ,CA/BC,IAAC,CAAI,UAAC,CAAU,IAAC,CAAI,CAAC,UAAC,CAAU,EAAC,CAgC7C,CADJ,CA9BM,CA8BN;YAEM,MAAN,CA/Ba,QAAA,CAAS,IAAC,CAAI,UAAC,CAAU,IAAC,CAAI,CAAC,UAAC,CAAU,EAAC,CAAE,CAAC;QAgC3D,CAAK;QACD,MAAJ,CA/BW,IAAA,CAAK;IAgChB,CAAG,CAAH;;;;;IA5BG,kBAAH,CAAA,SAAA,CAAA,mBAAG,GAiCH,UAjCG,cAAA;QAkCC,MAAJ,CAAA,CA/BoC,cAAC,CAAc,aAAC,CAkC9C,IAAI,CAjCC,KAAC;aAkCH,GAjCC,CAAG,qBAAC,CAAqB,IAAC,CAAI,MAAC,CAAM,CAAC;aAkCvC,GAjCC,CAAG,UAAA,KAAC,IAAQ,MAiCtB,CAjCsB,KAAA,CAAM,IAAC,CAiC7B,CAAA,CAjC6B,CAAI,EAkC3B,UAAC,aAjC6C,EAkC7C,SAjCW;YAkCV,EAAR,CAAA,CAAYD,OAjCG,CAAO,aAAC,CAAa,CAiCpC,CAjCsC,CAiCtC;gBACU,MAAV,CAjCiB,yBAAA,CAiCjB,gBAAA,CAAA,CACY,aAjCqC,CAgCjD,EAEY,SAAS,CACV,CAjCC;YAkCZ,CAAS;YAjCT,IAAA,CAAe,CAAf;gBAkCU,IAAV,gBAAA,CAjCc,QAAA,GAiCd,CAjCyB,aAAiB,CAAA,CAAc;gBAkC9C,MAAV,CAAA,CAjCiB,wBAAA,CAAyB,QAAC,EAAS,SAAA,CAAc,CAiClE,CAjCgF;YAkChF,CAAS;QACT,CAAO,CACD,CADN,CAhCM;IAkCN,CAAG,CAAH;;;;;;IA/BG,kBAAH,CAAA,SAAA,CAAA,mBAAG,GAqCH,UArCG,IAAA,EAAA,YAAA;QAsCC,IAAJ,gBAAA,CArCQ,aAAA,GAqCR,CArCwBD,GAAG,CAsCrB,IAAI,CArCC,MAAC,EAsCN,+BAA+B,CApC5B,CAAA,CAAO;QAsCZ,MAAJ,CArCW,mBAAA,CAsCL,IAAI,EACJ,YAAY,EACZ,IAAI,CArCC,MAAC,CAAM,mBAAC,EAsCb,aAAa,CACd,CArCC;IAsCN,CAAG,CAAH;;;;;;IAnCG,kBAAH,CAAA,SAAA,CAAA,oBAAG,GAyCH,UAzCG,IAAA,EAAA,aAAA;QA0CC,IAAJ,gBAAA,CAzCQ,aAAA,GAyCR,CAzCwBA,GAAG,CA0CrB,IAAI,CAzCC,MAAC,EA0CN,+BAA+B,CAxC5B,CAAA,CAAO;QA0CZ,MAAJ,CAzCW,oBAAA,CA0CL,IAAI,EACJ,aAAa,EACb,IAAI,CAzCC,MAAC,CAAM,mBAAC,EA0Cb,aAAa,CACd,CAzCC;IA0CN,CAAG,CAAH;IAGA,MAAA,CAAA,kBAAC,CAAD;AA9LA,CAAA,CAVC,sBAAA,CAwMD,CAAA,CA9LA;AD1SA,IAAA,uBAAA,GAAA,CAAA;;;;IAIA,iCADsB,OAAS;QAAT,IAAtB,CAAA,OAAsB,GAAA,OAAA,CAAS;IAA/B,CAAkD;;;;;IAMlD,uBAAA,CAAA,SAAA,CAAA,SAJG,GAIH,UAJG,EAAA;QAKC,MAAJ,CAJW,IAAA,CAAK,OAAC,CAAO,mBAAC,CAAmB,EAAC,CAAE,CAAC;IAKhD,CAAG,CAAH;IAHO,uBAAP,CAAA,UAAO,GAAoC;QAK3C,EAJE,IAAA,EAAM,IAAA,EAAM,IAAA,EAAM,CAAA,EAAG,IAAA,EAAM,uBAAA,EAAwB,EAAE,EAAG;KAKzD,CAJC;;;;IAED,uBAAD,CAAA,cAAC,GAAA;QAAA,MAAD,CAAC;YAOD,EAAC,IAAI,EAAE,kBAAkB,GAAG;SAC3B,CAAD;IAAA,CAAC,CAAC;IACF,MAAA,CAAA,uBAAC,CAAD;AArBA,CAAA,EAAA,CAAA,CAqBC;AAnBD,IAiCA,4BAAA,GAjCA,CAiCA;;;;IAIA,sCApBsB,OAAS;QAAT,IAAtB,CAAA,OAAsB,GAAA,OAAA,CAAS;IAA/B,CAAkD;;;;;IAyBlD,4BAAA,CAAA,SAAA,CAAA,SAvBG,GAuBH,UACI,GAA4D;QAE5D,MAAJ,CAvBW,IAAA,CAAK,OAAC,CAAO,mBAAC,CAAmB,GAAC,CAAG,CAAC;IAwBjD,CAAG,CAAH;IAtBO,4BAAP,CAAA,UAAO,GAAoC;QAwB3C,EAvBE,IAAA,EAAM,IAAA,EAAM,IAAA,EAAM,CAAA,EAAG,IAAA,EAAM,0BAAA,EAA2B,EAAE,EAAG;KAwB5D,CAvBC;;;;IAED,4BAAD,CAAA,cAAC,GAAA;QAAA,MAAD,CAAC;YA0BD,EAAC,IAAI,EAAE,kBAAkB,GAAG;SAC3B,CAAD;IAAA,CAAC,CAAC;IACF,MAAA,CAAA,4BAAC,CAAD;AAvBA,CAAA,EAAA,CAAA,CAuBC;AAxCD,IAsDA,wBAAA,GAtDA,CAsDA;;;;IAIA,kCAvCsB,OAAS;QAAT,IAAtB,CAAA,OAAsB,GAAA,OAAA,CAAS;IAA/B,CAAkD;;;;;;IA6ClD,wBAAA,CAAA,SAAA,CAAA,SA3CG,GA2CH,UA3CG,IAAA,EAAA,aAAA;QA4CC,MAAJ,CA3CW,IAAA,CAAK,OAAC,CAAO,oBAAC,CAAoB,IAAC,EAAK,aAAA,CAAc,CAAC;IA4ClE,CAAG,CAAH;IA1CO,wBAAP,CAAA,UAAO,GAAoC;QA4C3C,EA3CE,IAAA,EAAM,IAAA,EAAM,IAAA,EAAM,CAAA,EAAG,IAAA,EAAM,sBAAA,EAAuB,EAAE,EAAG;KA4CxD,CA3CC;;;;IAED,wBAAD,CAAA,cAAC,GAAA;QAAA,MAAD,CAAC;YA8CD,EAAC,IAAI,EAAE,kBAAkB,GAAG;SAC3B,CAAD;IAAA,CAAC,CAAC;IACF,MAAA,CAAA,wBAAC,CAAD;AAtBA,CAAA,EAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;AD/EA,IAkCA,WAAA,GAlCA,CAkCA;;;;;IAWA,qBAFsB,IAAM,EAAmB,MAAQ;QAAjC,IAAtB,CAAA,IAAsB,GAAA,IAAA,CAAM;QAAmB,IAA/C,CAAA,MAA+C,GAAA,MAAA,CAAQ;QAP9C,IAAT,CAAA,OAAS,GAAuB,IAAI,WAAA,CAAY;YAA5C,cAAc,EACE,0BAAA;YAAhB,MAAM,EACE,0BAAA;SAAT,CACC,CAAC;QAEI,IAAT,CAAA,WAAS,GAAc,IAAA,CAAK,MAAC,CAAM,mBAAC,CAAmB;IAEvD,CAAyE;;;;;;IAEtE,WAAH,CAAA,SAAA,CAAA,UAAG,GAOH,UAPG,KAAA,EAAA,SAAA;QAQC,MAAJ,CAAA,CAAY,SAPC,CAOb,CAAA,CAAA;YACM,KAPK,KAAA,EAAO,CAOlB;gBACQ,EAAR,CAAA,CAAY,KAPC,CAAK,IAAC,IAAO,KAAA,CAAM,EAAC,CAOjC,CAPoC,CAOpC;oBACU,MAAV,CAPiB,IAAA,CAAK,cAAC,CAAc,KAAC,CAAK,IAAC,EAAK,KAAA,CAAM,EAAC,CAAE,CAAC;gBAQ3D,CAAS;gBAPT,IAAA,CAAe,EAAf,CAAA,CAAe,KAAK,CAAK,IAAC,CAA1B,CAA+B,CAA/B;oBAQU,MAAV,CAPiB,IAAA,CAAK,gBAAC,CAAgB,KAAC,CAAK,IAAC,CAAI,CAAC;gBAQnD,CAAS;YACT,CAAO;YACD,KAPK,QAAA,EAAU,CAOrB;gBACQ,EAAR,CAAA,CAAY,KAPC,CAAK,IAAC,IAAO,KAAA,CAAM,EAAC,CAOjC,CAPoC,CAOpC;oBACU,MAAV,CAPiB,IAAA,CAAK,cAAC,CAAc,KAAC,CAAK,IAAC,EAAK,KAAA,CAAM,EAAC,CAAE,CAAC;gBAQ3D,CAAS;YACT,CAAO;YACD,KAPK,OAAA,EAAS,CAOpB;gBACQ,EAAR,CAAA,CAAY,KAPC,CAAK,IAAC,IAAO,KAAA,CAAM,EAAC,CAOjC,CAPoC,CAOpC;oBACU,MAAV,CAPiB,IAAA,CAAK,cAAC,CAAc,KAAC,CAAK,IAAC,EAAK,KAAA,CAAM,EAAC,CAAE,CAAC;gBAQ3D,CAAS;YACT,CAAO;YACD,KAPK,MAAA,EAAQ,CAOnB;gBACQ,MAAR,CAPe,IAAA,CAAK,gBAAC,CAAgB,KAAC,CAAK,IAAC,CAAI,CAAC;YAQjD,CAAO;QACP,CAAK;IACL,CAAG,CAAH;;;;;IALG,WAAH,CAAA,SAAA,CAAA,iBAAG,GAUH,UAVG,IAAA;;QAYC,IAAJ,gBAAA,CAVQ,UAAA,GAAaD,IAAG,CAAI,IAAC,CAAI,WAAC,EAAY,EAAE,IAAA,EAAM,IAAA,EAAK,CAAE,CAAC;QAW1D,EAAJ,CAAA,CAAQ,UAVC,CAUT,CAVoB,CAUpB;YACM,MAAN,CAVa,EAUb,GAVa,UAAI,CAAU,cAAe,CAAE;QAW5C,CAAK;QAVL,IAAA,CAAW,CAAX;YAWM,MAAN,CAVa,IAAA,CAAK;QAWlB,CAAK;IACL,CAAG,CAAH;;;;;IARG,WAAH,CAAA,SAAA,CAAA,gBAAG,GAaH,UAbG,IAAA;QAcC,IAAJ,gBAAA,CAbQ,cAAA,GAAiB,IAAA,CAAK,iBAAC,CAAiB,IAAC,CAAI,CAAC;QAclD,MAAJ,CAbW,IAAI,CAAI,MAAC,CAAM,MAAC,GAa3B,GAAA,GAbiC,cAAkB,CAAE;IAcrD,CAAG,CAAH;;;;;;IAXG,WAAH,CAAA,SAAA,CAAA,eAAG,GAiBH,UAjBG,IAAA,EAAA,EAAA;QAkBC,IAAJ,gBAAA,CAjBQ,cAAA,GAAiB,IAAA,CAAK,iBAAC,CAAiB,IAAC,CAAI,CAAC;QAkBlD,MAAJ,CAjBW,cAAI,GAiBf,GAAA,GAjB6B,kBAAI,CAAkB,EAAC,CAAG,CAAE;IAkBzD,CAAG,CAAH;;;;;;IAfG,WAAH,CAAA,SAAA,CAAA,cAAG,GAqBH,UArBG,IAAA,EAAA,EAAA;QAsBC,IAAJ,gBAAA,CArBQ,YAAA,GAAe,IAAA,CAAK,eAAC,CAAe,IAAC,EAAK,EAAA,CAAG,CAAC;QAsBlD,MAAJ,CArBW,IAAI,CAAI,MAAC,CAAM,MAAC,GAqB3B,GAAA,GArBiC,YAAgB,CAAE;IAsBnD,CAAG,CAAH;;;;;IAnBG,WAAH,CAAA,SAAA,CAAA,IAAG,GAwBH,UAxBG,KAAA;QAyBC,IAAJ,gBAAA,CAxBQ,4BAAA,GAA+B,2BAAA,CAA4B;QAyB/D,IAAJ,gBAAA,CAxBQ,6BAAA,GAAgC,4BAAA,CAA6B;QAyBjE,IAAJ,gBAAA,CAxBQ,0BAAA,GAA6B,yBAAA,CAA0B;QAyB3D,IAAJ,gBAAA,CAxBQ,2BAAA,GAA8B,0BAAA,CAA2B;QAyB7D,IAAJ,gBAAA,CAxBQ,oBAAA,GAAuB,mBAAA,CAAoB;QA0B/C,EAAJ,CAAA,CAAQ,IAxBC,CAAI,MAAC,CAAM,cAAC,CAAc,YAAC,CAAY,CAwBhD,CAxBkD,CAwBlD;YACM,IAAN,gBAAA,CAxBU,UAAA,GAAa,IAAA,CAAK,MAAC,CAAM,UAAC,CAAU;YA0BxC,EAAN,CAAA,CAAU,UAxBC,CAAU,2BAAC,CAwBtB,CAxBkD,CAwBlD;gBACQ,4BAA4B,GAxBG,UAAA,CAAW,2BAAC,CAA2B;YAyB9E,CAAO;YACD,EAAN,CAAA,CAAU,UAxBC,CAAU,4BAAC,CAwBtB,CAxBmD,CAwBnD;gBACQ,6BAA6B,GAxBG,UAAA,CAAW,4BAAC,CAA4B;YAyBhF,CAAO;YACD,EAAN,CAAA,CAAU,UAxBC,CAAU,yBAAC,CAwBtB,CAxBgD,CAwBhD;gBACQ,0BAA0B,GAxBG,UAAA,CAAW,yBAAC,CAAyB;YAyB1E,CAAO;YACD,EAAN,CAAA,CAAU,UAxBC,CAAU,0BAAC,CAwBtB,CAxBiD,CAwBjD;gBACQ,2BAA2B,GAxBG,UAAA,CAAW,0BAAC,CAA0B;YAyB5E,CAAO;YACD,EAAN,CAAA,CAAU,UAxBC,CAAU,mBAAC,CAwBtB,CAxB0C,CAwB1C;gBACQ,oBAAoB,GAxBG,UAAA,CAAW,mBAAC,CAAmB;YAyB9D,CAAO;QACP,CAAK;QAED,IAAJ,gBAAA,CAxBQ,WAAA,GAAc,EAAA,CAAG;QAyBrB,IAAJ,gBAAA,CAxBQ,aAAA,GAAgB,EAAA,CAAG;QAyBvB,IAAJ,gBAAA,CAxBQ,eAAA,GAAkB,EAAA,CAAG;QAyBzB,IAAJ,gBAAA,CAxBQ,aAAA,GAAgB,EAAA,CAAG;QAyBvB,IAAJ,gBAAA,CAxBQ,YAAA,GAAe,EAAA,CAAG;QAyBtB,IAAJ,gBAAA,CAxBQ,YAAA,GAAe,EAAA,CAAG;QAyBtB,IAAJ,gBAAA,CAxBQ,WAAA,GAAc,EAAA,CAAG;QA0BrB,EAAJ,CAAA,CAAQ,OAxBO,KAAA,KAAU,SAAA,CAwBzB,CAxBoC,CAwBpC;YACM,MAAN,CAxBa,UAAA,CAAW,KAAC,CAAK,iBAAC,CAAiB,CAAC;QAyBjD,CAAK;QAED,EAAJ,CAAA,CAAQ,KAxBC,CAAK,cAAC,CAAc,QAAC,CAAQ,IAAI,CAAAJ,OAAI,CAAO,KAAC,CAAK,MAAC,CAAM,CAwBlE,CAxBoE,CAwBpE;YACM,EAAN,CAAA,CAAUG,KAxBG,CAAK,KAAC,CAAK,MAAC,EAAO,SAAA,CAAU,CAwB1C,CAxB4C,CAwB5C;gBACQ,aAAa,GAxBG,4BAAA,CAA6B,KAAC,CAAK,MAAC,CAAM,OAAC,CAAO,CAAC;YAyB3E,CAAO;YACD,EAAN,CAAA,CAAUA,KAxBG,CAAK,KAAC,CAAK,MAAC,EAAO,WAAA,CAAY,CAwB5C,CAxB8C,CAwB9C;gBACQ,eAAe,GAxBG,6BAAA,CAA8B,KAAC,CAAK,MAAC,CAAM,SAAC,CAAS,CAAC;YAyBhF,CAAO;YACD,EAAN,CAAA,CAAUA,KAxBG,CAAK,KAAC,CAAK,MAAC,EAAO,SAAA,CAAU,CAwB1C,CAxB4C,CAwB5C;gBACQ,aAAa,GAxBG,2BAAA,CAA4B,KAAC,CAAK,MAAC,CAAM,OAAC,CAAO,CAAC;YAyB1E,CAAO;YACD,EAAN,CAAA,CAAUA,KAxBG,CAAK,KAAC,CAAK,MAAC,EAAO,QAAA,CAAS,CAwBzC,CAxB2C,CAwB3C;gBACQ,YAAY,GAxBG,0BAAA,CAA2B,KAAC,CAAK,MAAC,CAAM,MAAC,CAAM,CAAC;YAyBvE,CAAO;YACD,EAAN,CAAA,CAAUA,KAxBG,CAAK,KAAC,CAAK,MAAC,EAAO,OAAA,CAAQ,CAwBxC,CAxB0C,CAwB1C;gBACQ,WAAW,GAxBG,cAAA,GAAiB,KAAA,CAAM,MAAC,CAAM,KAAC,CAAK;YAyB1D,CAAO;YACD,EAAN,CAAA,CAAUA,KAxBG,CAAK,KAAC,CAAK,MAAC,EAAO,QAAA,CAAS,CAwBzC,CAxB2C,CAwB3C;gBACQ,YAAY,GAxBG,eAAA,GAAkB,KAAA,CAAM,MAAC,CAAM,MAAC,CAAM;YAyB7D,CAAO;QACP,CAAK;QACD,WAAW,GAxBG,oBAAA,CAyBZ,aAAa,EACb,eAAe,EACf,aAAa,EACb,YAAY,EACZ,YAAY,EACZ,WAAW,CACZ,CAxBC;QA0BF,IAAJ,gBAAA,CAxBQ,cAAA,GAAiB;YAyBnB,MAAM,EAxBE,KAAA;YAyBR,GAAG,EAxBE,IAAA,CAAK,UAAC,CAAU,KAAC,EAAM,KAAA,CAAM,GAAG,WAAA;SAyBtC,CAxBC;QA0BF,MAAJ,CAxBW,IAAA,CAAK,OAAC,CAAO,cAAC,CAAc,CAAC;IAyBxC,CAAG,CAAH;;;;;;IAtBG,WAAH,CAAA,SAAA,CAAA,MAAG,GA4BH,UA5BG,KAAA,EAAA,QAAA;QA6BC,EAAJ,CAAA,CAAQ,OA5BO,KAAA,KAAU,SAAA,CA4BzB,CA5BoC,CA4BpC;YACM,MAAN,CA5Ba,UAAA,CAAW,KAAC,CAAK,iBAAC,CAAiB,CAAC;QA6BjD,CAAK;QAED,EAAJ,CAAA,CAAQ,OA5BO,QAAA,KAAa,SAAA,CA4B5B,CA5BuC,CA4BvC;YACM,MAAN,CA5Ba,UAAA,CAAW,KAAC,CAAK,gBAAC,CAAgB,CAAC;QA6BhD,CAAK;QAED,IAAJ,gBAAA,CA5BQ,cAAA,GAAiB;YA6BnB,MAAM,EA5BE,MAAA;YA6BR,GAAG,EA5BE,IAAA,CAAK,UAAC,CAAU,KAAC,EAAM,MAAA,CAAO;YA6BnC,IAAI,EA5BE,IAAA,CAAK,SAAC,CAAS,EAAE,IAAA,EAAM,QAAA,CAAS,IAAC,EAAI,CAAE;SA6B9C,CA5BC;QA8BF,MAAJ,CA5BW,IAAA,CAAK,OAAC,CAAO,cAAC,CAAc,CAAC;IA6BxC,CAAG,CAAH;;;;;;IA1BG,WAAH,CAAA,SAAA,CAAA,MAAG,GAgCH,UAhCG,KAAA,EAAA,QAAA;QAiCC,EAAJ,CAAA,CAAQ,OAhCO,KAAA,KAAU,SAAA,CAgCzB,CAhCoC,CAgCpC;YACM,MAAN,CAhCa,UAAA,CAAW,KAAC,CAAK,iBAAC,CAAiB,CAAC;QAiCjD,CAAK;QAED,EAAJ,CAAA,CAAQ,OAhCO,QAAA,KAAa,SAAA,CAgC5B,CAhCuC,CAgCvC;YACM,MAAN,CAhCa,UAAA,CAAW,KAAC,CAAK,gBAAC,CAAgB,CAAC;QAiChD,CAAK;QACD,IAAJ,gBAAA,CAhCQ,cAAA,GAAiB;YAiCnB,MAAM,EAhCE,OAAA;YAiCR,GAAG,EAhCE,IAAA,CAAK,UAAC,CAAU,KAAC,EAAM,OAAA,CAAQ;YAiCpC,IAAI,EAhCE,IAAA,CAAK,SAAC,CAAS,EAAE,IAAA,EAAM,QAAA,CAAS,IAAC,EAAI,CAAE;SAiC9C,CAhCC;QAkCF,MAAJ,CAhCW,IAAA,CAAK,OAAC,CAAO,cAAC,CAAc,CAAC;IAiCxC,CAAG,CAAH;;;;;IA9BG,WAAH,CAAA,SAAA,CAAA,MAAG,GAmCH,UAnCG,KAAA;QAoCC,EAAJ,CAAA,CAAQ,OAnCO,KAAA,KAAU,SAAA,CAmCzB,CAnCoC,CAmCpC;YACM,MAAN,CAnCa,UAAA,CAAW,KAAC,CAAK,iBAAC,CAAiB,CAAC;QAoCjD,CAAK;QAED,IAAJ,gBAAA,CAnCQ,cAAA,GAAiB;YAoCnB,MAAM,EAnCE,QAAA;YAoCR,GAAG,EAnCE,IAAA,CAAK,UAAC,CAAU,KAAC,EAAM,QAAA,CAAS;SAoCtC,CAnCC;QAqCF,MAAJ,CAnCW,IAAA,CAAK,OAAC,CAAO,cAAC,CAAc,CAAC;IAoCxC,CAAG,CAAH;;;;;IAjCG,WAAH,CAAA,SAAA,CAAA,OAAG,GAsCH,UAtCG,cAAA;QAuCC,IAAJ,gBAAA,CAtCQ,OAAyB,CAAC;QAuC9B,IAAJ,gBAAA,CAtCQ,iBAAA,GAsCRJ,UAAA,CAAA,EAAA,EACS,cAtCC,EAqCV,EAEM,OAAO,EAtCE,IAAA,CAAK,OAAC,EAuCf,OAAO,EAtCE,UAAA,EAmCf,CAIK,CAtCC;QAwCF,EAAJ,CAAA,CAAQ,cAtCC,CAAc,MAAC,KAAU,KAAA,CAsClC,CAtCyC,CAsCzC;YArCY,IAAA,MAAZ,GAAA,iBAAA,CAAA,MAAY,EAAQ,GAApB,GAAA,iBAAA,CAAA,GAAoB,EAAK,IAAzB,GAAA,MAAA,CAAA,iBAAA,EAAA,CAAA,QAAA,EAAA,KAAA,CAAA,CAA6B,CAA0B;YAuCjD,MAAN,CAtCa,IAAA,CAAK,IAAC,CAAI,GAAC,CAAG,GAAC,EAAI,IAAA,CAAK,CAAC;QAuCtC,CAAK;QAtCL,IAAA,CAAW,EAAX,CAAA,CAAW,cAAK,CAAc,MAAC,KAAU,MAAA,CAAzC,CAAiD,CAAjD;YACY,IAAA,MAAZ,GAAA,iBAAA,CAAA,MAAY,EAAQ,GAApB,GAAA,iBAAA,CAAA,GAAoB,EAAK,IAAzB,GAAA,iBAAA,CAAA,IAAyB,EAAM,IAA/B,GAAA,MAAA,CAAA,iBAAA,EAAA,CAAA,QAAA,EAAA,KAAA,EAAA,MAAA,CAAA,CAAmC,CAA0B;YAuCvD,MAAN,CAtCa,IAAA,CAAK,IAAC,CAAI,IAAC,CAAI,GAAC,EAAI,IAAA,EAAM,IAAA,CAAK,CAAC;QAuC7C,CAAK;QAtCL,IAAA,CAAW,EAAX,CAAA,CAAW,cAAK,CAAc,MAAC,KAAU,OAAA,CAAzC,CAAkD,CAAlD;YACY,IAAA,MAAZ,GAAA,iBAAA,CAAA,MAAY,EAAQ,GAApB,GAAA,iBAAA,CAAA,GAAoB,EAAK,IAAzB,GAAA,iBAAA,CAAA,IAAyB,EAAM,IAA/B,GAAA,MAAA,CAAA,iBAAA,EAAA,CAAA,QAAA,EAAA,KAAA,EAAA,MAAA,CAAA,CAAmC,CAA0B;YAuCvD,MAAN,CAtCa,IAAA,CAAK,IAAC,CAAI,KAAC,CAAK,GAAC,EAAI,IAAA,EAAM,IAAA,CAAK,CAAC;QAuC9C,CAAK;QAtCL,IAAA,CAAW,EAAX,CAAA,CAAW,cAAK,CAAc,MAAC,KAAU,QAAA,CAAzC,CAAmD,CAAnD;YACY,IAAA,MAAZ,GAAA,iBAAA,CAAA,MAAY,EAAQ,GAApB,GAAA,iBAAA,CAAA,GAAoB,EAAK,IAAzB,GAAA,MAAA,CAAA,iBAAA,EAAA,CAAA,QAAA,EAAA,KAAA,CAAA,CAA6B,CAA0B;YAuCjD,MAAN,CAtCa,IAAA,CAAK,IAAC,CAAI,MAAC,CAAM,GAAC,EAAI,IAAA,CAAK,CAAC;QAuCzC,CAAK;IACL,CAAG,CAAH;IACA,MAAA,CAAA,WAAC,CAAD;AArPA,CAAA,EAqPA,CAAA,CArPA;ADwBA,IAAA,kBAAA,GAAA,CAAA;;;;;;IA8UA,4BAnBY,QAAU,EACV,OAAS,EACT,KAAiB;QAiB7B,IAAA,KAAA,GAAA,IAAA,CAMG;QAzBS,IAAZ,CAAA,QAAY,GAAA,QAAA,CAAU;QACV,IAAZ,CAAA,OAAY,GAAA,OAAA,CAAS;QACT,IAAZ,CAAA,KAAY,GAAA,KAAA,CAAiB;QA3T3B,IAAF,CAAA,eAAiB,GAEuB,IAAA,CAAK,QAAC;aADzC,MAEC,CAAwB,sBAAE,CAAsB,aAAC,CAAa;aAD/D,QAEC,CAAQ,UAAC,MAAQ;YADjB,IAAN,gBAAA,CAEY,OAAA,GAAU,KAAA,CAAK,eAAC,CAAe,MAAC,CAAM,OAAC,EAAQ,MAAA,CAAO,CAAC;YAD7D,MAAN,CAEa,KAAA,CAAK,OAAC;iBADV,MAEC,CAAM,OAAC,CAAO,KAAC,EAAM,OAAA,CAAQ,WAAC,CAAW;iBAD1C,GAEC,CADA,UAAC,QAE2B;gBAD1B,MAAZ,CAAY,IAEI,oBAAA,CAAqB;oBADvB,WAAW,EAEE,QAAA,CAAS,IAAC;oBADvB,KAAK,EAEE,OAAA,CAAQ,KAAC;iBADjB,EAEE,MAAA,CAAO,MAAC,CAAM,CAF7B;YAEA,CAA6B,CADpB;iBACA,KAEC,CAAK,UAAA,KAAC;gBADN,MAAV,CAAU,UAAU,CAEC,EAAC,CADV,IAEI,iBAAA,CAAkB,KAAC,CAAI,cAAC,CAAc,OAAC,CAAO,KAAC,EAAM,KAAA,CAAM,EAAE,MAAA,CAAO,MAAC,CAAM,CADhF,CAFX;YAEA,CAAW,CACF,CAEC;QADV,CAAK,CAEC,CAAC;QACL,IAAF,CAAA,eAAiB,GAEG,IAAA,CAAK,QAAC;aADrB,MAEC,CAAyB,sBAAE,CAAsB,cAAC,CAAc;aADjE,QAEC,CAAQ,UAAC,MAAQ;YADjB,IAAN,gBAAA,CAEY,OAAA,GAAU,KAAA,CAAK,eAAC,CAAe,MAAC,CAAM,OAAC,EAAQ,OAAA,CAAQ,CAAC;YAD9D,MAAN,CAEa,KAAA,CAAK,OAAC;iBADV,MAEC,CAAM,OAAC,CAAO,KAAC,EAAM,OAAA,CAAQ,WAAC,CAAW;iBAD1C,GAEC,CADA,UAAC,QAE2B;gBAD1B,MAAZ,CAAY,IAEI,qBAAA,CAAsB;oBADxB,WAAW,EAEE,QAAA,CAAS,IAAC;oBADvB,KAAK,EAEE,OAAA,CAAQ,KAAC;iBADjB,EAEE,MAAA,CAAO,MAAC,CAAM,CAF7B;YAEA,CAA6B,CADpB;iBACA,KAEC,CAAK,UAAA,KAAC;gBADN,MAAV,CAAU,UAAU,CAEC,EAAC,CADV,IAEI,kBAAA,CAAmB,KAAC,CAAI,cAAC,CAAc,OAAC,CAAO,KAAC,EAAM,KAAA,CAAM,EAAE,MAAA,CAAO,MAAC,CAAM,CADjF,CAFX;YAEA,CAAW,CACF,CAEC;QADV,CAAK,CAEC,CAAC;QACL,IAAF,CAAA,aAAe,GAEG,IAAA,CAAK,QAAC;aADnB,MAEC,CAAuB,sBAAE,CAAsB,YAAC,CAAY;aAD7D,QAEC,CAAQ,UAAC,MAAQ;YADjB,IAAN,gBAAA,CAEY,KAAA,GAAQ,MAAA,CAAO,OAAC,CAAO;YAD7B,MAAN,CAEa,KAAA,CAAK,OAAC;iBADV,IAEC,CAAI,KAAC,CAAK;iBADX,GAEC,CAAG,UAAC,QAA2B,IAAK,MAF9C,CAE8C,QAAA,CAAS,IAAC,CAFxD,CAAA,CAEwD,CAAI;iBADnD,GAEC,CADA,UAAA,IAAI;gBACF,MAAZ,CAAY,IAEI,mBAAA,CAAoB;oBADtB,WAAW,EAEE,IAAA;oBADb,KAAK,EAEE,KAAA;iBADR,EAEE,MAAA,CAAO,MAAC,CAAM,CAF7B;YAEA,CAA6B,CADpB;iBACA,KAEC,CAAK,UAAA,KAAC;gBADN,MAAV,CAAU,UAAU,CAEC,EAAC,CAAE,IAAI,gBAAA,CAAiB,KAAC,CAAI,cAAC,CAAc,KAAC,EAAM,KAAA,CAAM,EAAE,MAAA,CAAO,MAAC,CAAM,CAAC,CAF/F;YAEA,CAA+F,CADtF,CAEC;QADV,CAAK,CAEC,CAAC;QAqBL,IAAF,CAAA,WAAa,GAJG,IAAA,CAAK,QAAC;aAKjB,MAJC,CAA2B,sBAAE,CAAsB,gBAAC,CAAgB;aAKrE,QAJC,CAAQ,UAAC,MAAQ;YAKjB,IAAN,gBAAA,CAJY,KAAA,GAAQ,MAAA,CAAO,OAAC,CAAO;YAK7B,MAAN,CAJa,KAAA,CAAK,KAAC;iBAKV,GAJC,CAAG,qBAAC,CAAqB,MAAC,CAAM,MAAC,CAAM,CAAC;iBAKzC,GAJC,CAAG,KAAC,CAAI,iBAAC,CAAiB,KAAC,CAAK,CAAC;iBAKlC,GAJC,CAKA,UAAA,OAAO;gBACL,MAAZ,CAAY,IAJI,uBAAA,CAAwB;oBAK1B,WAAW,EAJE,EAAE,IAAA,EAAM,OAAA,EAAQ;oBAK7B,KAAK,EAJE,KAAA;iBAKR,EAJE,MAAA,CAAO,MAAC,CAAM,CAI7B;YAJA,CAA6B,CAKpB;iBACA,KAJC,CAAK,UAAA,KAAC;gBAKN,MAAV,CAAU,UAAU,CAJC,EAAC,CAKV,IAJI,oBAAA,CAAqB,KAAC,CAAI,cAAC,CAAc,KAAC,EAAM,KAAA,CAAM,EAAE,MAAA,CAAO,MAAC,CAAM,CAK3E,CAFX;YAEA,CAAW,CACF;iBACA,SAJC,CAAS,KAAC,CAAI,sBAAC,CAAsB,KAAC,CAAK,CAAC;iBAK7C,SAJC,CAAS,KAAC,CAAI,mBAAC,CAAmB,KAAC,CAAK,CAAC,CAAC;QAKpD,CAAK,CAJC,CAAC;QAyCL,IAAF,CAAA,eAAiB,GANG,IAAA,CAAK,QAAC;aAOrB,MANC,CAA0B,sBAAE,CAAsB,eAAC,CAAe;aAOnE,QANC,CAAQ,UAAC,MAAQ;YAOjB,IAAN,gBAAA,CANY,OAAA,GAAU,KAAA,CAAK,eAAC,CAAe,MAAC,CAAM,OAAC,EAAQ,QAAA,CAAS,CAAC;YAO/D,MAAN,CANa,KAAA,CAAK,OAAC;iBAOV,MANC,CAAM,OAAC,CAAO,KAAC,CAAK;iBAOrB,GANC,CAAG,UAAC,QAA2B,IAAK,MAM9C,CAN8C,QAAA,CAAS,IAAC,CAMxD,CAAA,CANwD,CAAI;iBAOnD,GANC,CAOA,UAAA,IAAI;gBACF,MAAZ,CAAY,IANI,sBAAA,CAAuB;oBAOzB,WAAW,EANE,IAAA;oBAOb,KAAK,EANE,OAAA,CAAQ,KAAC;iBAOjB,EANE,MAAA,CAAO,MAAC,CAAM,CAM7B;YANA,CAA6B,CAOpB;iBACA,KANC,CAAK,UAAA,KAAC;gBAON,MAAV,CAAU,UAAU,CANC,EAAC,CAOV,IANI,mBAAA,CAAoB,KAAC,CAAI,cAAC,CAAc,OAAC,CAAO,KAAC,EAAM,KAAA,CAAM,EAAE,MAAA,CAAO,MAAC,CAAM,CAOlF,CAFX;YAEA,CAAW,CACF,CANC;QAOV,CAAK,CANC,CAAC;QASL,IAAF,CAAA,0BAA4B,GANG,IAAA,CAAK,QAAC;aAOhC,MANC,CAAM,sBAAC,CAAsB,iBAAC,CAAiB;aAOhD,cANC,CAAc,IAAC,CAAI,KAAC,EAAM,UAAA,MAAS,EAAuB,KAAA;YAO1D,IAAN,gBAAA,CANU,OAAA,GAAU,MAAA,CAAO,OAAC,CAAO;YAO7B,IAAN,gBAAA,CANU,KAAA,GAAQ,kBAAA,CAAmB,KAAC,EAAM,MAAA,CAAO,MAAC,CAAM,CAAC;YAOrD,IAAN,gBAAA,CANU,KAAA,GAAQ,KAAA,CAAM,OAAC,CAAO,OAAC,CAAO,CAAC,KAAC,CAAK;YAOzC,MAAN,CANa,IAAI,gBAAA,CAAiB,KAAC,EAAM,MAAA,CAAO,MAAC,CAAM,CAAC;QAOxD,CAAK,CANC,CAAC;QASL,IAAF,CAAA,uBAAyB,GANG,IAAA,CAAK,QAAC;aAO7B,MANC,CAAM,sBAAC,CAAsB,kBAAC,CAAkB;aAOjD,cANC,CAAc,IAAC,CAAI,KAAC,EAAM,UAAA,MAAS,EAAwB,KAAA;YAO3D,IAAN,gBAAA,CANU,EAAA,GAAK,EAAE,EAAA,EAAI,MAAA,CAAO,OAAC,CAAO,KAAC,CAAK,EAAC,EAAG,IAAA,EAAM,MAAA,CAAO,OAAC,CAAO,KAAC,CAAK,IAAC,EAAI,CAAE;YAO1E,EAAN,CAAA,CAAU,CANC,EAAC,CAAE,EAAC,IAAK,CAAA,EAAE,CAAE,IAAC,CAMzB,CAN8B,CAM9B;gBACQ,MANM,IAAI,KAAA,CAOR,mEAAmE,CACpE,CANC;YAOV,CAAO;YAED,IAAN,gBAAA,CANU,KAAA,GAAQ,kBAAA,CAAmB,KAAC,EAAM,MAAA,CAAO,MAAC,CAAM,CAAC;YAOrD,IAAN,gBAAA,CANU,OAAA,GAAU,EAAA,CAAG;YAOjB,GAAN,CAAA,CAAW,IAAX,gBAAA,CANe,OAAA,IAAW,KAAA,CAAM,OAAC,CAMjC,CANyC,CAMzC;gBACQ,EAAR,CAAA,CAAY,KANC,CAAK,OAAC,CAAO,cAAC,CAAc,OAAC,CAAO,CAMjD,CANmD,CAMnD;oBACU,IAAV,gBAAA,CANc,KAAA,GAAQ,KAAA,CAAM,OAAC,CAAO,OAAC,CAAO,CAAC;oBAOnC,EAAV,CAAA,CAAc,KANC,CAAK,SAAC,CAMrB,CAN+B,CAM/B;wBACY,IAAZ,gBAAA,CANgB,YAAA,GAOFG,SANG,CAAS,KAAC,CAAK,SAAC,EAAU,UAAA,CAAU;4BAOrC,MAAhB,CANuBD,OAAG,CAAO,EAAC,EAAG,CAAA,CAAE,CAAC;wBAOxC,CAAe,CANC,KAAK,CAAA,CAAE,CAAC;wBAQZ,IAAZ,gBAAA,CANgB,eAAA,GAOF,KAAK,CANC,KAAC,CAAK,EAAC,KAAM,EAAA,CAAG,EAAC,IAAK,KAAA,CAAM,KAAC,CAAK,IAAC,KAAQ,EAAA,CAAG,IAAC,CAAI;wBAO3D,EAAZ,CAAA,CAAgB,eANC,IAMjB,CANmC,YAAE,IAAeD,OAAG,CAAO,KAAC,CAAK,MAAC,CAAM,CAAC,CAM5E,CAN8E,CAM9E;4BACc,MANM,IAAI,KAAA,CAOR,gDAAgD;gCAC9C,8DAA8D,CACjE,CANC;wBAOhB,CAAa;wBAED,EAAZ,CAAA,CAAgB,YANC,CAMjB,CAN8B,CAM9B;4BACc,OAAO,CANC,IAAC,CAAI,IAAI,qBAAA,CAAsB,OAAC,EAAQ,MAAA,CAAO,MAAC,CAAM,CAAC,CAAC;wBAO9E,CAAa;oBACb,CAAW;gBACX,CAAS;YACT,CAAO;YACD,MAAN,CANa,OAAA,CAAQ;QAOrB,CAAK,CANC;aAOD,OANC,CAAO,UAAA,OAAC,IAAU,MAMxB,CANwB,UAAA,CAAW,EAAC,CAMpC,KAAA,CANwB,UAAA,EAAe,OAAG,CAM1C,CAAA,CAAA,CANiD,CAAC,CAAC;QAsFjD,IAAF,CAAA,eAAiB,GAjBG,IAAA,CAAK,QAAC;aAkBrB,MAjBC,CAAM,sBAAC,CAAsB,cAAC,CAAc;aAkB7C,MAjBC,CAAM,cAAM,MAiBlB,CAjBkB,KAAA,CAAK,OAAC,CAAO,MAAC,CAAM,YAAC,KAAgB,KAAA,CAiBvD,CAAA,CAjBuD,CAAM;aAkBxD,cAjBC,CAAc,IAAC,CAAI,KAAC,EAkBpB,UAAC,MAjBQ,EAAoB,UAAY;YAkBvC,IAAR,gBAAA,CAjBc,SAAA,GAAY,kBAAA,CAAmB,UAAC,EAAW,MAAA,CAAO,MAAC,CAAM,CAAC;YAkBhE,IAAR,gBAAA,CAjBc,OAAA,GAAU,CAiBxB,CAjBwB,MAAW,CAiBnC,CAAA,CAjBuD,OAAC,CAAO;YAkBvD,IAAR,gBAAA,CAjBc,OAAA,GAAgC,iBAAA,CAkBpC,SAAS,CAjBC,IAAC,EAkBX,OAAO,CAjBC,GAAC,EAkBT,OAAO,CAjBC,OAAC,CAkBV,CAjBC;YAmBF,EAAR,CAAA,CAAY,OAjBC,CAAO,MAAC,KAAU,CAAA,CAiB/B,CAjBkC,CAiBlC;gBACU,MAAV,CAjBiB,UAAA,CAAW,EAAC,CAAE,IAAI,qBAAA,CAAsB,EAAC,EAAG,MAAA,CAAO,MAAC,CAAM,CAAC,CAAC;YAkB7E,CAAS;YACD,IAAR,gBAAA,CAjBc,aAAA,GAAgB,kBAAA,CAAmB,OAAC,CAAO,CAAC;YAkBlD,IAAR,gBAAA,CAjBY,OAAA,GAAqC,EAAA,CAAG;YAkB5C,GAAR,CAAA,CAjBkC,IAiBlC,EAAA,GAAA,CAjBkC,EAAA,eAiBlC,GAAA,aAjBkC,EAAA,EAiBlC,GAAA,eAAA,CAAA,MAjBkC,EAAA,EAiBlC,EAjBkC,EAiBlC,CAAA;gBAAa,IAjBI,aAAA,GAiBjB,eAAA,CAAA,EAAA,CAjBiB,CAiBjB;gBACU,EAAV,CAAA,CAAc,aAjBC,CAAa,KAAC,KAAS,SAAA,CAiBtC,CAjBiD,CAiBjD;oBACY,OAAO,CAjBC,IAAC,CAAI,KAAC,CAAI,mBAAC,CAAmB,aAAC,EAAc,MAAA,CAAO,MAAC,CAAM,CAAC,CAAC;gBAkBjF,CAAW;gBAjBX,IAAA,CAAiB,EAAjB,CAAA,CAAiB,aAAK,CAAa,KAAC,KAAS,SAAA,CAA7C,CAAwD,CAAxD;oBAkBY,OAAO,CAjBC,IAAC,CAAI,KAAC,CAAI,mBAAC,CAAmB,aAAC,EAAc,MAAA,CAAO,MAAC,CAAM,CAAC,CAAC;gBAkBjF,CAAW;gBAjBX,IAAA,CAAiB,EAAjB,CAAA,CAAiB,aAAK,CAAa,KAAC,KAAS,SAAA,CAA7C,CAAwD,CAAxD;oBAkBY,OAAO,CAjBC,IAAC,CAAI,KAAC,CAAI,mBAAC,CAAmB,aAAC,EAAc,MAAA,CAAO,MAAC,CAAM,CAAC,CAAC;gBAkBjF,CAAW;gBAjBX,IAAA,CAAiB,CAAjB;oBAkBY,MAjBM,IAAI,KAAA,CAAM,gBAAC,GAAkB,aAAA,CAAc,KAAC,CAAK,CAAC;gBAkBpE,CAAW;YACX,CAAS;YACD,MAAR,CAjBe,UAAA,CAAW,EAAC,CAiB3B,KAAA,CAjBe,UAAA,EAAe,OAAG,CAiBjC,CACW,SAjBC,EAAS;iBAkBV,OAjBC,EAAO;iBAkBR,GAjBC,CAAG,UAAA,OAAC,IAAU,MAiB1B,CAjB0B,KAAA,CAAK,aAAC,CAAa,OAAC,EAAQ,MAAA,CAAO,MAAC,CAAM,CAiBpE,CAAA,CAjBoE,CAAC,CAAC;QAkBtE,CAAO,CACF;aACA,OAjBC,CAAO,UAAA,OAAC,IAAU,MAiBxB,CAjBwB,OAAA,CAiBxB,CAAA,CAjBwB,CAAQ,CAAC;QA6B7B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;IACtC,CAAG;;;;;IAnRA,kBAAH,CAAA,SAAA,CAAA,sBAAG,GACH,UADG,KAAA;QAEC,MAAJ,CADW,IAAA,CAAK,QAAC;aAEV,MADC,CAA2B,sBAAE,CAAsB,gBAAC,CAAgB;aAErE,GADC,CAAG,UAAA,MAAC,IACZ,gBAAA,CADkB,MAClB,CAAA,CADqB,MAAU,CAC/B,CAAA,CAAA,CAD+B,CAAqB;aAE7C,MADC,CAAM,UAAA,MAAC,IAAS,MACxB,CADwB,KAAA,CAAM,OAAC,IAAU,MAAA,CAAO,OAAC,CAAO,OAAC,CACzD,CAAA,CADyD,CAAO,CAAC;IAEjE,CAAG,CAAH;;;;;IACG,kBAAH,CAAA,SAAA,CAAA,mBAAG,GAIH,UAJG,KAAA;QAKC,MAAJ,CAJW,IAAA,CAAK,QAAC;aAKV,MAJC,CAA2B,sBAAE,CAAsB,YAAC,CAAY;aAKjE,GAJC,CAAG,UAAA,MAAC,IAIZ,gBAAA,CAJkB,MAIlB,CAAA,CAJqB,MAAU,CAI/B,CAAA,CAAA,CAJ+B,CAAqB;aAK7C,MAJC,CAAM,UAAA,MAAC,IAAS,MAIxB,CAJwB,KAAA,CAAM,OAAC,IAAU,MAAA,CAAO,OAAC,CAIjD,CAAA,CAJiD,CAAO,CAAC;IAKzD,CAAG,CAAH;;;;;IAuBG,kBAAH,CAAA,SAAA,CAAA,iBAAG,GAMH,UANG,KAAA;QAMH,IAAA,KAAA,GAAA,IAAA,CA6BG;QA5BC,MAAJ,CANW,UAAA,MAAqC;YAO1C,IAAN,gBAAA,CANU,SAA0B,CAAC;YAO/B,EAAN,CAAA,CAAU,CANC,KAAC,CAAK,IAAC,CAMlB,CANuB,CAMvB;gBACQ,MAAR,CANe,MAAA,CAAO,GAAC,CAAG,cAAM,MAMhC,CANgC,UAAA,CAAW,KAAC,CAAK,eAAC,CAAe,CAMjE,CAAA,CANiE,CAAC,CAAC;YAOnE,CAAO;YANP,IAAA,CAAa,EAAb,CAAA,CAAa,KAAK,CAAK,IAAC,IAAO,KAAA,CAAM,EAAC,CAAtC,CAAyC,CAAzC;gBAOQ,SAAS,GANG,MAAA,CAAO,GAAC,CAOlB,mBAAmB,CANC,EAAE,IAAA,EAAM,KAAA,CAAM,IAAC,EAAK,EAAA,EAAI,KAAA,CAAM,EAAC,EAAE,CAAE,CAOxD,CANC;YAOV,CAAO;YANP,IAAA,CAAa,CAAb;gBAOQ,SAAS,GANG,MAAA;qBAOT,GANC,CAAG,0BAAC,CAA0B,KAAC,CAAK,IAAC,CAAI,CAAC;qBAO3C,aANC,CAOA,MAAM,CANC,GAAC,CAAG,UAAA,EAAC,IAAK,MAK7B,CAL6B,EAAA,CAAG,IAAC,CAKjC,CAAA,CALiC,CAAI,EAOzB,UACE,SANW,EAOX,SANW;oBAQX,MAAd,CAAc,eAAe,CACb,SAAS,EACT,SAAS,EACT,KAAK,EACL,KAAI,CANC,MAAC,CAAM,mBAAC,EAOb,KAAI,CANC,MAAC,CAAM,eAAC,CAOd,CANf;gBAMA,CAAe,CACJ,CANC;YAOZ,CAAO;YACD,MAAN,CANa,SAAA,CAAU,oBAAC,EAAoB,CAAE;QAO9C,CAAK,CANC;IAON,CAAG,CAAH;;;;;;IAsEG,kBAAH,CAAA,SAAA,CAAA,mBAAG,GASH,UATG,aAAA,EAAA,MAAA;QASH,IAAA,KAAA,GAAA,IAAA,CAkBG;QAjBC,IAAJ,gBAAA,CATQ,OAAA,GAAmB,IAAA,CAAK,eAAC,CAAe,aAAC,EAAc,MAAA,CAAO,CAAC;QAUnE,MAAJ,CATW,IAAA,CAAK,OAAC;aAUV,MATC,CAAM,OAAC,CAAO,KAAC,EAAM,OAAA,CAAQ,WAAC,CAAW;aAU1C,GATC,CAUA,UAAA,QAAQ;YACN,MAAV,CAAU,IATI,oBAAA,CAAqB;gBAUvB,WAAW,EATE,QAAA,CAAS,IAAC;gBAUvB,KAAK,EATE,OAAA,CAAQ,KAAC;aAUjB,EATE,MAAA,CAAO,CASpB;QATA,CAAoB,CAUb;aACA,KATC,CAAK,UAAA,KAAC;YAUN,MAAR,CAAQ,UAAU,CATC,EAAC,CAUV,IATI,iBAAA,CAUF,KAAI,CATC,cAAC,CAAc,OAAC,CAAO,KAAC,EAAM,KAAA,CAAM,EAAE,MAAA,CAU5C,CACF,CAJT;QAIA,CAAS,CACF,CATC;IAUR,CAAG,CAAH;;;;;;IAPG,kBAAH,CAAA,SAAA,CAAA,mBAAG,GAaH,UAbG,aAAA,EAAA,MAAA;QAaH,IAAA,KAAA,GAAA,IAAA,CAoBG;QAnBC,IAAJ,gBAAA,CAbQ,OAAA,GAAmB,IAAA,CAAK,eAAC,CAAe,aAAC,EAAc,OAAA,CAAQ,CAAC;QAcpE,MAAJ,CAAA,CACM,IAAI,CAbC,OAAC;aAcH,MAbC,CAAM,OAAC,CAAO,KAAC,EAAM,OAAA,CAAQ,WAAC,CAAW;aAc1C,GAbC,CAcA,UAAA,QAAQ;YACN,MAAZ,CAAY,IAbI,qBAAA,CAAsB;gBAcxB,WAAW,EAbE,QAAA,CAAS,IAAC;gBAcvB,KAAK,EAbE,OAAA,CAAQ,KAAC;aAcjB,EAbE,MAAA,CAAO,CAatB;QAbA,CAAsB,CAcb;aACA,KAbC,CAAK,UAAA,KAAC;YAcN,MAAV,CAAU,UAAU,CAbC,EAAC,CAcV,IAbI,kBAAA,CAcF,KAAI,CAbC,cAAC,CAAc,OAAC,CAAO,KAAC,EAAM,KAAA,CAAM,EAAE,MAAA,CAc5C,CACF,CAJX;QAIA,CAAW,CACF,CADT,CAXM;IAcN,CAAG,CAAH;;;;;;IAXG,kBAAH,CAAA,SAAA,CAAA,mBAAG,GAiBH,UAjBG,aAAA,EAAA,MAAA;QAiBH,IAAA,KAAA,GAAA,IAAA,CAoBG;QAnBC,IAAJ,gBAAA,CAjBQ,OAAA,GAAmB,IAAA,CAAK,eAAC,CAAe,aAAC,EAAc,QAAA,CAAS,CAAC;QAkBrE,MAAJ,CAAA,CACM,IAAI,CAjBC,OAAC;aAkBH,MAjBC,CAAM,OAAC,CAAO,KAAC,CAAK;aAkBrB,GAjBC,CAkBA,UAAA,QAAQ;YACN,MAAZ,CAAY,IAjBI,sBAAA,CAAuB;gBAkBzB,WAAW,EAjBE,QAAA,CAAS,IAAC;gBAkBvB,KAAK,EAjBE,OAAA,CAAQ,KAAC;aAkBjB,EAjBE,MAAA,CAAO,CAiBtB;QAjBA,CAAsB,CAkBb;aACA,KAjBC,CAAK,UAAA,KAAC;YAkBN,MAAV,CAAU,UAAU,CAjBC,EAAC,CAkBV,IAjBI,mBAAA,CAkBF,KAAI,CAjBC,cAAC,CAAc,OAAC,CAAO,KAAC,EAAM,KAAA,CAAM,EAAE,MAAA,CAkB5C,CACF,CAJX;QAIA,CAAW,CACF,CADT,CAfM;IAkBN,CAAG,CAAH;;;;IAwDA,kBAAA,CAAA,SAAA,CAAA,WAtBG,GAsBH,cAAA,CAtBgB,CAsBhB;;;;;;IApBG,kBAAH,CAAA,SAAA,CAAA,aAAG,GA0BH,UA1BG,OAAA,EAAA,MAAA;QA2BC,GAAJ,CAAA,CA1BuB,IA0BvB,EAAA,GAAA,CA1BuB,EAAA,SA0BvB,GAAA,OA1BuB,EAAA,EA0BvB,GAAA,SAAA,CAAA,MA1BuB,EAAA,EA0BvB,EA1BuB,EA0BvB,CAAA;YAAS,IA1BI,MAAA,GA0Bb,SAAA,CAAA,EAAA,CA1Ba,CA0Bb;YACM,EAAN,CAAA,CACQ,MAAM,CA1BC,IAAC,KAAQ,sBAAA,CAAuB,aAAC;gBA2BxC,MAAM,CA1BC,IAAC,KAAQ,sBAAA,CAAuB,cAAC;gBA2BxC,MAAM,CA1BC,IAAC,KAAQ,sBAAA,CAAuB,eA2BzC,CADN,CAzBQ,CAyBR;gBAEQ,MAAR,CA1Be,IAAI,kBAAA,CAAmB,OAAC,EAAQ,MAAA,CAAO,CAAC;YA2BvD,CAAO;QACP,CAAK;QACD,MAAJ,CA1BW,IAAI,qBAAA,CAAsB,OAAC,EAAQ,MAAA,CAAO,CAAC;IA2BtD,CAAG,CAAH;;;;;;IAxBG,kBAAH,CAAA,SAAA,CAAA,cAAG,GA8BH,UACI,KAAY,EACZ,QAAiC;QAEjC,IAAJ,gBAAA,CA9BQ,WAAA,GAAsB,IAAA,CAAK;QA+B/B,EAAJ,CAAA,CAAQ,QA9BC,IAAW,QAAA,CAAS,OAAC,CA8B9B,CA9BsC,CA8BtC;YACM,WAAW,GA9BG,QAAA,CAAS,OAAC,CAAO,GAAC,CAAG,cAAC,CAAc,CAAC;QA+BzD,CAAK;QACD,IAAJ,gBAAA,CA9BQ,QAAA,GAAW,IAAA,CAAK;QA+BpB,EAAJ,CAAA,CACM,WAAW,IA9BI,IAAA;YA+Bf,WAAW,CA9BC,UAAC,CAAU,0BAAC,CA+B1B,CADJ,CA7BM,CA6BN;YAEM,QAAQ,GA9BG,QAAA,CAAS;QA+B1B,CAAK;QACD,EAAJ,CAAA,CACM,QAAQ;YACR,QAAQ,CA9BC,KAAC;YA+BV,QAAQ,CA9BC,KAAC,CAAK,MAAC;YA+BhB,QAAQ,CA9BC,KAAC,CAAK,MAAC,CAAM,MAAC,GAAQ,CA+BjC,CADJ,CA7BM,CA6BN;YAEM,MAAN,CA9Ba;gBA+BL,KAAK,EA9BE,KAAA;gBA+BP,WAAW,EA9BE,QAAA,CAAS,KAAC;aA+BxB,CA9BC;QA+BR,CAAK;QA9BL,IAAA,CAAW,CAAX;;YAgCM,IAAN,gBAAA,CA9BU,MAAA,GAA+B,EAAA,CAAG;YA+BtC,IAAN,gBAAA,CA9BU,KAAA,GAAuB;gBA+BzB,MAAM,EA9BE,MAAA,CAAO,QAAC,CAAQ,MAAC,CAAM;gBA+B/B,IAAI,EA9BE,QAAA,CAAS,UAAC;aA+BjB,CA9BC;YAgCF,MAAM,CA9BC,IAAC,CAAI,KAAC,CAAK,CAAC;;YAiCnB,MAAN,CA9Ba;gBA+BL,KAAK,EA9BE,KAAA;gBA+BP,WAAW,EA9BE;oBA+BX,MAAM,EA9BE,MAAA;iBAYhB;aAoBK,CA9BC;QA+BR,CAAK;IACL,CAAG,CAAH;;;;;;IA5BG,kBAAH,CAAA,SAAA,CAAA,eAAG,GAkCH,UACI,QAAkB,EAClB,SAAwB;QAExB,MAAJ,CAlCW,eAAA,CAAgB,QAAC,EAAS,SAAA,CAAU,CAAC;IAmChD,CAAG,CAAH;IAjCO,kBAAP,CAAA,UAAO,GAAoC;QAmC3C,EAlCE,IAAA,EAAM,UAAA,EAAW;KAmClB,CAlCC;;;;IAED,kBAAD,CAAA,cAAC,GAAA;QAAA,MAAD,CAAC;YAqCD,EAAC,IAAI,EAAE,OAAO,GAAG;YACjB,EAAC,IAAI,EAAE,WAAW,GAAG;YACrB,EAAC,IAAI,EAAE,KAAK,GAAG;SACd,CAAD;IAAA,CAAC,CAAC;IAnCK,kBAAP,CAAA,cAAO,GAAyD;QAqChE,iBAAiB,EApCE,CAAA,EAAG,IAAA,EAAM,MAAA,EAAO,EAAE;QAqCrC,iBAAiB,EApCE,CAAA,EAAG,IAAA,EAAM,MAAA,EAAO,EAAE;QAqCrC,eAAe,EApCE,CAAA,EAAG,IAAA,EAAM,MAAA,EAAO,EAAE;QAqCnC,aAAa,EApCE,CAAA,EAAG,IAAA,EAAM,MAAA,EAAO,EAAE;QAqCjC,iBAAiB,EApCE,CAAA,EAAG,IAAA,EAAM,MAAA,EAAO,EAAE;QAqCrC,4BAA4B,EApCE,CAAA,EAAG,IAAA,EAAM,MAAA,EAAO,EAAE;QAqChD,yBAAyB,EApCE,CAAA,EAAG,IAAA,EAAM,MAAA,EAAO,EAAE;QAqC7C,iBAAiB,EApCE,CAAA,EAAG,IAAA,EAAM,MAAA,EAAO,EAAE;KAqCpC,CApCC;IAqCF,MAAA,CAAA,kBAAC,CAAD;AA3bA,CAAA,EAAA,CAAA,CAAA;;;;;;;;;;ADxDA,IA+Ba,sBAAA,GAA0C;IACrD,UAAU,EAAE,CAAA;IACZ,SAAS,EAAE,CAAA;IACX,UAAU,EAAE,CAAA;IACZ,UAAU,EAAE,CAAA;IACZ,UAAU,EAAE,CAAA;IACZ,IAAI,EAAE,EAAA;IACN,OAAO,EAAE,EAAA;CACV,CAAC;AAEF,IAAa,uBAAA,GAA4C;IACvD,KAAK,EAAE,EAAA;CACR,CAAC;;;;;;AAMF,iCACE,KAAiD,EACjD,MAAW;IADX,EAAF,CAAA,CAAA,KAAA,KAAA,KAAA,CAAA,CAAA,CAAE,CAAF;QAAE,KAAF,GAAA,uBAAmD,CAAnD;IAAA,CAAA;IAGE,IAAF,gBAAA,CAJQ,MAAA,GAAS,MAAA,CAAO,QAAC,CAAQ,CAAC;IAKhC,EAAF,CAAA,CAAM,CAJC,MAAC,CAIR,CAJe,CAIf;QACI,MAAJ,CAJW,KAAA,CAAM;IAKjB,CAAG;IACD,IAAF,gBAAA,CAJM,IAAA,GAAO,KAAA,CAAM,KAAC,CAAK,MAAC,CAAM,CAAC;IAK/B,EAAF,CAAA,CAAM,CAJC,IAAC,CAIR,CAJa,CAIb;QACI,IAAI,GAJG,sBAAA,CAAuB;IAKlC,CAAG;IACD,IAAF,gBAAA,CAJM,OAAA,GAAU,sBAAA,CAAuB,IAAC,EAAK,MAAA,CAAO,CAAC;IAKnD,EAAF,CAAA,CAAK,IAJC,IAAO,OAAA,CAIb,CAJqB,CAIrB;QACI,MAAJ,CAAAD,UAAA,CAAA,EAAA,EACS,KAJC,EAGV,EAEM,KAAK,EAFXA,UAAA,CAAA,EAAA,EAGW,KAJC,CAAK,KAAC,EAClB,CAAA,EAAA,GAAA,EAAA,EAAA,EAAA,CAIS,MAJC,CAAV,GAAkB,OAAA,EAAlB,EAAA,CAAA,CAAA,EAAA,CAAA,CAMK;IACL,CAAG;IAJH,IAAA,CAAI,CAAJ;QAKI,MAAJ,CAJW,KAAA,CAAM;IAKjB,CAAG;;AACH,CAAC;;;;;;AAMD,gCAPC,IAAA,EAAA,MAAA;IAQC,IAAF,gBAAA,CAPM,OAAA,CAAQ;IAQZ,MAAF,CAAA,CAAU,MAPC,CAAM,IAAC,CAOlB,CAAA,CAAA;QACI,KAPK,sBAAA,CAAuB,aAAC,EAAc,CAO/C;YACM,IAAN,gBAAA,CAPU,WAAA,GAAc,2BAAA,CAQhB,IAAI,CAPC,IAAC,EAQN,MAAM,CAPC,OAAC,EAQR,KAAK,EACL,IAAI,CACL,CAPC;YAQF,OAAO,GAAbA,UAAA,CAAA,EAAA,EACW,IAPC,EAMZ,EAEQ,IAAI,EAPE,WAAA,EAQN,UAAU,EAPE,IAAA,CAAK,UAAC,GAAY,CAAA,EAItC,CAIO,CAPC;YAQF,MAAN,CAPa,OAAA,CAAQ;QAQrB,CAAK;QACD,KAPK,sBAAA,CAAuB,YAAC,EAAa,CAO9C;YACM,IAAN,gBAAA,CAPU,KAAA,GAOV,CAPkB,MAAA,CAAO,OAAW,CAAA,CAAM;YAQpC,OAAO,GAAbA,UAAA,CAAA,EAAA,EACW,IAPC,EAMZ,EAEQ,OAAO,EAPE,iBAAA,CAAkB,IAAC,CAAI,OAAC,EAAQ,KAAA,CAAM,EAQ/C,SAAS,EAPE,IAAA,CAAK,SAAC,GAAW,CAAA,EAIpC,CAIO,CAPC;YAQF,MAAN,CAPa,OAAA,CAAQ;QAQrB,CAAK;QACD,KAPK,sBAAA,CAAuB,cAAC,EAAe,CAOhD;YACM,IAAN,gBAAA,CAPU,WAAA,GAAc,2BAAA,CAQhB,IAAI,CAPC,IAAC,EAQN,MAAM,CAPC,OAAC,EAQR,KAAK,EACL,KAAK,CACN,CAPC;YAQF,OAAO,GAAbA,UAAA,CAAA,EAAA,EACW,IAPC,EAMZ,EAEQ,IAAI,EAPE,WAAA,EAQN,UAAU,EAPE,IAAA,CAAK,UAAC,GAAY,CAAA,EAItC,CAIO,CAPC;YAQF,MAAN,CAPa,OAAA,CAAQ;QAQrB,CAAK;QACD,KAPK,sBAAA,CAAuB,eAAC,EAAgB,CAOjD;YACM,OAAO,GAAbA,UAAA,CAAA,EAAA,EACW,IAPC,EAMZ,EAEQ,IAAI,EAPE,mBAAA,CAAoB,IAAC,CAAI,IAAC,EAAK,MAAA,CAAO,OAAC,EAAQ,SAAA,CAAU,EAQ/D,UAAU,EAPE,IAAA,CAAK,UAAC,GAAY,CAAA,EAItC,CAIO,CAPC;YAQF,MAAN,CAPa,OAAA,CAAQ;QAQrB,CAAK;QACD,KAPK,sBAAA,CAAuB,gBAAC,EAAiB,CAOlD;YACM,OAAO,GAAbA,UAAA,CAAA,EAAA,EACW,IAPC,EAMZ,EAEQ,IAAI,EAPE,0BAAA,CAQJ,IAAI,CAPC,IAAC,EAQN,MAAM,CAPC,OAAC,CAAO,WAAC,CAQjB,EACD,UAAU,EAPE,IAAA,CAAK,UAAC,GAAY,CAAA,EACtC,CAOO,CAPC;YAQF,MAAN,CAPa,OAAA,CAAQ;QAQrB,CAAK;QACD,KAPK,sBAAA,CAAuB,eAAC,EAAgB,CAOjD;YACM,OAAO,GAAbA,UAAA,CAAA,EAAA,EACW,IAPC,EAMZ,EAEQ,IAAI,EAPE,0BAAA,CAQJ,IAAI,CAPC,IAAC,EAQN,MAAM,CAPC,OAAC,CAAO,WAAC,CAQjB,EACD,OAAO,EAPE,kBAAA,CAQP,IAAI,CAPC,OAAC,EAQN,MAAM,CAPC,OAAC,CAAO,KAAC,CAAK,OAAC,EAQtB,MAAM,CAPC,OAAC,CAAO,WAAC,CAQjB,EACD,SAAS,EAPE,IAAA,CAAK,SAAC,GAAW,CAAA,EAJpC,CAYO,CAPC;YAQF,MAAN,CAPa,OAAA,CAAQ;QAQrB,CAAK;QACD,KAPK,sBAAA,CAAuB,iBAAC,EAAkB,CAOnD;YACM,OAAO,GAAbA,UAAA,CAAA,EAAA,EACW,IAPC,EAMZ,EAEQ,IAAI,EAPE,0BAAA,CAQJ,IAAI,CAPC,IAAC,EAQN,MAAM,CAPC,OAAC,CAAO,WAAC,CAQjB,EACD,UAAU,EAPE,IAAA,CAAK,UAAC,GAAY,CAAA,EACtC,CAOO,CAPC;YAQF,MAAN,CAPa,OAAA,CAAQ;QAQrB,CAAK;QACD,KAPK,sBAAA,CAAuB,kBAAC,EAAmB,CAOpD;YACM,OAAO,GAAbA,UAAA,CAAA,EAAA,EACW,IAPC,EAMZ,EAEQ,IAAI,EAPE,oBAAA,CAAqB,IAAC,CAAI,IAAC,EAAK,MAAA,CAAO,OAAC,CAAO,KAAC,CAAK,EAQ3D,OAAO,EAPE,+BAAA,CAAgC,IAAC,CAAI,OAAC,EAAQ;oBAQrD,EAAE,EAPE,MAAA,CAAO,OAAC,CAAO,KAAC,CAAK,EAAC;oBAQ1B,IAAI,EAPE,MAAA,CAAO,OAAC,CAAO,KAAC,CAAK,IAAC;iBAQ7B,CAPC,EAQF,UAAU,EAPE,IAAA,CAAK,UAAC,GAAY,CAAA,EAMtC,CAEO,CAPC;YAQF,MAAN,CAPa,OAAA,CAAQ;QAQrB,CAAK;QACD,KAPK,sBAAA,CAAuB,iBAAC,EAAkB,CAOnD;;YAEM,OAAO,GAAbA,UAAA,CAAA,EAAA,EACW,IAPC,EAMZ,EAEQ,OAAO,EAPE,gBAAA,CAAiB,IAAC,CAAI,OAAC,EAAQ,MAAA,CAAO,OAAC,CAAO,EAK/D,CAGO,CAPC;YAQF,MAAN,CAPa,OAAA,CAAQ;QAQrB,CAAK;QACD,KAPK,sBAAA,CAAuB,aAAC,EAAc,CAO/C;YACM,OAAO,GAAbA,UAAA,CAAA,EAAA,EACW,IAPC,EAMZ,EAEQ,IAAI,EAPE,4BAAA,CAQJ,IAAI,CAPC,IAAC,EAQN,MAAM,CAPC,OAAC,CAAO,KAAC,EAQhB,MAAM,CAPC,OAAC,CAAO,WAAC,CAQjB,EACD,UAAU,EAPE,IAAA,CAAK,UAAC,GAAY,CAAA,EAAtC,CAQO,CAPC;YAQF,MAAN,CAPa,OAAA,CAAQ;QAQrB,CAAK;QACD,KAPK,sBAAA,CAAuB,YAAC,EAAa,CAO9C;YACM,OAAO,GAAbA,UAAA,CAAA,EAAA,EACW,IAPC,EAMZ,EAEQ,OAAO,EAPE,iBAAA,CAQP,IAAI,CAPC,OAAC,EAQN,MAAM,CAPC,OAAC,CAAO,KAAC,CAAK,OAAC,EAQtB,MAAM,CAPC,OAAC,CAAO,WAAC,CAQjB,EACD,SAAS,EAPE,IAAA,CAAK,SAAC,GAAW,CAAA,EAApC,CAQO,CAPC;YAQF,MAAN,CAPa,OAAA,CAAQ;QAQrB,CAAK;QACD,KAPK,sBAAA,CAAuB,cAAC,EAAe,CAOhD;YACM,OAAO,GAAbA,UAAA,CAAA,EAAA,EACW,IAPC,EAMZ,EAEQ,IAAI,EAPE,4BAAA,CAQJ,IAAI,CAPC,IAAC,EAQN,MAAM,CAPC,OAAC,CAAO,KAAC,EAQhB,MAAM,CAPC,OAAC,CAAO,WAAC,CAQjB,EACD,UAAU,EAPE,IAAA,CAAK,UAAC,GAAY,CAAA,EAAtC,CAQO,CAPC;YAQF,MAAN,CAPa,OAAA,CAAQ;QAQrB,CAAK;QACD,KAPK,sBAAA,CAAuB,eAAC,EAAgB,CAOjD;YACM,OAAO,GAAbA,UAAA,CAAA,EAAA,EACW,IAPC,EAMZ,EAEQ,IAAI,EAPE,4BAAA,CAQJ,IAAI,CAPC,IAAC,EAQN,MAAM,CAPC,OAAC,CAAO,KAAC,EAQhB,MAAM,CAPC,OAAC,CAAO,WAAC,CAQjB,EACD,UAAU,EAPE,IAAA,CAAK,UAAC,GAAY,CAAA,EAAtC,CAQO,CAPC;YAQF,MAAN,CAPa,OAAA,CAAQ;QAQrB,CAAK;QACD,KAPK,sBAAA,CAAuB,YAAC,EAAa,CAO9C;YACM,IAAN,gBAAA,CAPU,OAAA,GAOV,CAPoB,MAAA,CAAO,OAAW,CAAA,CAAO;YAQvC,OAAO,GAAbA,UAAA,CAAA,EAAA,EAPkB,IAAI,EAOtB,EAP2B,OAAA,EAAS,WAAA,CAAY,IAAC,CAAI,OAAC,EAAQ,OAAA,CAAQ,EAOtE,CAPuE,CAAE;YAQnE,MAAN,CAPa,OAAA,CAAQ;QAQrB,CAAK;QACD,KAPK,sBAAA,CAAuB,gBAAC,EAAiB,CAOlD;YACM,IAAN,gBAAA,CAPU,KAAA,GAOV,CAPkB,MAAA,CAAO,OAAW,CAAA,CAAM;YAQpC,OAAO,GAAbA,UAAA,CAAA,EAAA,EAPkB,IAAI,EAOtB,EAP2B,OAAA,EAAS,iBAAA,CAAkB,IAAC,CAAI,OAAC,EAAQ,KAAA,CAAM,EAO1E,CAP2E,CAAE;YAQvE,MAAN,CAPa,OAAA,CAAQ;QAQrB,CAAK;QACD,KAPK,sBAAA,CAAuB,4BAAC,EAA6B,CAO9D;YACM,IAAN,gBAAA,CAPU,OAAA,GAOV,CAPoB,MAAA,CAAO,OAAW,CAAA,CAAiC;YAQjE,OAAO,GAAbA,UAAA,CAAA,EAAA,EACW,IAPC,EAMZ,EAEQ,IAAI,EAPE,oBAAA,CAQJ,IAAI,CAPC,IAAC,EAQN,OAAO,CAPC,UAAC,EAQT,OAAO,CAPC,MAAC,EAQT,OAAO,CAPC,gBAAC,CAQV,EAPT,CAQO,CAPC;YAQF,MAAN,CAPa,OAAA,CAAQ;QAQrB,CAAK;QACD,KAPK,sBAAA,CAAuB,mBAAC,EAAoB,CAOrD;YACM,MAAN,CAPa,KAAA,CAAM,IAAC,EAAK,SAAA,EAAW,kBAAA,CAQ5B,IAAI,CAPC,OAAC,EAQN,MAAM,CAPC,OAAC,CAAO,KAAC,CAAK,OAAC,EAQtB,MAAM,CAPC,OAAC,CAAO,WAAC,CAQjB,CAPC,CAAC;QAQT,CAAK;QACD,KAPK,sBAAA,CAAuB,oBAAC,EAAqB,CAOtD;YACM,IAAN,gBAAA,CAPU,WAAA,GAAc,2BAAA,CAQhB,IAAI,CAPC,IAAC,EAQN,MAAM,CAPC,OAAC,EAQR,KAAK,EACL,KAAK,CACN,CAPC;YAQF,EAAN,CAAA,CAAU,WAPC,KAAe,IAAA,CAAK,IAAC,CAOhC,CAPqC,CAOrC;gBACQ,OAAO,GAAfA,UAAA,CAAA,EAAA,EAPoB,IAAI,EAOxB,EAP6B,IAAA,EAAM,WAAA,EAOnC,CAP+C,CAAE;gBAQzC,MAAR,CAPe,OAAA,CAAQ;YAQvB,CAAO;YAPP,IAAA,CAAa,CAAb;gBAQQ,MAAR,CAPe,IAAA,CAAK;YAQpB,CAAO;QACP,CAAK;QACD,KAPK,sBAAA,CAAuB,mBAAC,EAAoB,CAOrD;YACM,IAAN,gBAAA,CAPU,WAAA,GAAc,2BAAA,CAQhB,IAAI,CAPC,IAAC,EAQN,MAAM,CAPC,OAAC,EAQR,KAAK,EACL,IAAI,CACL,CAPC;YAQF,EAAN,CAAA,CAAU,WAPC,KAAe,IAAA,CAAK,IAAC,CAOhC,CAPqC,CAOrC;gBACQ,OAAO,GAAfA,UAAA,CAAA,EAAA,EAPoB,IAAI,EAOxB,EAP6B,IAAA,EAAM,WAAA,EAOnC,CAP+C,CAAE;gBAQzC,MAAR,CAPe,OAAA,CAAQ;YAQvB,CAAO;YAPP,IAAA,CAAa,CAAb;gBAQQ,MAAR,CAPe,IAAA,CAAK;YAQpB,CAAO;QACP,CAAK;QACD,KAPK,sBAAA,CAAuB,kBAAC,EAAmB,CAOpD;YACM,IAAN,gBAAA,CAPU,WAAA,GAAc,2BAAA,CAQhB,IAAI,CAPC,IAAC,EAQN,MAAM,CAPC,OAAC,EAQR,KAAK,EACL,IAAI,CACL,CAPC;YAQF,WAAW,GAPG,mBAAA,CAAoB,WAAC,EAAY,MAAA,CAAO,OAAC,EAAQ,KAAA,CAAM,CAAC;YAQtE,EAAN,CAAA,CAAU,WAPC,KAAe,IAAA,CAAK,IAAC,CAOhC,CAPqC,CAOrC;gBACQ,OAAO,GAAfA,UAAA,CAAA,EAAA,EAPoB,IAAI,EAOxB,EAP6B,IAAA,EAAM,WAAA,EAOnC,CAP+C,CAAE;gBAQzC,MAAR,CAPe,OAAA,CAAQ;YAQvB,CAAO;YAPP,IAAA,CAAa,CAAb;gBAQQ,MAAR,CAPe,IAAA,CAAK;YAQpB,CAAO;QACP,CAAK;QACD,KAPK,sBAAA,CAAuB,qBAAC,EAAsB,CAOvD;YACM,IAAN,gBAAA,CAPU,UAAA,GAOV,CAPuB,MAAA,CAAO,OAAW,CAAA,CAAmB;YAQtD,EAAN,CAAA,CACQ,IAAI,CAPC,IAAC,CAAI,UAAC,CAAU,IAAC,CAAI;gBAQ1B,IAAI,CAPC,IAAC,CAAI,UAAC,CAAU,IAAC,CAAI,CAAC,UAAC,CAAU,EAAC,CAQzC,CADN,CANQ,CAMR;gBAEQ,IAAR,gBAAA,CAPY,QAAA,GAAW,IAAA,CAAK,IAAC,CAAI,UAAC,CAAU,IAAC,CAAI,CAAC,UAAC,CAAU,EAAC,CAAE,CAAC;gBASzD,EAAR,CAAA,CAAY,QAPC,CAAQ,KAAC,KAAS,KAAA,IAAS,QAAA,CAAS,KAAC,KAAS,SAAA,CAO3D,CAPsE,CAOtE;;oBAEU,OAAO,GAAjBA,UAAA,CAAA,EAAA,EACe,IAPC,EAMhB,EAEY,IAAI,EAPE,mBAAA,CAAoB,IAAC,CAAI,IAAC,EAAK,UAAA,CAAW,EAK5D,CAGW,CAPC;oBAQF,MAAV,CAPiB,OAAA,CAAQ;gBAQzB,CAAS;gBAPT,IAAA,CAAe,CAAf;;oBASU,OAAO,GAAjBA,UAAA,CAAA,EAAA,EACe,IAPC,EAMhB,EAEY,IAAI,EAPE,mBAAA,CAAoB,IAAC,CAAI,IAAC,EAAK,MAAA,CAAO,OAAC,EAAQ,SAAA,CAAU,EAK3E,CAGW,CAPC;oBAQF,MAAV,CAPiB,OAAA,CAAQ;gBAQzB,CAAS;YACT,CAAO;YACD,MAAN,CAPa,IAAA,CAAK;QAQlB,CAAK;QACD,KAPK,sBAAA,CAAuB,cAAC,EAAe,CAOhD;YACM,IAAN,gBAAA,CAPU,OAAA,GAAU,CAOpB,CAPoB,MAAW,CAO/B,CAAA,CAPmD,OAAC,CAAO;YAQrD,IAAN,gBAAA,CAPU,SAAA,GAAgC,iBAAA,CAQlC,IAAI,CAPC,IAAC,EAQN,OAAO,CAPC,GAAC,EAQT,OAAO,CAPC,OAAC,CAQV,CAPC;YAQF,OAAO,GAAbA,UAAA,CAAA,EAAA,EAPkB,IAAI,EAOtB,EAP2B,UAAA,EAAY,IAAA,CAAK,UAAC,GAAY,CAAA,EAOzD,CAP2D,CAAE;YAQvD,GAAN,CAAA,CAPgC,IAOhC,EAAA,GAAA,CAPgC,EAAA,SAOhC,GAPgC,SAAA,EAAA,EAOhC,GAAA,SAAA,CAAA,MAPgC,EAAA,EAOhC,EAPgC,EAOhC,CAAA;gBAAW,IAPI,aAAA,GAOf,SAAA,CAAA,EAAA,CAPe,CAOf;gBACQ,EAAR,CAAA,CAAY,aAPC,CAAa,KAAC,KAAS,SAAA,CAOpC,CAP+C,CAO/C;oBACU,OAAO,CAPC,UAAC,EAAU,CAAE;gBAQ/B,CAAS;gBAPT,IAAA,CAAe,EAAf,CAAA,CAAe,aAAK,CAAa,KAAC,KAAS,SAAA,CAA3C,CAAsD,CAAtD;oBAQU,OAAO,CAPC,UAAC,EAAU,CAAE;gBAQ/B,CAAS;gBAPT,IAAA,CAAe,EAAf,CAAA,CAAe,aAAK,CAAa,KAAC,KAAS,SAAA,CAA3C,CAAsD,CAAtD;oBAQU,OAAO,CAPC,UAAC,EAAU,CAAE;gBAQ/B,CAAS;gBAPT,IAAA,CAAe,CAAf;oBAQU,MAPM,IAAI,KAAA,CAAM,gBAAC,GAAkB,aAAA,CAAc,KAAC,CAAK,CAAC;gBAQlE,CAAS;YACT,CAAO;YACD,MAAN,CAPa,OAAA,CAAQ;QAQrB,CAAK;QACD,KAPK,sBAAA,CAAuB,iBAAC,CAAiB;QAQ9C,KAPK,sBAAA,CAAuB,cAAC,EAAe,CAOhD;;YAEM,IAAN,gBAAA,CAPU,OAAA,GAOV,CAPoB,MAAA,CAAO,OAAwB,CAAA,CAAC;YAQ9C,OAAO,GAPG,IAAA,CAAK;YAQf,GAAN,CAAA,CAP+B,IAO/B,EAAA,GAAA,CAP+B,EAAA,SAO/B,GAAA,OAP+B,EAAA,EAO/B,GAAA,SAAA,CAAA,MAP+B,EAAA,EAO/B,EAP+B,EAO/B,CAAA;gBAAW,IAPI,YAAA,GAOf,SAAA,CAAA,EAAA,CAPe,CAOf;gBACQ,OAAO,GAPG,sBAAA,CAAuB,OAAC,EAAQ,YAAA,CAAa,CAAC;YAQhE,CAAO;YACD,OAAO,GAAbA,UAAA,CAAA,EAAA,EAPkB,OAAI,EAOtB,EAP8B,UAAA,EAAY,IAAA,CAAK,YAAC,CAAY,GAAG,CAAA,EAO/D,CAPiE,CAAE;YAQ7D,MAAN,CAPa,OAAA,CAAQ;QAQrB,CAAK;QACD,KAPK,sBAAA,CAAuB,YAAC,EAAa,CAO9C;YACM,IAAN,gBAAA,CAPU,OAAA,GAAU,CAOpB,CAPoB,MAAW,CAO/B,CAAA,CAPkD,OAAC,CAAO;YAQpD,OAAO,GAAbA,UAAA,CAAA,EAAA,EACW,IAPC,EAMZ,EAEQ,IAAI,EAPE,sBAAA,CAAuB,IAAC,CAAI,IAAC,EAAK,OAAA,CAAQ,GAAC,EAAI,OAAA,CAAQ,OAAC,CAAO,EAK7E,CAGO,CAPC;YAQF,MAAN,CAPa,OAAA,CAAQ;QAQrB,CAAK;QACD,KAPK,sBAAA,CAAuB,WAAC,EAAY,CAO7C;YACM,MAAN,CAPa,sBAAA,CAAuB;QAQpC,CAAK;QACD,KAPK,sBAAA,CAAuB,aAAC,EAAc,CAO/C;YACM,MAAN,CAPa,YAAA,CAAa,IAAC,CAAI,CAAC;QAQhC,CAAK;QACD;YACE,MAAN,CAPa,IAAA,CAAK;IAQlB,CAAG;AACH,CAAC;AAED,IAPa,OAAA,GAAU,uBAAA,CAOvB;AD7WO,IAAM,oBAAA,GAAuB,IAAI,cAAA,CAAiC,sBAAE,CAAsB,CAAC;;;;;;AAMlG,oBAJC,IAAA,EAAA,MAAA;IAKC,MAAF,CAJS,IAAI,WAAA,CAAY,IAAC,EAAK,MAAA,CAAO,CAAC;AAKvC,CAAC;;;;;AAKD;IACE,MAAF,CAJS,IAAI,oBAAA,EAAqB,CAAE;AAKpC,CAAC;;;;;;AAMD,wBACE,KAAS,EACT,MAAI;IAEJ,MAAF,CAPS,IAAI,kBAAA,CAAmB,KAAC,EAAM,MAAA,CAAO,CAAC;AAQ/C,CAAC;;;;;AAKD,mBAVC,MAAA;IAWC,MAAF,CAVS;QAWL;YACE,OAAO,EAVE,WAAA;YAWT,UAAQ,EAVI,UAAA;YAWZ,IAAC,EAVK,CAAA,UAAE,EAAW,oBAAA,CAAqB;SAWzC;QACD;YACE,OAAO,EAVE,oBAAA;YAWT,UAAA,EAVY,gBAAA;SAWb;QACD;YACE,OAAO,EAVE,kBAAA;YAWT,UAAU,EAVE,cAAA;YAWZ,IAAI,EAVE,CAAA,KAAE,EAAM,oBAAA,CAAqB;SAWpC;QACD;YACE,OAAO,EAVE,oBAAA;YAWT,QAAQ,EAVE,MAAA;SAWX;KACF,CAVC;AAWJ,CAAC;AACD,IAAA,iBAAA,GAAA,CAAA;IAAA;IAkCA,CAAC;;;;;IAzCE,iBAAH,CAAA,SAAG,GAYH,UAZG,MAAA;QAaC,MAAJ,CAZW;YAaL,QAAQ,EAZE,iBAAA;YAaV,SAAS,EAZE,SAAA,CAAU,MAAC,CAAM;SAa7B,CAZC;IAaN,CAAG,CAAH;IAXO,iBAAP,CAAA,UAAO,GAAoC;QAa3C,EAZE,IAAA,EAAM,QAAA,EAAU,IAAA,EAAM,CAAA;oBAatB,YAAY,EAZE;wBAaZ,4BAA4B;wBAC5B,wBAAwB;wBACxB,uBAAuB;qBACxB;oBACD,OAAO,EAZE;wBAaP,aAAa,CAZC,UAAC,CAAU,CAAC,kBAAC,CAAkB,CAAC;wBAOhD,WAAA,CANc,UAAC,CAAU,aAAC,EAAc,OAAA,EAAS,EAAA,CAAG;qBAanD;oBACD,OAAO,EAZE;wBAaP,4BAA4B;wBAC5B,wBAAwB;wBACxB,uBAAuB;qBACxB;iBACF,EAZC,EAAG;KAaJ,CAZC;;;;IAED,iBAAD,CAAA,cAAC,GAAA,cAAA,MAAD,CAAC,EAeA,CAfD,CAAA,CAeC,CAAC;IACF,MAAA,CAAA,iBAAC,CAAD;AAlCA,CAAA,EAAA,CAAA,CAAA;ADzEA;;GAEG;;"}